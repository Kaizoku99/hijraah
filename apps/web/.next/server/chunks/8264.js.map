{"version":3,"file":"8264.js","mappings":"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","sources":["webpack://@hijraah/web/./src/i18n/navigation.ts","webpack://@hijraah/web/./src/types/auth.ts","webpack://@hijraah/web/./src/lib/auth/hooks.tsx","webpack://@hijraah/web/../../node_modules/.pnpm/@supabase+realtime-js@2.11.10_bufferutil@4.0.9/node_modules/@supabase/realtime-js/dist/main/ sync?5147","webpack://@hijraah/web/./src/components/ui/separator.tsx","webpack://@hijraah/web/./src/components/ui/avatar.tsx","webpack://@hijraah/web/./src/lib/supabase/client.ts","webpack://@hijraah/web/./src/components/ui/sidebar.tsx","webpack://@hijraah/web/./src/components/ui/sheet.tsx","webpack://@hijraah/web/ignored|E:\\downloads\\Hijraah\\node_modules\\.pnpm\\ws@8.18.2_bufferutil@4.0.9\\node_modules\\ws\\lib|utf-8-validate","webpack://@hijraah/web/./src/lib/auth/errors.ts","webpack://@hijraah/web/./src/lib/auth/rbac.ts","webpack://@hijraah/web/./src/components/ui/input.tsx","webpack://@hijraah/web/./src/components/ui/tooltip.tsx","webpack://@hijraah/web/./src/components/ui/dropdown-menu.tsx","webpack://@hijraah/web/./src/components/ui/skeleton.tsx","webpack://@hijraah/web/./src/hooks/use-mobile.tsx"],"sourcesContent":["import { createSharedPathnamesNavigation } from \"next-intl/navigation\";\r\n\r\nimport { locales } from \"@/i18n/i18n\";\r\n\r\nexport const { Link, redirect, usePathname, useRouter } =\r\n  createSharedPathnamesNavigation({\r\n    locales,\r\n  });\r\n","// This file is the single source of truth for Authentication and RBAC related types\r\n\r\nimport { Session, User, SupabaseClient } from \"@supabase/supabase-js\";\r\n\r\nimport { Database } from \"@/types/database.types\";\r\n\r\n// RBAC Types (from former rbac.ts)\r\nexport type Permission = string;\r\n\r\nexport interface Role {\r\n  name: string;\r\n  description?: string;\r\n  permissions: Permission[];\r\n  inherits?: string[];\r\n}\r\n\r\nexport interface RBACOptions {\r\n  roles?: Record<string, Role>;\r\n  superAdminRole?: string;\r\n  enableCache?: boolean;\r\n  extractRoles?: (user: ExtendedUser) => string[];\r\n}\r\n\r\n// Auth Types (from former src/lib/auth/types.ts)\r\nexport interface UserSettings {\r\n  theme: string;\r\n  language: string;\r\n  emailNotifications: boolean;\r\n  documentReminders: boolean;\r\n  applicationUpdates: boolean;\r\n  twoFactorAuth: boolean;\r\n}\r\n\r\nexport type ExtendedUser = User & {\r\n  fullName: string;\r\n  avatarUrl: string;\r\n  role: Database[\"public\"][\"Enums\"][\"user_role\"]; // Updated to use the enum from database\r\n  isAdmin?: boolean; // Consider deriving from a hasPermission('admin.access') or similar\r\n  settings?: UserSettings;\r\n  hasTwoFactorAuth?: () => boolean;\r\n  updateSettings?: (settings: Partial<UserSettings>) => ExtendedUser;\r\n  toObject?: () => Record<string, any>;\r\n};\r\n\r\nexport type AuthProvider = \"google\" | \"github\" | \"email\" | \"phone\" | \"azure\"; // Added azure from old types.ts\r\n\r\nexport interface AuthContextType {\r\n  user: ExtendedUser | null;\r\n  session: Session | null;\r\n  isLoading: boolean;\r\n  isAuthenticated: boolean;\r\n  error: any | null; // Consider a more specific error type\r\n  signIn: (provider: AuthProvider, options?: any) => Promise<void>;\r\n  signOut: () => Promise<void>;\r\n  refreshSession: () => Promise<void>;\r\n  signUp: (options: {\r\n    email: string;\r\n    password: string;\r\n    fullName?: string;\r\n    redirectTo?: string;\r\n  }) => Promise<any>; // Consider specific result type\r\n  resetPassword: (email: string, redirectTo?: string) => Promise<boolean>;\r\n  updatePassword: (password: string) => Promise<boolean>;\r\n  hasPermission?: (permission: Permission) => boolean; // Added from old types.ts\r\n}\r\n\r\nexport interface AuthMiddlewareContext {\r\n  user: ExtendedUser | null;\r\n  session: Session | null;\r\n  isAuthenticated: boolean;\r\n  supabase: SupabaseClient<Database>; // Use SupabaseClient<Database> here\r\n  hasPermission?: (permission: Permission) => boolean;\r\n}\r\n\r\n// Utility function (can live here or be moved to a helpers file if it grows)\r\nexport function createExtendedUser(user: User | null): ExtendedUser | null {\r\n  if (!user) return null;\r\n\r\n  const role = (user.user_metadata?.role ||\r\n    \"client\") as Database[\"public\"][\"Enums\"][\"user_role\"];\r\n  const isAdmin = role === \"admin\"; // This isAdmin flag should be used cautiously, prefer RBAC checks\r\n\r\n  const settings: UserSettings = {\r\n    theme: user.user_metadata?.settings_theme || \"system\",\r\n    language: user.user_metadata?.settings_language || \"en\",\r\n    emailNotifications:\r\n      user.user_metadata?.settings_emailNotifications || false,\r\n    documentReminders: user.user_metadata?.settings_documentReminders || false,\r\n    applicationUpdates:\r\n      user.user_metadata?.settings_applicationUpdates || false,\r\n    twoFactorAuth: user.user_metadata?.settings_twoFactorAuth || false,\r\n  };\r\n\r\n  const extendedUser: ExtendedUser = {\r\n    ...user,\r\n    fullName:\r\n      user.user_metadata?.full_name || user.email?.split(\"@\")[0] || \"User\",\r\n    avatarUrl: user.user_metadata?.avatar_url || \"\",\r\n    role,\r\n    isAdmin,\r\n    settings,\r\n    hasTwoFactorAuth: () => settings.twoFactorAuth,\r\n    updateSettings: (newSettings: Partial<UserSettings>) => {\r\n      const updatedSettings = { ...settings, ...newSettings };\r\n      return createExtendedUser({\r\n        ...user,\r\n        user_metadata: {\r\n          ...user.user_metadata,\r\n          settings_theme: updatedSettings.theme,\r\n          settings_language: updatedSettings.language,\r\n          settings_emailNotifications: updatedSettings.emailNotifications,\r\n          settings_documentReminders: updatedSettings.documentReminders,\r\n          settings_applicationUpdates: updatedSettings.applicationUpdates,\r\n          settings_twoFactorAuth: updatedSettings.twoFactorAuth,\r\n        },\r\n      }) as ExtendedUser;\r\n    },\r\n    toObject: () => ({\r\n      id: user.id,\r\n      email: user.email,\r\n      fullName:\r\n        user.user_metadata?.full_name || user.email?.split(\"@\")[0] || \"User\",\r\n      avatarUrl: user.user_metadata?.avatar_url || \"\",\r\n      role,\r\n      settings,\r\n    }),\r\n  };\r\n\r\n  return extendedUser;\r\n}\r\n\r\n// Types from the old src/types/types.ts that were not in src/lib/auth/types.ts\r\n// (Excluding duplicates like ExtendedUser, AuthProvider which are merged above)\r\n\r\nexport interface AuthResult {\r\n  session: Session | null;\r\n  user: User | null; // Should this be ExtendedUser?\r\n  error: Error | null;\r\n}\r\n\r\nexport interface AuthState {\r\n  user: ExtendedUser | null;\r\n  session: Session | null;\r\n  isLoading: boolean;\r\n  isAuthenticated: boolean;\r\n  error?: Error | null;\r\n}\r\n\r\nexport interface LoginCredentials {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\nexport interface SignUpData {\r\n  email: string;\r\n  password: string;\r\n  fullName?: string;\r\n  metadata?: Record<string, any>;\r\n}\r\n\r\nexport interface AuthOptions {\r\n  redirectTo?: string;\r\n  email?: string;\r\n  metadata?: Record<string, any>;\r\n  provider?: {\r\n    id: string;\r\n    scopes?: string;\r\n  };\r\n}\r\n\r\nexport type AuthChangeCallback = (\r\n  session: Session | null,\r\n  user: User | null // Should this be ExtendedUser?\r\n) => void | Promise<void>;\r\n\r\nexport interface InitOptions {\r\n  refreshSession?: boolean;\r\n  autoRecoverSession?: boolean;\r\n  refreshOptions?: {\r\n    enableAutoRefresh?: boolean;\r\n    refreshThreshold?: number;\r\n  };\r\n}\r\n","\"use client\";\r\n\r\nimport { Session, User } from \"@supabase/supabase-js\";\r\nimport {\r\n  useState,\r\n  useEffect,\r\n  createContext,\r\n  useContext,\r\n  useCallback,\r\n  ReactNode,\r\n} from \"react\";\r\n\r\nimport { createClient } from \"@/lib/supabase/client\";\r\n\r\nimport { hasPermission } from \"./rbac\";\r\nimport {\r\n  AuthContextType,\r\n  type AuthProvider,\r\n  ExtendedUser,\r\n  createExtendedUser,\r\n} from \"@/types/auth\";\r\n\r\n// Create Auth Context\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\n/**\r\n * Provider component to wrap your app and provide authentication state\r\n */\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n  const [user, setUser] = useState<ExtendedUser | null>(null);\r\n  const [session, setSession] = useState<Session | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const supabase = createClient();\r\n\r\n  // Refresh session\r\n  const refreshSession = useCallback(async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const {\r\n        data: { session },\r\n        error: sessionError,\r\n      } = await supabase.auth.getSession();\r\n\r\n      if (sessionError) throw sessionError;\r\n\r\n      if (session) {\r\n        const {\r\n          data: { user },\r\n          error: userError,\r\n        } = await supabase.auth.getUser();\r\n        if (userError) throw userError;\r\n\r\n        setSession(session);\r\n        setUser(createExtendedUser(user));\r\n      } else {\r\n        setSession(null);\r\n        setUser(null);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error refreshing session:\", error);\r\n      setSession(null);\r\n      setUser(null);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [supabase]);\r\n\r\n  // Sign in with provider\r\n  const signIn = useCallback(\r\n    async (provider: AuthProvider, options?: any) => {\r\n      setIsLoading(true);\r\n      try {\r\n        if (provider === \"email\") {\r\n          if (!options?.email || !options?.password) {\r\n            throw new Error(\"Email and password required for email sign in\");\r\n          }\r\n          const { data, error } = await supabase.auth.signInWithPassword({\r\n            email: options.email,\r\n            password: options.password,\r\n          });\r\n\r\n          if (error) throw error;\r\n\r\n          // Email sign-in provides session immediately\r\n          if (data?.session) {\r\n            setSession(data.session);\r\n            setUser(createExtendedUser(data.session.user));\r\n          }\r\n        } else {\r\n          // OAuth provider sign-in redirects to provider\r\n          const { error } = await supabase.auth.signInWithOAuth({\r\n            provider: provider as any,\r\n            options: options?.redirectTo\r\n              ? { redirectTo: options.redirectTo }\r\n              : undefined,\r\n          });\r\n\r\n          if (error) throw error;\r\n          // No session update here as user will be redirected\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error signing in:\", error);\r\n        throw error;\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    },\r\n    [supabase]\r\n  );\r\n\r\n  // Sign out\r\n  const signOut = useCallback(async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const { error } = await supabase.auth.signOut();\r\n      if (error) throw error;\r\n\r\n      setSession(null);\r\n      setUser(null);\r\n    } catch (error) {\r\n      console.error(\"Error signing out:\", error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [supabase]);\r\n\r\n  // Sign up with email/password\r\n  const signUp = useCallback(\r\n    async (options: {\r\n      email: string;\r\n      password: string;\r\n      fullName?: string;\r\n      redirectTo?: string;\r\n    }) => {\r\n      setIsLoading(true);\r\n      try {\r\n        if (!options.email || !options.password) {\r\n          throw new Error(\"Email and password required for sign up\");\r\n        }\r\n\r\n        const { data, error } = await supabase.auth.signUp({\r\n          email: options.email,\r\n          password: options.password,\r\n          options: {\r\n            data: {\r\n              full_name: options.fullName || \"\",\r\n            },\r\n            emailRedirectTo:\r\n              options.redirectTo || `${window.location.origin}/auth/callback`,\r\n          },\r\n        });\r\n\r\n        if (error) throw error;\r\n        return data;\r\n      } catch (error) {\r\n        console.error(\"Error signing up:\", error);\r\n        throw error;\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    },\r\n    [supabase]\r\n  );\r\n\r\n  // Reset password\r\n  const resetPassword = useCallback(\r\n    async (email: string, redirectTo?: string) => {\r\n      setIsLoading(true);\r\n      try {\r\n        const { error } = await supabase.auth.resetPasswordForEmail(email, {\r\n          redirectTo:\r\n            redirectTo || `${window.location.origin}/auth/reset-password`,\r\n        });\r\n\r\n        if (error) throw error;\r\n        return true;\r\n      } catch (error) {\r\n        console.error(\"Error resetting password:\", error);\r\n        throw error;\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    },\r\n    [supabase]\r\n  );\r\n\r\n  // Update password\r\n  const updatePassword = useCallback(\r\n    async (password: string) => {\r\n      setIsLoading(true);\r\n      try {\r\n        const { error } = await supabase.auth.updateUser({\r\n          password,\r\n        });\r\n\r\n        if (error) throw error;\r\n        return true;\r\n      } catch (error) {\r\n        console.error(\"Error updating password:\", error);\r\n        throw error;\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    },\r\n    [supabase]\r\n  );\r\n\r\n  // Set up auth listener\r\n  useEffect(() => {\r\n    const {\r\n      data: { subscription },\r\n    } = supabase.auth.onAuthStateChange(async (_event, session) => {\r\n      setSession(session);\r\n\r\n      // When auth state changes, get authenticated user data\r\n      if (session) {\r\n        const { data: userData, error } = await supabase.auth.getUser();\r\n        if (!error && userData) {\r\n          setUser(createExtendedUser(userData.user));\r\n        } else {\r\n          setUser(null);\r\n        }\r\n      } else {\r\n        setUser(null);\r\n      }\r\n\r\n      setIsLoading(false);\r\n    });\r\n\r\n    // Get initial session\r\n    refreshSession();\r\n\r\n    return () => {\r\n      subscription.unsubscribe();\r\n    };\r\n  }, [supabase, refreshSession]);\r\n\r\n  const value: AuthContextType = {\r\n    user,\r\n    session,\r\n    isLoading,\r\n    isAuthenticated: !!session,\r\n    signIn,\r\n    signOut,\r\n    refreshSession,\r\n    // Add these new functions\r\n    signUp,\r\n    resetPassword,\r\n    updatePassword,\r\n    error: null, // For backwards compatibility\r\n  };\r\n\r\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\r\n}\r\n\r\n/**\r\n * Hook to access authentication state and methods\r\n */\r\nexport function useAuth(): AuthContextType {\r\n  const context = useContext(AuthContext);\r\n\r\n  if (context === undefined) {\r\n    throw new Error(\"useAuth must be used within an AuthProvider\");\r\n  }\r\n\r\n  return context;\r\n}\r\n\r\n/**\r\n * Hook to get the current user\r\n */\r\nexport function useUser(): ExtendedUser | null {\r\n  const { user } = useAuth();\r\n  return user;\r\n}\r\n\r\n/**\r\n * Hook to check if the user is authenticated\r\n */\r\nexport function useIsAuthenticated(): boolean {\r\n  const { isAuthenticated } = useAuth();\r\n  return isAuthenticated;\r\n}\r\n\r\n/**\r\n * Hook to check if the user has a specific role\r\n */\r\nexport function useHasRole(role: string): boolean {\r\n  const user = useUser();\r\n  return user?.role === role;\r\n}\r\n\r\n/**\r\n * Hook to check if the user has a specific permission\r\n */\r\nexport function useHasPermission(permission: string): boolean {\r\n  const user = useUser();\r\n  return hasPermission(user, permission);\r\n}\r\n\r\n/**\r\n * Hook to access the current session - for compatibility with next-auth style\r\n */\r\nexport function useSession() {\r\n  const context = useContext(AuthContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useSession must be used within an AuthProvider\");\r\n  }\r\n  // Simplified return for direct session access if preferred elsewhere,\r\n  // but useAuth provides more comprehensive state.\r\n  return {\r\n    session: context.session,\r\n    user: context.user,\r\n    isLoading: context.isLoading,\r\n    error: null, // Assuming errors are handled and reported differently, or add context.error\r\n    refreshSession: context.refreshSession, // Expose refreshSession\r\n  };\r\n}\r\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 15668;\nmodule.exports = webpackEmptyContext;","\"use client\"\r\n\r\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\r\nimport * as React from \"react\"\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Separator({\r\n  className,\r\n  orientation = \"horizontal\",\r\n  decorative = true,\r\n  ...props\r\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\r\n  return (\r\n    <SeparatorPrimitive.Root\r\n      data-slot=\"separator-root\"\r\n      decorative={decorative}\r\n      orientation={orientation}\r\n      className={cn(\r\n        \"bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Separator }\r\n","/**\r\n * @deprecated This file is maintained for backward compatibility.\r\n * Please import from '@/ui/atoms/avatar' instead.\r\n */\r\n\r\n'use client'\r\n\r\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst avatarVariants = cva(\r\n    \"relative flex shrink-0 overflow-hidden rounded-full\",\r\n    {\r\n        variants: {\r\n            size: {\r\n                sm: \"h-8 w-8\",\r\n                md: \"h-10 w-10\",\r\n                lg: \"h-12 w-12\",\r\n            },\r\n        },\r\n        defaultVariants: {\r\n            size: \"md\",\r\n        },\r\n    }\r\n)\r\n\r\nconst Avatar = React.forwardRef<\r\n    React.ElementRef<typeof AvatarPrimitive.Root>,\r\n    React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root> &\r\n    VariantProps<typeof avatarVariants>\r\n>(({ className, size, ...props }, ref) => (\r\n    <AvatarPrimitive.Root\r\n        ref={ref}\r\n        className={cn(avatarVariants({ size }), className)}\r\n        {...props}\r\n    />\r\n))\r\nAvatar.displayName = AvatarPrimitive.Root.displayName\r\n\r\nconst AvatarImage = React.forwardRef<\r\n    React.ElementRef<typeof AvatarPrimitive.Image>,\r\n    React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\r\n>(({ className, ...props }, ref) => (\r\n    <AvatarPrimitive.Image\r\n        ref={ref}\r\n        className={cn(\"aspect-square h-full w-full\", className)}\r\n        {...props}\r\n    />\r\n))\r\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\r\n\r\nconst AvatarFallback = React.forwardRef<\r\n    React.ElementRef<typeof AvatarPrimitive.Fallback>,\r\n    React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\r\n>(({ className, ...props }, ref) => (\r\n    <AvatarPrimitive.Fallback\r\n        ref={ref}\r\n        className={cn(\r\n            \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback }\r\n","import {\n  createBrowserClient as _createBrowserClient,\n  createServerClient as _createServerClient,\n} from \"@supabase/ssr\";\nimport {\n  createClient as createSupabaseClient,\n  SupabaseClient,\n  type SupabaseClient as CoreSupabaseClient,\n} from \"@supabase/supabase-js\";\nimport fetchPonyfill from \"fetch-ponyfill\";\nimport { useMemo } from \"react\";\n\nimport type { Database } from \"@/types/database.types\";\n\nimport type { ReadonlyRequestCookies } from \"next/dist/server/web/spec-extension/adapters/request-cookies\";\n\n// Get fetch from ponyfill to avoid undici issues like 'Failed to execute 'fetch' on 'Window': Invalid name'\n// See: https://github.com/vercel/next.js/issues/54827\nconst { fetch: ponyfetch } = fetchPonyfill();\n\n// Environment variables for Supabase\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\nconst serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n\n// Type alias for clarity\nexport type TypedSupabaseClient = SupabaseClient<Database>;\nexport type TypedSSRSupabaseClient = CoreSupabaseClient<Database>;\n\n// --------------------------------------\n// Shared header builders\n// --------------------------------------\n\n/**\n * Default headers that must accompany every request made via a browser or server client\n * which authenticates with the anonymous public key.  This prevents 401 responses from\n * PostgREST that indicate the `apikey` header is missing.\n */\nconst anonymousHeaders: Record<string, string> | undefined = supabaseAnonKey\n  ? { apikey: supabaseAnonKey }\n  : undefined;\n\n/**\n * Default headers for the service-role client.  These include the service key as both the\n * `apikey` header and (where relevant) the `Authorization` header is still injected by the\n * libraryʼs internal `fetchWithAuth` helper.\n */\nconst serviceHeaders: Record<string, string> | undefined = serviceRoleKey\n  ? { apikey: serviceRoleKey }\n  : undefined;\n\n// Helper function to check essential env vars\nfunction checkPublicEnvVars() {\n  if (process.env.NODE_ENV === \"development\") {\n    console.debug(\n      \"[Supabase Env] NEXT_PUBLIC_SUPABASE_URL present?\",\n      !!supabaseUrl\n    );\n    console.debug(\n      \"[Supabase Env] NEXT_PUBLIC_SUPABASE_ANON_KEY present?\",\n      !!supabaseAnonKey\n    );\n    console.debug(\n      \"[Supabase Env] SUPABASE_SERVICE_ROLE_KEY present?\",\n      !!serviceRoleKey\n    );\n  }\n  if (!supabaseUrl || !supabaseAnonKey) {\n    console.error(\n      \"Missing environment variables NEXT_PUBLIC_SUPABASE_URL or NEXT_PUBLIC_SUPABASE_ANON_KEY\"\n    );\n    throw new Error(\"Supabase URL or Anon Key is missing.\");\n  }\n}\n\n// --------------------------------------\n// Patch global `fetch` on the **server** to use `ponyfetch`.\n// This avoids the infamous Undici \"Socket closed unexpectedly\" bug on\n// Windows/Node 18-20 without relying on fragile Undici internals.\n// The patch is idempotent and NO-OPs in the browser.\n\nif (typeof window === \"undefined\") {\n  const g = globalThis as any;\n  if (!g.__USING_PONYFETCH__) {\n    g.fetch = ponyfetch as unknown as typeof fetch;\n    g.__USING_PONYFETCH__ = true;\n    console.info(\"[Supabase] Server fetch patched to use ponyfetch ✅\");\n  }\n}\n\n// --- Browser Client (Singleton with Hook) ---\nlet browserClientInstance: TypedSSRSupabaseClient | undefined;\n\nfunction getSupabaseBrowserClient(): TypedSSRSupabaseClient {\n  checkPublicEnvVars();\n  if (browserClientInstance) {\n    return browserClientInstance;\n  }\n\n  // In the browser we rely on the native `fetch` implementation to ensure that\n  // request headers (apikey/Authorization) are preserved. Injecting a ponyfill\n  // here has proven to strip custom headers in certain edge-cases, leading to\n  // 401 \"No API key found\" responses. Therefore we only attach the required\n  // headers and leave `fetch` undefined so @supabase/ssr uses the global one.\n\n  browserClientInstance = _createBrowserClient<Database>(\n    supabaseUrl!,\n    supabaseAnonKey!,\n    {\n      global: {\n        headers: anonymousHeaders,\n      },\n    }\n  );\n\n  if (typeof window !== \"undefined\") {\n    console.debug(\"[Supabase] anon key present?\", !!supabaseAnonKey);\n  }\n\n  return browserClientInstance;\n}\n\n/**\n * Hook to get a Supabase client instance suitable for Browser/Client Components.\n * Uses a singleton pattern to ensure only one client instance is created.\n * Leverages @supabase/ssr for proper session handling with Next.js App Router.\n * @returns Memoized Supabase client instance for browser usage.\n */\nexport function useSupabaseBrowser(): TypedSSRSupabaseClient {\n  return useMemo(getSupabaseBrowserClient, []);\n}\n\n// This is the primary export for creating a browser client directly\nexport function createClient(): TypedSSRSupabaseClient {\n  checkPublicEnvVars();\n  return _createBrowserClient<Database>(supabaseUrl!, supabaseAnonKey!, {\n    global: {\n      headers: anonymousHeaders,\n    },\n  });\n}\n\n// --- Server Client (For Server Components, Route Handlers, Server Actions) ---\n\n/**\n * Creates a Supabase client suitable for use in Server Components, Server Actions,\n * and Route Handlers that require access to cookies.\n * @param cookieStore A ReadonlyRequestCookies instance (e.g., from `next/headers`).\n * @returns Supabase client instance for server-side usage with cookie handling.\n */\nexport function createSupabaseServerClient(\n  cookieStore: ReadonlyRequestCookies\n): TypedSSRSupabaseClient {\n  checkPublicEnvVars();\n  return _createServerClient<Database>(supabaseUrl!, supabaseAnonKey!, {\n    cookies: {\n      get(name: string) {\n        return cookieStore.get(name)?.value;\n      },\n      set(name: string, value: string, options) {\n        try {\n          cookieStore.set(name, value, options);\n        } catch (error) {\n          console.warn(`Failed to set cookie '${name}':`, error);\n        }\n      },\n      remove(name: string, options) {\n        try {\n          cookieStore.set(name, \"\", options);\n        } catch (error) {\n          console.warn(`Failed to remove cookie '${name}':`, error);\n        }\n      },\n    },\n    global: {\n      fetch: ponyfetch,\n      headers: anonymousHeaders,\n    },\n  });\n}\n\n// --- Service Role Client (Admin Operations) ---\n\n/**\n * Creates a Supabase client with the service role key for admin operations.\n * WARNING: This client bypasses RLS. Use only in trusted server-side environments\n * with proper authorization checks. NEVER expose the service role key to the browser.\n * @returns Supabase client instance with service_role privileges.\n */\nexport function createSupabaseServiceClient(): TypedSupabaseClient {\n  if (!supabaseUrl || !serviceRoleKey) {\n    console.error(\"Supabase URL or Service Role Key is missing\");\n    throw new Error(\"Supabase service client configuration is incomplete.\");\n  }\n\n  return createSupabaseClient<Database>(supabaseUrl, serviceRoleKey, {\n    auth: {\n      autoRefreshToken: false,\n      persistSession: false,\n    },\n    global: {\n      fetch: ponyfetch,\n      headers: serviceHeaders,\n    },\n  });\n}\n\n// --- Client with Custom Auth Token ---\n\n/**\n * Creates a Supabase client authenticated with a custom JWT token.\n * Useful for scenarios like testing or specific server-to-server interactions.\n * @param authToken JWT token for authentication.\n * @returns Authenticated Supabase client instance.\n */\nexport function createClientWithAuth(authToken: string): TypedSupabaseClient {\n  checkPublicEnvVars();\n  return createSupabaseClient<Database>(supabaseUrl!, supabaseAnonKey!, {\n    auth: {\n      persistSession: false,\n      autoRefreshToken: false,\n      detectSessionInUrl: false,\n    },\n    global: {\n      fetch: ponyfetch,\n      headers: {\n        Authorization: `Bearer ${authToken}`,\n        ...(anonymousHeaders ?? {}),\n      },\n    },\n  });\n}\n\n// ======================================\n// EDGE RUNTIME CLIENT\n// ======================================\n\n/**\n * Creates a Supabase client suitable for Edge Runtime environments (e.g., Edge Functions, Middleware).\n * Reads cookies from the Request headers. Requires manual handling for setting/removing cookies\n * via Response headers in the calling Edge function.\n * @param request The Request object from the Edge Function context.\n */\nexport const createEdgeClient = (request: Request): TypedSSRSupabaseClient => {\n  checkPublicEnvVars();\n  const cookieHeader = request.headers.get(\"cookie\") ?? \"\";\n\n  return _createServerClient<Database>(supabaseUrl!, supabaseAnonKey!, {\n    cookies: {\n      get(name: string) {\n        const match = cookieHeader.match(new RegExp(`(^|;)\\s*${name}=([^;]+)`));\n        return match?.[2];\n      },\n      set(name: string, value: string, options) {\n        console.warn(\n          `Attempted to set cookie '${name}' in createEdgeClient. This must be handled by the caller via Response headers.`\n        );\n      },\n      remove(name: string, options) {\n        console.warn(\n          `Attempted to remove cookie '${name}' in createEdgeClient. This must be handled by the caller via Response headers.`\n        );\n      },\n    },\n    global: {\n      fetch: ponyfetch,\n      headers: anonymousHeaders,\n    },\n  });\n};\n\n// --- Remove Deprecated Compatibility Exports ---\n\n/**\n * @deprecated Use `useSupabaseBrowser` in Client Components or `createSupabaseServerClient` in Server Components/Actions/Routes.\n */\nexport const getSupabaseClient = getSupabaseBrowserClient;\n\n/**\n * @deprecated Use `createSupabaseServiceClient` for elevated privilege operations.\n */\nexport const createServiceClient = createSupabaseServiceClient;\n\n/**\n * @deprecated Prefer specific client creation (`useSupabaseBrowser`, `createSupabaseServerClient`, `createSupabaseServiceClient`). Avoid direct default export usage.\n */\nexport const supabase = getSupabaseBrowserClient();\n","\"use client\"\r\n\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { VariantProps, cva } from \"class-variance-authority\"\r\nimport { PanelLeftIcon } from \"lucide-react\"\r\nimport * as React from \"react\"\r\n\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport {\r\n  Sheet,\r\n  SheetContent,\r\n  SheetDescription,\r\n  SheetHeader,\r\n  SheetTitle,\r\n} from '@/components/ui/sheet'\r\nimport { Skeleton } from '@/components/ui/skeleton'\r\nimport {\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipProvider,\r\n  TooltipTrigger,\r\n} from '@/components/ui/tooltip'\r\nimport { useIsMobile } from '@/hooks/use-mobile'\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\r\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\r\nconst SIDEBAR_WIDTH = \"16rem\"\r\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\r\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\r\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\r\n\r\ntype SidebarContextProps = {\r\n  state: \"expanded\" | \"collapsed\"\r\n  open: boolean\r\n  setOpen: (open: boolean) => void\r\n  openMobile: boolean\r\n  setOpenMobile: (open: boolean) => void\r\n  isMobile: boolean\r\n  toggleSidebar: () => void\r\n}\r\n\r\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\r\n\r\nfunction useSidebar() {\r\n  const context = React.useContext(SidebarContext)\r\n  if (!context) {\r\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\r\n  }\r\n\r\n  return context\r\n}\r\n\r\nfunction SidebarProvider({\r\n  defaultOpen = true,\r\n  open: openProp,\r\n  onOpenChange: setOpenProp,\r\n  className,\r\n  style,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<\"div\"> & {\r\n  defaultOpen?: boolean\r\n  open?: boolean\r\n  onOpenChange?: (open: boolean) => void\r\n}) {\r\n  const isMobile = useIsMobile()\r\n  const [openMobile, setOpenMobile] = React.useState(false)\r\n\r\n  // This is the internal state of the sidebar.\r\n  // We use openProp and setOpenProp for control from outside the component.\r\n  const [_open, _setOpen] = React.useState(defaultOpen)\r\n  const open = openProp ?? _open\r\n  const setOpen = React.useCallback(\r\n    (value: boolean | ((value: boolean) => boolean)) => {\r\n      const openState = typeof value === \"function\" ? value(open) : value\r\n      if (setOpenProp) {\r\n        setOpenProp(openState)\r\n      } else {\r\n        _setOpen(openState)\r\n      }\r\n\r\n      // This sets the cookie to keep the sidebar state.\r\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\r\n    },\r\n    [setOpenProp, open]\r\n  )\r\n\r\n  // Helper to toggle the sidebar.\r\n  const toggleSidebar = React.useCallback(() => {\r\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\r\n  }, [isMobile, setOpen, setOpenMobile])\r\n\r\n  // Adds a keyboard shortcut to toggle the sidebar.\r\n  React.useEffect(() => {\r\n    const handleKeyDown = (event: KeyboardEvent) => {\r\n      if (\r\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\r\n        (event.metaKey || event.ctrlKey)\r\n      ) {\r\n        event.preventDefault()\r\n        toggleSidebar()\r\n      }\r\n    }\r\n\r\n    window.addEventListener(\"keydown\", handleKeyDown)\r\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\r\n  }, [toggleSidebar])\r\n\r\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\r\n  // This makes it easier to style the sidebar with Tailwind classes.\r\n  const state = open ? \"expanded\" : \"collapsed\"\r\n\r\n  const contextValue = React.useMemo<SidebarContextProps>(\r\n    () => ({\r\n      state,\r\n      open,\r\n      setOpen,\r\n      isMobile,\r\n      openMobile,\r\n      setOpenMobile,\r\n      toggleSidebar,\r\n    }),\r\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\r\n  )\r\n\r\n  return (\r\n    <SidebarContext.Provider value={contextValue}>\r\n      <TooltipProvider delayDuration={0}>\r\n        <div\r\n          data-slot=\"sidebar-wrapper\"\r\n          style={\r\n            {\r\n              \"--sidebar-width\": SIDEBAR_WIDTH,\r\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\r\n              ...style,\r\n            } as React.CSSProperties\r\n          }\r\n          className={cn(\r\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\r\n            className\r\n          )}\r\n          {...props}\r\n        >\r\n          {children}\r\n        </div>\r\n      </TooltipProvider>\r\n    </SidebarContext.Provider>\r\n  )\r\n}\r\n\r\nfunction Sidebar({\r\n  side = \"left\",\r\n  variant = \"sidebar\",\r\n  collapsible = \"offcanvas\",\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<\"div\"> & {\r\n  side?: \"left\" | \"right\"\r\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\r\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\r\n}) {\r\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\r\n\r\n  if (collapsible === \"none\") {\r\n    return (\r\n      <div\r\n        data-slot=\"sidebar\"\r\n        className={cn(\r\n          \"bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col\",\r\n          className\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (isMobile) {\r\n    return (\r\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\r\n        <SheetContent\r\n          data-sidebar=\"sidebar\"\r\n          data-slot=\"sidebar\"\r\n          data-mobile=\"true\"\r\n          className=\"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden\"\r\n          style={\r\n            {\r\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\r\n            } as React.CSSProperties\r\n          }\r\n          side={side}\r\n        >\r\n          <SheetHeader className=\"sr-only\">\r\n            <SheetTitle>Sidebar</SheetTitle>\r\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\r\n          </SheetHeader>\r\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\r\n        </SheetContent>\r\n      </Sheet>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"group peer text-sidebar-foreground hidden md:block\"\r\n      data-state={state}\r\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\r\n      data-variant={variant}\r\n      data-side={side}\r\n      data-slot=\"sidebar\"\r\n    >\r\n      {/* This is what handles the sidebar gap on desktop */}\r\n      <div\r\n        data-slot=\"sidebar-gap\"\r\n        className={cn(\r\n          \"relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear\",\r\n          \"group-data-[collapsible=offcanvas]:w-0\",\r\n          \"group-data-[side=right]:rotate-180\",\r\n          variant === \"floating\" || variant === \"inset\"\r\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]\"\r\n            : \"group-data-[collapsible=icon]:w-(--sidebar-width-icon)\"\r\n        )}\r\n      />\r\n      <div\r\n        data-slot=\"sidebar-container\"\r\n        className={cn(\r\n          \"fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex\",\r\n          side === \"left\"\r\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\r\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\r\n          // Adjust the padding for floating and inset variants.\r\n          variant === \"floating\" || variant === \"inset\"\r\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]\"\r\n            : \"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l\",\r\n          className\r\n        )}\r\n        {...props}\r\n      >\r\n        <div\r\n          data-sidebar=\"sidebar\"\r\n          data-slot=\"sidebar-inner\"\r\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\r\n        >\r\n          {children}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction SidebarTrigger({\r\n  className,\r\n  onClick,\r\n  ...props\r\n}: React.ComponentProps<typeof Button>) {\r\n  const { toggleSidebar } = useSidebar()\r\n\r\n  return (\r\n    <Button\r\n      data-sidebar=\"trigger\"\r\n      data-slot=\"sidebar-trigger\"\r\n      variant=\"ghost\"\r\n      size=\"icon\"\r\n      className={cn(\"size-7\", className)}\r\n      onClick={(event) => {\r\n        onClick?.(event)\r\n        toggleSidebar()\r\n      }}\r\n      {...props}\r\n    >\r\n      <PanelLeftIcon />\r\n      <span className=\"sr-only\">Toggle Sidebar</span>\r\n    </Button>\r\n  )\r\n}\r\n\r\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\r\n  const { toggleSidebar } = useSidebar()\r\n\r\n  return (\r\n    <button\r\n      data-sidebar=\"rail\"\r\n      data-slot=\"sidebar-rail\"\r\n      aria-label=\"Toggle Sidebar\"\r\n      tabIndex={-1}\r\n      onClick={toggleSidebar}\r\n      title=\"Toggle Sidebar\"\r\n      className={cn(\r\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\r\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\r\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\r\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\r\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\r\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\r\n  return (\r\n    <main\r\n      data-slot=\"sidebar-inset\"\r\n      className={cn(\r\n        \"bg-background relative flex w-full flex-1 flex-col\",\r\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarInput({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof Input>) {\r\n  return (\r\n    <Input\r\n      data-slot=\"sidebar-input\"\r\n      data-sidebar=\"input\"\r\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"sidebar-header\"\r\n      data-sidebar=\"header\"\r\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"sidebar-footer\"\r\n      data-sidebar=\"footer\"\r\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarSeparator({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof Separator>) {\r\n  return (\r\n    <Separator\r\n      data-slot=\"sidebar-separator\"\r\n      data-sidebar=\"separator\"\r\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"sidebar-content\"\r\n      data-sidebar=\"content\"\r\n      className={cn(\r\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"sidebar-group\"\r\n      data-sidebar=\"group\"\r\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarGroupLabel({\r\n  className,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\r\n  const Comp = asChild ? Slot : \"div\"\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"sidebar-group-label\"\r\n      data-sidebar=\"group-label\"\r\n      className={cn(\r\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\r\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarGroupAction({\r\n  className,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\r\n  const Comp = asChild ? Slot : \"button\"\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"sidebar-group-action\"\r\n      data-sidebar=\"group-action\"\r\n      className={cn(\r\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\r\n        // Increases the hit area of the button on mobile.\r\n        \"after:absolute after:-inset-2 md:after:hidden\",\r\n        \"group-data-[collapsible=icon]:hidden\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarGroupContent({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"sidebar-group-content\"\r\n      data-sidebar=\"group-content\"\r\n      className={cn(\"w-full text-sm\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\r\n  return (\r\n    <ul\r\n      data-slot=\"sidebar-menu\"\r\n      data-sidebar=\"menu\"\r\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\r\n  return (\r\n    <li\r\n      data-slot=\"sidebar-menu-item\"\r\n      data-sidebar=\"menu-item\"\r\n      className={cn(\"group/menu-item relative\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nconst sidebarMenuButtonVariants = cva(\r\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\r\n        outline:\r\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\r\n      },\r\n      size: {\r\n        default: \"h-8 text-sm\",\r\n        sm: \"h-7 text-xs\",\r\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nfunction SidebarMenuButton({\r\n  asChild = false,\r\n  isActive = false,\r\n  variant = \"default\",\r\n  size = \"default\",\r\n  tooltip,\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<\"button\"> & {\r\n  asChild?: boolean\r\n  isActive?: boolean\r\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\r\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\r\n  const Comp = asChild ? Slot : \"button\"\r\n  const { isMobile, state } = useSidebar()\r\n\r\n  const button = (\r\n    <Comp\r\n      data-slot=\"sidebar-menu-button\"\r\n      data-sidebar=\"menu-button\"\r\n      data-size={size}\r\n      data-active={isActive}\r\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\r\n      {...props}\r\n    />\r\n  )\r\n\r\n  if (!tooltip) {\r\n    return button\r\n  }\r\n\r\n  if (typeof tooltip === \"string\") {\r\n    tooltip = {\r\n      children: tooltip,\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Tooltip>\r\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\r\n      <TooltipContent\r\n        side=\"right\"\r\n        align=\"center\"\r\n        hidden={state !== \"collapsed\" || isMobile}\r\n        {...tooltip}\r\n      />\r\n    </Tooltip>\r\n  )\r\n}\r\n\r\nfunction SidebarMenuAction({\r\n  className,\r\n  asChild = false,\r\n  showOnHover = false,\r\n  ...props\r\n}: React.ComponentProps<\"button\"> & {\r\n  asChild?: boolean\r\n  showOnHover?: boolean\r\n}) {\r\n  const Comp = asChild ? Slot : \"button\"\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"sidebar-menu-action\"\r\n      data-sidebar=\"menu-action\"\r\n      className={cn(\r\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\r\n        // Increases the hit area of the button on mobile.\r\n        \"after:absolute after:-inset-2 md:after:hidden\",\r\n        \"peer-data-[size=sm]/menu-button:top-1\",\r\n        \"peer-data-[size=default]/menu-button:top-1.5\",\r\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\r\n        \"group-data-[collapsible=icon]:hidden\",\r\n        showOnHover &&\r\n        \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarMenuBadge({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"sidebar-menu-badge\"\r\n      data-sidebar=\"menu-badge\"\r\n      className={cn(\r\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\r\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\r\n        \"peer-data-[size=sm]/menu-button:top-1\",\r\n        \"peer-data-[size=default]/menu-button:top-1.5\",\r\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\r\n        \"group-data-[collapsible=icon]:hidden\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarMenuSkeleton({\r\n  className,\r\n  showIcon = false,\r\n  ...props\r\n}: React.ComponentProps<\"div\"> & {\r\n  showIcon?: boolean\r\n}) {\r\n  // Random width between 50 to 90%.\r\n  const width = React.useMemo(() => {\r\n    return `${Math.floor(Math.random() * 40) + 50}%`\r\n  }, [])\r\n\r\n  return (\r\n    <div\r\n      data-slot=\"sidebar-menu-skeleton\"\r\n      data-sidebar=\"menu-skeleton\"\r\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\r\n      {...props}\r\n    >\r\n      {showIcon && (\r\n        <Skeleton\r\n          className=\"size-4 rounded-md\"\r\n          data-sidebar=\"menu-skeleton-icon\"\r\n        />\r\n      )}\r\n      <Skeleton\r\n        className=\"h-4 max-w-(--skeleton-width) flex-1\"\r\n        data-sidebar=\"menu-skeleton-text\"\r\n        style={\r\n          {\r\n            \"--skeleton-width\": width,\r\n          } as React.CSSProperties\r\n        }\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\r\n  return (\r\n    <ul\r\n      data-slot=\"sidebar-menu-sub\"\r\n      data-sidebar=\"menu-sub\"\r\n      className={cn(\r\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\r\n        \"group-data-[collapsible=icon]:hidden\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarMenuSubItem({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<\"li\">) {\r\n  return (\r\n    <li\r\n      data-slot=\"sidebar-menu-sub-item\"\r\n      data-sidebar=\"menu-sub-item\"\r\n      className={cn(\"group/menu-sub-item relative\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarMenuSubButton({\r\n  asChild = false,\r\n  size = \"md\",\r\n  isActive = false,\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<\"a\"> & {\r\n  asChild?: boolean\r\n  size?: \"sm\" | \"md\"\r\n  isActive?: boolean\r\n}) {\r\n  const Comp = asChild ? Slot : \"a\"\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"sidebar-menu-sub-button\"\r\n      data-sidebar=\"menu-sub-button\"\r\n      data-size={size}\r\n      data-active={isActive}\r\n      className={cn(\r\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\r\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\r\n        size === \"sm\" && \"text-xs\",\r\n        size === \"md\" && \"text-sm\",\r\n        \"group-data-[collapsible=icon]:hidden\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Sidebar,\r\n  SidebarContent,\r\n  SidebarFooter,\r\n  SidebarGroup,\r\n  SidebarGroupAction,\r\n  SidebarGroupContent,\r\n  SidebarGroupLabel,\r\n  SidebarHeader,\r\n  SidebarInput,\r\n  SidebarInset,\r\n  SidebarMenu,\r\n  SidebarMenuAction,\r\n  SidebarMenuBadge,\r\n  SidebarMenuButton,\r\n  SidebarMenuItem,\r\n  SidebarMenuSkeleton,\r\n  SidebarMenuSub,\r\n  SidebarMenuSubButton,\r\n  SidebarMenuSubItem,\r\n  SidebarProvider,\r\n  SidebarRail,\r\n  SidebarSeparator,\r\n  SidebarTrigger,\r\n  useSidebar,\r\n}\r\n","\"use client\"\r\n\r\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\r\nimport { XIcon } from \"lucide-react\"\r\nimport * as React from \"react\"\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Sheet({ ...props }: React.ComponentProps<typeof SheetPrimitive.Root>) {\r\n  return <SheetPrimitive.Root data-slot=\"sheet\" {...props} />\r\n}\r\n\r\nfunction SheetTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof SheetPrimitive.Trigger>) {\r\n  return <SheetPrimitive.Trigger data-slot=\"sheet-trigger\" {...props} />\r\n}\r\n\r\nfunction SheetClose({\r\n  ...props\r\n}: React.ComponentProps<typeof SheetPrimitive.Close>) {\r\n  return <SheetPrimitive.Close data-slot=\"sheet-close\" {...props} />\r\n}\r\n\r\nfunction SheetPortal({\r\n  ...props\r\n}: React.ComponentProps<typeof SheetPrimitive.Portal>) {\r\n  return <SheetPrimitive.Portal data-slot=\"sheet-portal\" {...props} />\r\n}\r\n\r\nfunction SheetOverlay({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SheetPrimitive.Overlay>) {\r\n  return (\r\n    <SheetPrimitive.Overlay\r\n      data-slot=\"sheet-overlay\"\r\n      className={cn(\r\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SheetContent({\r\n  className,\r\n  children,\r\n  side = \"right\",\r\n  ...props\r\n}: React.ComponentProps<typeof SheetPrimitive.Content> & {\r\n  side?: \"top\" | \"right\" | \"bottom\" | \"left\"\r\n}) {\r\n  return (\r\n    <SheetPortal>\r\n      <SheetOverlay />\r\n      <SheetPrimitive.Content\r\n        data-slot=\"sheet-content\"\r\n        className={cn(\r\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\r\n          side === \"right\" &&\r\n          \"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm\",\r\n          side === \"left\" &&\r\n          \"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm\",\r\n          side === \"top\" &&\r\n          \"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b\",\r\n          side === \"bottom\" &&\r\n          \"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t\",\r\n          className\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        <SheetPrimitive.Close className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none\">\r\n          <XIcon className=\"size-4\" />\r\n          <span className=\"sr-only\">Close</span>\r\n        </SheetPrimitive.Close>\r\n      </SheetPrimitive.Content>\r\n    </SheetPortal>\r\n  )\r\n}\r\n\r\nfunction SheetHeader({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"sheet-header\"\r\n      className={cn(\"flex flex-col gap-1.5 p-4\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SheetFooter({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"sheet-footer\"\r\n      className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SheetTitle({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SheetPrimitive.Title>) {\r\n  return (\r\n    <SheetPrimitive.Title\r\n      data-slot=\"sheet-title\"\r\n      className={cn(\"text-foreground font-semibold\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SheetDescription({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SheetPrimitive.Description>) {\r\n  return (\r\n    <SheetPrimitive.Description\r\n      data-slot=\"sheet-description\"\r\n      className={cn(\"text-muted-foreground text-sm\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Sheet,\r\n  SheetTrigger,\r\n  SheetClose,\r\n  SheetContent,\r\n  SheetHeader,\r\n  SheetFooter,\r\n  SheetTitle,\r\n  SheetDescription,\r\n}\r\n","/* (ignored) */","import { AuthError as SupabaseAuthError } from '@supabase/supabase-js';\r\n\r\n/**\r\n * Base class for all authentication errors\r\n */\r\nexport class AuthError extends Error {\r\n  public code: string;\r\n  public status?: number;\r\n  public originalError?: Error;\r\n\r\n  constructor(message: string, code: string, originalError?: Error, status?: number) {\r\n    super(message);\r\n    this.name = 'AuthError';\r\n    this.code = code;\r\n    this.status = status;\r\n    this.originalError = originalError;\r\n  }\r\n\r\n  /**\r\n   * Create a JSON representation of the error\r\n   */\r\n  toJSON() {\r\n    return {\r\n      name: this.name,\r\n      message: this.message,\r\n      code: this.code,\r\n      status: this.status\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Create error response for API routes\r\n   */\r\n  toResponse() {\r\n    return new Response(\r\n      JSON.stringify({\r\n        error: {\r\n          message: this.message,\r\n          code: this.code\r\n        }\r\n      }),\r\n      {\r\n        status: this.status || 500,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      }\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * Error thrown when user is not authenticated\r\n */\r\nexport class UnauthorizedError extends AuthError {\r\n  constructor(message = 'Authentication required', originalError?: Error) {\r\n    super(message, 'auth/unauthorized', originalError, 401);\r\n    this.name = 'UnauthorizedError';\r\n  }\r\n}\r\n\r\n/**\r\n * Error thrown when user doesn't have sufficient permissions\r\n */\r\nexport class ForbiddenError extends AuthError {\r\n  constructor(message = 'Insufficient permissions', originalError?: Error) {\r\n    super(message, 'auth/forbidden', originalError, 403);\r\n    this.name = 'ForbiddenError';\r\n  }\r\n}\r\n\r\n/**\r\n * Error thrown when there's an issue with session management\r\n */\r\nexport class SessionError extends AuthError {\r\n  constructor(message = 'Session error', originalError?: Error) {\r\n    super(message, 'auth/session-error', originalError, 400);\r\n    this.name = 'SessionError';\r\n  }\r\n}\r\n\r\n/**\r\n * Error thrown when credentials are invalid\r\n */\r\nexport class InvalidCredentialsError extends AuthError {\r\n  constructor(message = 'Invalid credentials', originalError?: Error) {\r\n    super(message, 'auth/invalid-credentials', originalError, 401);\r\n    this.name = 'InvalidCredentialsError';\r\n  }\r\n}\r\n\r\n/**\r\n * Error thrown for user-related operations failures\r\n */\r\nexport class UserOperationError extends AuthError {\r\n  constructor(message = 'User operation failed', originalError?: Error) {\r\n    super(message, 'auth/user-operation-failed', originalError, 400);\r\n    this.name = 'UserOperationError';\r\n  }\r\n}\r\n\r\n/**\r\n * Error thrown for configuration issues\r\n */\r\nexport class ConfigurationError extends AuthError {\r\n  constructor(message = 'Authentication configuration error', originalError?: Error) {\r\n    super(message, 'auth/configuration-error', originalError, 500);\r\n    this.name = 'ConfigurationError';\r\n  }\r\n}\r\n\r\n// Interface for any error with status code\r\ninterface ErrorWithStatus extends Error {\r\n  status?: number;\r\n  code?: string | number;\r\n}\r\n\r\n/**\r\n * Converts Supabase errors to our custom error types\r\n */\r\nexport function handleSupabaseError(error: Error | SupabaseAuthError | ErrorWithStatus | null | undefined): AuthError {\r\n  if (!error) {\r\n    return new AuthError('Unknown error', 'auth/unknown');\r\n  }\r\n\r\n  // Errors with status property\r\n  const errorWithStatus = error as ErrorWithStatus;\r\n  if (errorWithStatus.status) {\r\n    switch (errorWithStatus.status) {\r\n      case 401:\r\n        return new UnauthorizedError(error.message, error);\r\n      case 403:\r\n        return new ForbiddenError(error.message, error);\r\n      case 400:\r\n        if (error.message.includes('credentials')) {\r\n          return new InvalidCredentialsError(error.message, error);\r\n        }\r\n        if (error.message.includes('session')) {\r\n          return new SessionError(error.message, error);\r\n        }\r\n        return new UserOperationError(error.message, error);\r\n      default:\r\n        return new AuthError(\r\n          error.message, \r\n          `auth/error-${errorWithStatus.status || 'unknown'}`, \r\n          error, \r\n          errorWithStatus.status\r\n        );\r\n    }\r\n  }\r\n\r\n  // Generic errors\r\n  return new AuthError(error.message || 'Unknown error', 'auth/unknown-error', error);\r\n}\r\n\r\n/**\r\n * Helper to safely handle auth operations with consistent error handling\r\n */\r\nexport async function safeAuthOperation<T>(\r\n  operation: () => Promise<T>,\r\n  errorMessage = 'Authentication operation failed'\r\n): Promise<T> {\r\n  try {\r\n    return await operation();\r\n  } catch (error) {\r\n    throw handleSupabaseError(error as Error);\r\n  }\r\n}\r\n\r\n/**\r\n * Middleware for handling auth errors in API routes\r\n */\r\nexport function createAuthErrorHandler() {\r\n  return (error: unknown) => {\r\n    if (error instanceof AuthError) {\r\n      return error.toResponse();\r\n    }\r\n    \r\n    const authError = handleSupabaseError(error as Error);\r\n    return authError.toResponse();\r\n  };\r\n} ","import { ForbiddenError } from \"./errors\";\r\nimport { ExtendedUser } from \"./types\";\r\n\r\n/**\r\n * Permission string type\r\n */\r\nexport type Permission = string;\r\n\r\n/**\r\n * Role definition with permissions and optional inheritance\r\n */\r\nexport interface Role {\r\n  /**\r\n   * Name of the role\r\n   */\r\n  name: string;\r\n\r\n  /**\r\n   * Description of the role\r\n   */\r\n  description?: string;\r\n\r\n  /**\r\n   * Array of permissions assigned to this role\r\n   */\r\n  permissions: Permission[];\r\n\r\n  /**\r\n   * Optional array of parent role names this role inherits from\r\n   */\r\n  inherits?: string[];\r\n}\r\n\r\n/**\r\n * Configuration options for the RBAC manager\r\n */\r\nexport interface RBACOptions {\r\n  /**\r\n   * Default roles and their permissions\r\n   */\r\n  roles?: Record<string, Role>;\r\n\r\n  /**\r\n   * Name of super admin role that has all permissions\r\n   * @default 'admin'\r\n   */\r\n  superAdminRole?: string;\r\n\r\n  /**\r\n   * Enable permission caching for performance\r\n   * @default true\r\n   */\r\n  enableCache?: boolean;\r\n\r\n  /**\r\n   * Custom function to extract roles from a user\r\n   */\r\n  extractRoles?: (user: ExtendedUser) => string[];\r\n}\r\n\r\n/**\r\n * Default RBAC options\r\n */\r\nconst defaultRBACOptions: RBACOptions = {\r\n  roles: {},\r\n  superAdminRole: \"admin\",\r\n  enableCache: true,\r\n};\r\n\r\n/**\r\n * Role-Based Access Control Manager\r\n * TODO: The current superAdminRole check (userRoles.includes(this.superAdminRole))\r\n * relies on user.role from metadata (via extractRoles default). This may not align with the\r\n * authoritative admin status determined by verifyUserIsAdmin(userId) which checks the\r\n * 'admin_users' table. For true unification, this superAdmin check should eventually be\r\n * reconciled with the authoritative server-side verification. This might involve making RBAC\r\n * methods async, passing a verified admin status, or other architectural changes.\r\n * For now, critical admin checks should use the useIsAdmin() hook or verifyUserIsAdmin() action directly.\r\n */\r\nexport class RBACManager {\r\n  private roles: Record<string, Role>;\r\n  private superAdminRole: string;\r\n  private enableCache: boolean;\r\n  private extractRoles: (user: ExtendedUser) => string[];\r\n  private permissionCache: Map<string, Set<Permission>> = new Map();\r\n\r\n  constructor(options: RBACOptions = {}) {\r\n    const config = { ...defaultRBACOptions, ...options };\r\n    this.roles = config.roles || {};\r\n    this.superAdminRole = config.superAdminRole || \"admin\";\r\n    this.enableCache = config.enableCache ?? true;\r\n    this.extractRoles =\r\n      config.extractRoles ||\r\n      ((user: ExtendedUser) => {\r\n        return [user.role || \"user\"];\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Define a new role with permissions\r\n   */\r\n  defineRole(role: Role): void {\r\n    this.roles[role.name] = role;\r\n\r\n    // Clear cache if caching is enabled\r\n    if (this.enableCache) {\r\n      this.permissionCache.clear();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Define multiple roles at once\r\n   */\r\n  defineRoles(roles: Record<string, Role>): void {\r\n    this.roles = { ...this.roles, ...roles };\r\n\r\n    // Clear cache if caching is enabled\r\n    if (this.enableCache) {\r\n      this.permissionCache.clear();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get all permissions for a given role\r\n   */\r\n  private getRolePermissions(\r\n    roleName: string,\r\n    visited: Set<string> = new Set()\r\n  ): Set<Permission> {\r\n    // Avoid circular dependencies\r\n    if (visited.has(roleName)) {\r\n      return new Set();\r\n    }\r\n\r\n    // Mark this role as visited\r\n    visited.add(roleName);\r\n\r\n    // Get the role definition\r\n    const role = this.roles[roleName];\r\n    if (!role) {\r\n      return new Set();\r\n    }\r\n\r\n    // Start with this role's permissions\r\n    const permissions = new Set(role.permissions);\r\n\r\n    // Add inherited permissions\r\n    if (role.inherits && role.inherits.length > 0) {\r\n      for (const parentRole of role.inherits) {\r\n        const parentPermissions = this.getRolePermissions(parentRole, visited);\r\n        parentPermissions.forEach((permission) => permissions.add(permission));\r\n      }\r\n    }\r\n\r\n    return permissions;\r\n  }\r\n\r\n  /**\r\n   * Get all permissions for a user based on their roles\r\n   */\r\n  getUserPermissions(user: ExtendedUser | null): Set<Permission> {\r\n    if (!user) {\r\n      return new Set();\r\n    }\r\n\r\n    // Extract roles from user\r\n    const userRoles = this.extractRoles(user);\r\n\r\n    // Check for super admin role\r\n    if (userRoles.includes(this.superAdminRole)) {\r\n      return new Set([\"*\"]); // Special wildcard permission for super admins\r\n    }\r\n\r\n    // Check the cache first if enabled\r\n    if (this.enableCache) {\r\n      const cacheKey = userRoles.sort().join(\",\");\r\n      const cachedPermissions = this.permissionCache.get(cacheKey);\r\n\r\n      if (cachedPermissions) {\r\n        return cachedPermissions;\r\n      }\r\n    }\r\n\r\n    // Collect all permissions from all roles\r\n    const allPermissions = new Set<Permission>();\r\n    for (const roleName of userRoles) {\r\n      const rolePermissions = this.getRolePermissions(roleName);\r\n      rolePermissions.forEach((permission) => allPermissions.add(permission));\r\n    }\r\n\r\n    // Save to cache if enabled\r\n    if (this.enableCache && userRoles.length > 0) {\r\n      const cacheKey = userRoles.sort().join(\",\");\r\n      this.permissionCache.set(cacheKey, allPermissions);\r\n    }\r\n\r\n    return allPermissions;\r\n  }\r\n\r\n  /**\r\n   * Check if the user has a specific role\r\n   */\r\n  hasRole(user: ExtendedUser | null, roleName: string): boolean {\r\n    if (!user) return false;\r\n\r\n    const userRoles = this.extractRoles(user);\r\n    return (\r\n      userRoles.includes(roleName) || userRoles.includes(this.superAdminRole)\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Check if the user has a specific permission\r\n   */\r\n  hasPermission(user: ExtendedUser | null, permission: Permission): boolean {\r\n    if (!user) return false;\r\n\r\n    // Get all permissions for the user\r\n    const permissions = this.getUserPermissions(user);\r\n\r\n    // Super admin has all permissions\r\n    if (permissions.has(\"*\")) return true;\r\n\r\n    // Check exact permission\r\n    if (permissions.has(permission)) return true;\r\n\r\n    // Check wildcard permissions\r\n    const parts = permission.split(\":\");\r\n    for (let i = 1; i <= parts.length; i++) {\r\n      const wildcardPermission = [...parts.slice(0, i), \"*\"].join(\":\");\r\n      if (permissions.has(wildcardPermission)) return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Check if the user has any of the specified permissions\r\n   */\r\n  hasAnyPermission(\r\n    user: ExtendedUser | null,\r\n    permissions: Permission[]\r\n  ): boolean {\r\n    return permissions.some((permission) =>\r\n      this.hasPermission(user, permission)\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Check if the user has all of the specified permissions\r\n   */\r\n  hasAllPermissions(\r\n    user: ExtendedUser | null,\r\n    permissions: Permission[]\r\n  ): boolean {\r\n    return permissions.every((permission) =>\r\n      this.hasPermission(user, permission)\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Enforce a permission requirement, throwing an error if not authorized\r\n   */\r\n  enforcePermission(user: ExtendedUser | null, permission: Permission): void {\r\n    if (!this.hasPermission(user, permission)) {\r\n      throw new ForbiddenError(`Missing required permission: ${permission}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Enforce that user has any of the specified permissions\r\n   */\r\n  enforceAnyPermission(\r\n    user: ExtendedUser | null,\r\n    permissions: Permission[]\r\n  ): void {\r\n    if (!this.hasAnyPermission(user, permissions)) {\r\n      throw new ForbiddenError(\r\n        `Missing at least one of the required permissions: ${permissions.join(\", \")}`\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Enforce that user has all of the specified permissions\r\n   */\r\n  enforceAllPermissions(\r\n    user: ExtendedUser | null,\r\n    permissions: Permission[]\r\n  ): void {\r\n    if (!this.hasAllPermissions(user, permissions)) {\r\n      throw new ForbiddenError(\r\n        `Missing some of the required permissions: ${permissions.join(\", \")}`\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create a permission string from resource and action\r\n   */\r\n  createPermission(resource: string, action: string): Permission {\r\n    return `${resource}:${action}`;\r\n  }\r\n}\r\n\r\n// Singleton RBAC manager instance\r\nlet rbacManager: RBACManager | null = null;\r\n\r\n/**\r\n * Get the RBAC manager instance, creating it if it doesn't exist\r\n */\r\nexport function getRBACManager(options?: RBACOptions): RBACManager {\r\n  if (!rbacManager) {\r\n    rbacManager = new RBACManager(options);\r\n  }\r\n  return rbacManager;\r\n}\r\n\r\n/**\r\n * Create a permission string from resource and action\r\n */\r\nexport function createPermission(resource: string, action: string): Permission {\r\n  return `${resource}:${action}`;\r\n}\r\n\r\n/**\r\n * Check if the user has a specific permission\r\n */\r\nexport function hasPermission(\r\n  user: ExtendedUser | null,\r\n  permission: Permission\r\n): boolean {\r\n  return getRBACManager().hasPermission(user, permission);\r\n}\r\n\r\n/**\r\n * Enforce a permission requirement, throwing an error if not authorized\r\n */\r\nexport function enforcePermission(\r\n  user: ExtendedUser | null,\r\n  permission: Permission\r\n): void {\r\n  return getRBACManager().enforcePermission(user, permission);\r\n}\r\n","import * as React from \"react\"\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\r\n  return (\r\n    <input\r\n      type={type}\r\n      data-slot=\"input\"\r\n      className={cn(\r\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\r\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Input }\r\n","\"use client\"\r\n\r\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\r\nimport * as React from \"react\"\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction TooltipProvider({\r\n  delayDuration = 0,\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {\r\n  return (\r\n    <TooltipPrimitive.Provider\r\n      data-slot=\"tooltip-provider\"\r\n      delayDuration={delayDuration}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction Tooltip({\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Root>) {\r\n  return (\r\n    <TooltipProvider>\r\n      <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />\r\n    </TooltipProvider>\r\n  )\r\n}\r\n\r\nfunction TooltipTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {\r\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />\r\n}\r\n\r\nfunction TooltipContent({\r\n  className,\r\n  sideOffset = 0,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\r\n  return (\r\n    <TooltipPrimitive.Portal>\r\n      <TooltipPrimitive.Content\r\n        data-slot=\"tooltip-content\"\r\n        sideOffset={sideOffset}\r\n        className={cn(\r\n          \"bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance\",\r\n          className\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        <TooltipPrimitive.Arrow className=\"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]\" />\r\n      </TooltipPrimitive.Content>\r\n    </TooltipPrimitive.Portal>\r\n  )\r\n}\r\n\r\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\r\n","\"use client\"\r\n\r\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\r\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\"\r\nimport * as React from \"react\"\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction DropdownMenu({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\r\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\r\n}\r\n\r\nfunction DropdownMenuPortal({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Trigger\r\n      data-slot=\"dropdown-menu-trigger\"\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuContent({\r\n  className,\r\n  sideOffset = 4,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Portal>\r\n      <DropdownMenuPrimitive.Content\r\n        data-slot=\"dropdown-menu-content\"\r\n        sideOffset={sideOffset}\r\n        className={cn(\r\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-md\",\r\n          className\r\n        )}\r\n        {...props}\r\n      />\r\n    </DropdownMenuPrimitive.Portal>\r\n  )\r\n}\r\n\r\nfunction DropdownMenuGroup({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuItem({\r\n  className,\r\n  inset,\r\n  variant = \"default\",\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\r\n  inset?: boolean\r\n  variant?: \"default\" | \"destructive\"\r\n}) {\r\n  return (\r\n    <DropdownMenuPrimitive.Item\r\n      data-slot=\"dropdown-menu-item\"\r\n      data-inset={inset}\r\n      data-variant={variant}\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuCheckboxItem({\r\n  className,\r\n  children,\r\n  checked,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\r\n  return (\r\n    <DropdownMenuPrimitive.CheckboxItem\r\n      data-slot=\"dropdown-menu-checkbox-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className\r\n      )}\r\n      checked={checked}\r\n      {...props}\r\n    >\r\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\r\n        <DropdownMenuPrimitive.ItemIndicator>\r\n          <CheckIcon className=\"size-4\" />\r\n        </DropdownMenuPrimitive.ItemIndicator>\r\n      </span>\r\n      {children}\r\n    </DropdownMenuPrimitive.CheckboxItem>\r\n  )\r\n}\r\n\r\nfunction DropdownMenuRadioGroup({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\r\n  return (\r\n    <DropdownMenuPrimitive.RadioGroup\r\n      data-slot=\"dropdown-menu-radio-group\"\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuRadioItem({\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\r\n  return (\r\n    <DropdownMenuPrimitive.RadioItem\r\n      data-slot=\"dropdown-menu-radio-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\r\n        <DropdownMenuPrimitive.ItemIndicator>\r\n          <CircleIcon className=\"size-2 fill-current\" />\r\n        </DropdownMenuPrimitive.ItemIndicator>\r\n      </span>\r\n      {children}\r\n    </DropdownMenuPrimitive.RadioItem>\r\n  )\r\n}\r\n\r\nfunction DropdownMenuLabel({\r\n  className,\r\n  inset,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\r\n  inset?: boolean\r\n}) {\r\n  return (\r\n    <DropdownMenuPrimitive.Label\r\n      data-slot=\"dropdown-menu-label\"\r\n      data-inset={inset}\r\n      className={cn(\r\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuSeparator({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Separator\r\n      data-slot=\"dropdown-menu-separator\"\r\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuShortcut({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<\"span\">) {\r\n  return (\r\n    <span\r\n      data-slot=\"dropdown-menu-shortcut\"\r\n      className={cn(\r\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuSub({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\r\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\r\n}\r\n\r\nfunction DropdownMenuSubTrigger({\r\n  className,\r\n  inset,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\r\n  inset?: boolean\r\n}) {\r\n  return (\r\n    <DropdownMenuPrimitive.SubTrigger\r\n      data-slot=\"dropdown-menu-sub-trigger\"\r\n      data-inset={inset}\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <ChevronRightIcon className=\"ml-auto size-4\" />\r\n    </DropdownMenuPrimitive.SubTrigger>\r\n  )\r\n}\r\n\r\nfunction DropdownMenuSubContent({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\r\n  return (\r\n    <DropdownMenuPrimitive.SubContent\r\n      data-slot=\"dropdown-menu-sub-content\"\r\n      className={cn(\r\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-lg\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  DropdownMenu,\r\n  DropdownMenuPortal,\r\n  DropdownMenuTrigger,\r\n  DropdownMenuContent,\r\n  DropdownMenuGroup,\r\n  DropdownMenuLabel,\r\n  DropdownMenuItem,\r\n  DropdownMenuCheckboxItem,\r\n  DropdownMenuRadioGroup,\r\n  DropdownMenuRadioItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuShortcut,\r\n  DropdownMenuSub,\r\n  DropdownMenuSubTrigger,\r\n  DropdownMenuSubContent,\r\n}\r\n","import { cn } from \"@/lib/utils\"\r\n\r\nfunction Skeleton({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"skeleton\"\r\n      className={cn(\"bg-accent animate-pulse rounded-md\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Skeleton }\r\n","import * as React from 'react';\r\n\r\nconst MOBILE_BREAKPOINT = 768;\r\n\r\nexport function useIsMobile() {\r\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(\r\n    undefined,\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);\r\n    const onChange = () => {\r\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\r\n    };\r\n    mql.addEventListener('change', onChange);\r\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\r\n    return () => mql.removeEventListener('change', onChange);\r\n  }, []);\r\n\r\n  return !!isMobile;\r\n}\r\n"],"names":["Link","redirect","usePathname","useRouter","createSharedPathnamesNavigation","locales","createExtendedUser","user","role","user_metadata","settings","theme","settings_theme","language","settings_language","emailNotifications","settings_emailNotifications","documentReminders","settings_documentReminders","applicationUpdates","settings_applicationUpdates","twoFactorAuth","settings_twoFactorAuth","extendedUser","fullName","full_name","email","split","avatarUrl","avatar_url","isAdmin","hasTwoFactorAuth","updateSettings","updatedSettings","newSettings","toObject","id","AuthContext","createContext","undefined","AuthProvider","children","setUser","useState","session","setSession","isLoading","setIsLoading","supabase","createClient","refreshSession","useCallback","data","error","sessionError","auth","getSession","userError","getUser","console","signIn","provider","options","password","Error","signInWithPassword","signInWithOAuth","redirectTo","signOut","signUp","emailRedirectTo","window","location","origin","resetPassword","resetPasswordForEmail","updatePassword","updateUser","Provider","value","isAuthenticated","useAuth","context","useContext","useUser","useIsAuthenticated","useHasRole","useHasPermission","permission","hasPermission","useSession","Separator","className","orientation","decorative","props","SeparatorPrimitive","data-slot","cn","avatarVariants","cva","variants","size","sm","md","lg","defaultVariants","Avatar","React","ref","AvatarPrimitive","displayName","AvatarImage","AvatarFallback","browserClientInstance","fetch","ponyfetch","fetchPonyfill","supabaseUrl","process","supabaseAnonKey","serviceRoleKey","env","SUPABASE_SERVICE_ROLE_KEY","anonymousHeaders","apikey","checkPublicEnvVars","g","globalThis","__USING_PONYFETCH__","getSupabaseBrowserClient","_createBrowserClient","global","headers","useSupabaseBrowser","useMemo","getSupabaseClient","SidebarContext","useSidebar","SidebarProvider","defaultOpen","open","openProp","onOpenChange","setOpenProp","style","isMobile","useIsMobile","openMobile","setOpenMobile","_open","_setOpen","setOpen","openState","document","cookie","SIDEBAR_COOKIE_NAME","toggleSidebar","handleKeyDown","event","key","SIDEBAR_KEYBOARD_SHORTCUT","ctrlKey","preventDefault","addEventListener","removeEventListener","state","contextValue","TooltipProvider","delayDuration","div","SIDEBAR_WIDTH","SIDEBAR_WIDTH_ICON","Sidebar","side","variant","collapsible","Sheet","SheetContent","data-sidebar","data-mobile","SIDEBAR_WIDTH_MOBILE","SheetHeader","SheetTitle","SheetDescription","data-state","data-collapsible","data-variant","data-side","SidebarTrigger","onClick","Button","PanelLeftIcon","span","SidebarInset","main","SidebarHeader","SidebarFooter","SidebarContent","SidebarGroup","SidebarGroupLabel","asChild","Comp","Slot","SidebarMenu","ul","SidebarMenuItem","li","sidebarMenuButtonVariants","default","outline","SidebarMenuButton","isActive","tooltip","button","data-size","data-active","Tooltip","TooltipTrigger","TooltipContent","align","hidden","SidebarMenuSub","SheetPrimitive","SheetTrigger","SheetPortal","SheetOverlay","XIcon","AuthError","constructor","message","code","originalError","status","name","toJSON","toResponse","Response","JSON","stringify","UnauthorizedError","ForbiddenError","SessionError","InvalidCredentialsError","UserOperationError","defaultRBACOptions","roles","superAdminRole","enableCache","RBACManager","permissionCache","Map","config","extractRoles","defineRole","clear","defineRoles","roleName","visited","Set","has","add","permissions","inherits","length","parentRole","getRolePermissions","forEach","getUserPermissions","userRoles","includes","cacheKey","sort","join","cachedPermissions","get","allPermissions","set","hasRole","parts","i","wildcardPermission","slice","hasAnyPermission","some","hasAllPermissions","every","enforcePermission","enforceAnyPermission","enforceAllPermissions","createPermission","resource","action","rbacManager","getRBACManager","Input","type","input","TooltipPrimitive","sideOffset","DropdownMenu","DropdownMenuPrimitive","DropdownMenuTrigger","DropdownMenuContent","DropdownMenuGroup","DropdownMenuItem","inset","data-inset","DropdownMenuRadioGroup","DropdownMenuRadioItem","CircleIcon","DropdownMenuLabel","DropdownMenuSeparator","Skeleton","setIsMobile","mql","matchMedia","MOBILE_BREAKPOINT","onChange","innerWidth"],"sourceRoot":""}