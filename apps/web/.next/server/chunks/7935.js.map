{"version":3,"file":"7935.js","mappings":"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","sources":["webpack://@hijraah/web/./src/components/ui/layouts/main-layout.tsx","webpack://@hijraah/web/./src/components/ui/error-boundary.tsx","webpack://@hijraah/web/./src/i18n/client.ts","webpack://@hijraah/web/./src/app/[locale]/not-found.tsx","webpack://@hijraah/web/./src/components/ui/popover.tsx","webpack://@hijraah/web/./src/components/ui/scroll-area.tsx","webpack://@hijraah/web/./src/_shared/constants/onboarding-steps.ts","webpack://@hijraah/web/./src/components/ui/breadcrumb.tsx","webpack://@hijraah/web/./src/components/ui/language-switcher-wrapper.tsx","webpack://@hijraah/web/./src/lib/utils.ts","webpack://@hijraah/web/./src/components/ui/notification-button.tsx","webpack://@hijraah/web/?20a5","webpack://@hijraah/web/./src/i18n/i18n.ts","webpack://@hijraah/web/./src/components/ui/dialog.tsx","webpack://@hijraah/web/./src/components/ui/search.tsx","webpack://@hijraah/web/./src/_shared/utils/cn.ts","webpack://@hijraah/web/./src/components/ui/footer/index.tsx","webpack://@hijraah/web/./src/components/ui/alert.tsx","webpack://@hijraah/web/./src/components/ui/badge.tsx","webpack://@hijraah/web/sentry-wrapper-module","webpack://@hijraah/web/./src/components/ui/command.tsx","webpack://@hijraah/web/?3e94","webpack://@hijraah/web/./src/components/ui/onboarding/Onboarding.tsx","webpack://@hijraah/web/./src/components/ui/onboarding/OnboardingProgress.tsx","webpack://@hijraah/web/./src/components/ui/footer.tsx","webpack://@hijraah/web/src/app/[locale]/layout.tsx","webpack://@hijraah/web/./src/app/client-providers.tsx","webpack://@hijraah/web/./src/_core/onboarding/hooks/useOnboardingPersistence.ts","webpack://@hijraah/web/./src/components/ui/onboarding/OnboardingProvider.tsx","webpack://@hijraah/web/./src/lib/contexts/deep-research-context.tsx","webpack://@hijraah/web/./src/components/ui/onboarding/OnboardingDebug.tsx","webpack://@hijraah/web/./src/i18n/hooks.ts","webpack://@hijraah/web/./src/app/providers.tsx","webpack://@hijraah/web/?475b","webpack://@hijraah/web/./src/components/ui/theme-toggle.tsx","webpack://@hijraah/web/./src/components/ui/toast.tsx","webpack://@hijraah/web/?5a54","webpack://@hijraah/web/?6ffb","webpack://@hijraah/web/./src/components/ui/progress.tsx","webpack://@hijraah/web/./src/lib/contexts/search-context.tsx","webpack://@hijraah/web/./src/components/ui/language-switcher.tsx","webpack://@hijraah/web/./src/i18n/locales/ ./src/i18n/locales/ lazy ^\\.\\/.*\\.json$ namespace object"],"sourcesContent":["import { Search, Bell, Menu } from 'lucide-react';\r\nimport { ReactNode } from 'react';\r\n\r\nimport { Avatar, AvatarFallback } from '@/ui/avatar';\r\nimport {\r\n    Breadcrumb,\r\n    BreadcrumbItem,\r\n    BreadcrumbList,\r\n    BreadcrumbPage,\r\n    BreadcrumbLink,\r\n    BreadcrumbSeparator,\r\n} from '@/ui/breadcrumb';\r\nimport { Button } from '@/ui/button';\r\nimport { Input } from '@/ui/input';\r\nimport LanguageSwitcher from '@/ui/language-switcher';\r\nimport { Separator } from '@/ui/separator';\r\nimport { SidebarTrigger } from '@/ui/sidebar';\r\nimport { ThemeToggle } from '@/ui/theme-toggle';\r\n\r\ninterface MainLayoutProps {\r\n    children: ReactNode;\r\n    title?: string;\r\n    breadcrumbs?: {\r\n        title: string;\r\n        href?: string;\r\n    }[];\r\n    heroSection?: React.ReactNode;\r\n}\r\n\r\n/**\r\n * MainLayout - Page content layout that adds a header and content container\r\n * Used within the main content area of the Root Layout (SidebarInset)\r\n */\r\nexport function MainLayout({\r\n    children,\r\n    title = \"Dashboard\",\r\n    breadcrumbs = [],\r\n    heroSection\r\n}: MainLayoutProps) {\r\n    return (\r\n        <>\r\n            <header className=\"sticky top-0 z-40 flex h-16 items-center border-b border-border bg-background/95 backdrop-blur-sm px-4 transition-[width,height] ease-linear\">\r\n                <div className=\"flex items-center gap-2 mr-4\">\r\n                    <SidebarTrigger className=\"-ml-1\" />\r\n                    <Separator orientation=\"vertical\" className=\"h-4 mr-2\" />\r\n\r\n                    <Breadcrumb>\r\n                        <BreadcrumbList>\r\n                            {breadcrumbs.map((item, index) => (\r\n                                <BreadcrumbItem key={index} className=\"hidden md:block\">\r\n                                    {item.href ? (\r\n                                        <BreadcrumbLink href={item.href}>\r\n                                            {item.title}\r\n                                        </BreadcrumbLink>\r\n                                    ) : (\r\n                                        <BreadcrumbPage>{item.title}</BreadcrumbPage>\r\n                                    )}\r\n                                    {index < breadcrumbs.length - 1 && <BreadcrumbSeparator />}\r\n                                </BreadcrumbItem>\r\n                            ))}\r\n                            {breadcrumbs.length === 0 && (\r\n                                <BreadcrumbItem>\r\n                                    <BreadcrumbPage>{title}</BreadcrumbPage>\r\n                                </BreadcrumbItem>\r\n                            )}\r\n                        </BreadcrumbList>\r\n                    </Breadcrumb>\r\n                </div>\r\n\r\n                <div className=\"ml-auto flex items-center gap-4\">\r\n                    <div className=\"relative hidden md:block w-72\">\r\n                        <Search className=\"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground\" />\r\n                        <Input\r\n                            type=\"search\"\r\n                            placeholder=\"Search...\"\r\n                            className=\"w-full rounded-full bg-background pl-8 md:w-60 lg:w-72\"\r\n                        />\r\n                    </div>\r\n\r\n                    <Button size=\"icon\" variant=\"ghost\" className=\"relative\">\r\n                        <Bell className=\"h-5 w-5 text-muted-foreground\" />\r\n                        <span className=\"absolute -right-0.5 -top-0.5 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-[10px] font-medium text-primary-foreground\">\r\n                            3\r\n                        </span>\r\n                    </Button>\r\n                    <LanguageSwitcher />\r\n                    <ThemeToggle />\r\n                    <Avatar className=\"h-8 w-8 border border-border\">\r\n                        <span className=\"font-medium text-sm\">U</span>\r\n                    </Avatar>\r\n                </div>\r\n            </header>\r\n\r\n            {heroSection && (\r\n                <div className=\"bg-sidebar-background text-sidebar-foreground\">\r\n                    {heroSection}\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"flex-1\">\r\n                <div className=\"container py-6 max-w-full px-6\">\r\n                    {children}\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","'use client';\r\n\r\nimport { AlertCircle, RefreshCw } from 'lucide-react'\r\nimport { Component, type ReactNode } from 'react'\r\n\r\nimport { Alert, AlertDescription, AlertTitle } from '@/ui/alert'\r\nimport { Button } from '@/ui/button'\r\n\r\ninterface Props {\r\n  children: ReactNode\r\n  fallback?: ReactNode\r\n  onError?: (error: Error) => void\r\n}\r\n\r\ninterface State {\r\n  hasError: boolean\r\n  error: Error | null\r\n}\r\n\r\nexport class ErrorBoundary extends Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props)\r\n    this.state = { hasError: false, error: null }\r\n  }\r\n\r\n  static getDerivedStateFromError(error: Error): State {\r\n    return { hasError: true, error }\r\n  }\r\n\r\n  componentDidCatch(error: Error) {\r\n    console.error('Error caught by boundary:', error)\r\n    this.props.onError?.(error)\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      if (this.props.fallback) {\r\n        return this.props.fallback\r\n      }\r\n\r\n      return (\r\n        <Alert variant=\"destructive\" className=\"my-8\">\r\n          <AlertCircle className=\"h-4 w-4\" />\r\n          <AlertTitle>Something went wrong</AlertTitle>\r\n          <AlertDescription className=\"mt-2 flex flex-col gap-4\">\r\n            <p>{this.state.error?.message || 'An unexpected error occurred'}</p>\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              className=\"w-fit gap-2\"\r\n              onClick={() => {\r\n                this.setState({ hasError: false, error: null })\r\n                window.location.reload()\r\n              }}\r\n            >\r\n              <RefreshCw className=\"h-4 w-4\" />\r\n              Try again\r\n            </Button>\r\n          </AlertDescription>\r\n        </Alert>\r\n      )\r\n    }\r\n\r\n    return this.props.children\r\n  }\r\n}\r\n\r\nexport function withErrorBoundary<P extends object>(\r\n  Component: React.ComponentType<P>,\r\n  errorBoundaryProps?: Omit<ErrorBoundaryProps, 'children'>\r\n) {\r\n  return function WithErrorBoundary(props: P) {\r\n    return (\r\n      <ErrorBoundary {...errorBoundaryProps}>\r\n        <Component {...props} />\r\n      </ErrorBoundary>\r\n    );\r\n  };\r\n} ","\"use client\";\r\n\r\n/**\r\n * Client-side i18n exports\r\n * Safe to use in client components\r\n */\r\n\r\n// Export the core i18n config\r\nexport * from \"@/i18n/i18n\";\r\n\r\n// Export client-side hooks\r\nexport * from \"./hooks\";\r\n\r\n// Export navigation utilities\r\nexport * from \"./navigation\";\r\n","'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useTranslations } from 'next-intl';\r\n\r\nimport { MainLayout } from '@/components/ui/layouts/main-layout';\r\n\r\nexport default function LocaleNotFound() {\r\n    // Set default fallback values\r\n    const defaultTitle = 'Page Not Found';\r\n    const defaultDescription = 'The page you are looking for does not exist.';\r\n    const defaultBackHome = 'Back to Home';\r\n\r\n    // Using try-catch for translation errors\r\n    try {\r\n        const t = useTranslations('errors');\r\n\r\n        return (\r\n            <MainLayout>\r\n                <div className=\"flex flex-col items-center justify-center min-h-screen py-2\">\r\n                    <h1 className=\"text-4xl font-bold\">{t('notFound', { fallback: defaultTitle })}</h1>\r\n                    <p className=\"mt-3 text-xl mb-6\">{t('pageNotFound', { fallback: defaultDescription })}</p>\r\n                    <Link\r\n                        href=\"/\"\r\n                        className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n                        legacyBehavior>\r\n                        {t('backHome', { fallback: defaultBackHome })}\r\n                    </Link>\r\n                </div>\r\n            </MainLayout>\r\n        );\r\n    } catch (error) {\r\n        console.error('Translation error in not-found page:', error);\r\n        // Fallback UI\r\n        return (\r\n            <MainLayout>\r\n                <div className=\"flex flex-col items-center justify-center min-h-screen py-2\">\r\n                    <h1 className=\"text-4xl font-bold\">{defaultTitle}</h1>\r\n                    <p className=\"mt-3 text-xl mb-6\">{defaultDescription}</p>\r\n                    <Link\r\n                        href=\"/\"\r\n                        className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n                        legacyBehavior>\r\n                        {defaultBackHome}\r\n                    </Link>\r\n                </div>\r\n            </MainLayout>\r\n        );\r\n    }\r\n} ","\"use client\"\r\n\r\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\r\nimport * as React from \"react\"\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Popover({\r\n  ...props\r\n}: React.ComponentProps<typeof PopoverPrimitive.Root>) {\r\n  return <PopoverPrimitive.Root data-slot=\"popover\" {...props} />\r\n}\r\n\r\nfunction PopoverTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {\r\n  return <PopoverPrimitive.Trigger data-slot=\"popover-trigger\" {...props} />\r\n}\r\n\r\nfunction PopoverContent({\r\n  className,\r\n  align = \"center\",\r\n  sideOffset = 4,\r\n  ...props\r\n}: React.ComponentProps<typeof PopoverPrimitive.Content>) {\r\n  return (\r\n    <PopoverPrimitive.Portal>\r\n      <PopoverPrimitive.Content\r\n        data-slot=\"popover-content\"\r\n        align={align}\r\n        sideOffset={sideOffset}\r\n        className={cn(\r\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md outline-hidden\",\r\n          className\r\n        )}\r\n        {...props}\r\n      />\r\n    </PopoverPrimitive.Portal>\r\n  )\r\n}\r\n\r\nfunction PopoverAnchor({\r\n  ...props\r\n}: React.ComponentProps<typeof PopoverPrimitive.Anchor>) {\r\n  return <PopoverPrimitive.Anchor data-slot=\"popover-anchor\" {...props} />\r\n}\r\n\r\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }\r\n","'use client'\r\n\r\nimport React, { ComponentPropsWithRef } from 'react'\r\n\r\ninterface ScrollAreaProps extends ComponentPropsWithRef<'div'> {\r\n  className?: string\r\n}\r\n\r\nexport const ScrollArea = ({ children, className, ...props }: ScrollAreaProps) => {\r\n  return (\r\n    <div className={`overflow-auto ${className || ''}`} {...props}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ScrollArea ","import { LucideIcon, BookOpen, FileText, Video, Users, Upload, Calendar, Flag, HelpCircle, ExternalLink, CheckCircle2 } from 'lucide-react';\r\nimport React from 'react';\r\n\r\nexport type OnboardingStepId =\r\n  | 'welcome'\r\n  | 'profile-setup'\r\n  | 'feature-tour'\r\n  | 'first-task'\r\n  | 'resources';\r\n// Add 'completed' explicitly if it needs representation here, otherwise handle it in the provider\r\n\r\nexport type OnboardingStep = {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  features?: Feature[];\r\n};\r\n\r\nexport type Feature = {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  imageUrl?: string;\r\n};\r\n\r\nexport type TourStop = {\r\n  target: string; // CSS selector for the target element (e.g., '[data-tour=\"dashboard\"]')\r\n  placement: 'top' | 'right' | 'bottom' | 'left';\r\n  title: string;\r\n  content: string;\r\n};\r\n\r\nexport type OnboardingTask = {\r\n  id: string; // e.g., 'upload', 'consult', 'application'\r\n  title: string;\r\n  description: string;\r\n  cta: string;\r\n  icon: LucideIcon;\r\n  actionKey: string; // API key, e.g., 'first_task_upload'\r\n};\r\n\r\nexport type ResourceLink = {\r\n  icon: LucideIcon;\r\n  title: string;\r\n  description: string;\r\n  link: string;\r\n};\r\n\r\nexport type ResourceCategory = {\r\n  id: string; // e.g., 'guides', 'documents'\r\n  title: string;\r\n  icon: LucideIcon;\r\n  resources: ResourceLink[];\r\n};\r\n\r\nexport type FormOption = {\r\n  value: string;\r\n  label: string;\r\n};\r\n\r\nexport type ProfileSetupConfig = {\r\n  countries: FormOption[];\r\n  destinations: FormOption[];\r\n  languages: FormOption[];\r\n  actionKey: string; // API key, e.g., 'profile_setup_completed'\r\n};\r\n\r\nexport interface OnboardingStepConfig {\r\n  id: OnboardingStepId;\r\n  title: string;\r\n  description: string;\r\n  // Reference the component - using string name for now, handle lazy loading later\r\n  component: string;\r\n  actionKey?: string; // Optional API key for step completion (if different from sub-actions)\r\n  features?: Feature[]; // Existing features property\r\n  tourStops?: TourStop[]; // Specific to feature-tour\r\n  tasks?: OnboardingTask[]; // Specific to first-task\r\n  resourceCategories?: ResourceCategory[]; // Specific to resources\r\n  profileSetupConfig?: ProfileSetupConfig; // Specific to profile-setup\r\n}\r\n\r\n// Define specific configurations\r\nconst profileSetupDetails: ProfileSetupConfig = {\r\n  actionKey: 'profile_setup_completed',\r\n  countries: [\r\n    { value: \"us\", label: \"United States\" },\r\n    { value: \"ca\", label: \"Canada\" },\r\n    { value: \"uk\", label: \"United Kingdom\" },\r\n    { value: \"in\", label: \"India\" },\r\n    { value: \"ng\", label: \"Nigeria\" },\r\n    { value: \"cn\", label: \"China\" },\r\n    { value: \"other\", label: \"Other\" },\r\n  ],\r\n  destinations: [\r\n    { value: \"us\", label: \"United States\" },\r\n    { value: \"ca\", label: \"Canada\" },\r\n    { value: \"uk\", label: \"United Kingdom\" },\r\n    { value: \"au\", label: \"Australia\" },\r\n    { value: \"nz\", label: \"New Zealand\" },\r\n    { value: \"de\", label: \"Germany\" },\r\n    { value: \"other\", label: \"Other\" },\r\n  ],\r\n  languages: [\r\n    { value: \"en\", label: \"English\" },\r\n    { value: \"es\", label: \"Spanish\" },\r\n    { value: \"fr\", label: \"French\" },\r\n    { value: \"ar\", label: \"Arabic\" },\r\n    // Add other relevant languages\r\n  ],\r\n};\r\n\r\nconst featureTourDetails: TourStop[] = [\r\n  {\r\n    target: '[data-tour=\"dashboard\"]', // Example target\r\n    placement: 'bottom',\r\n    title: 'Your Dashboard',\r\n    content: 'Overview of your cases, documents, and progress.',\r\n  },\r\n  {\r\n    target: '[data-tour=\"profile\"]',\r\n    placement: 'right',\r\n    title: 'Profile Settings',\r\n    content: 'Manage your personal information and preferences here.',\r\n  },\r\n  {\r\n    target: '[data-tour=\"documents\"]',\r\n    placement: 'left',\r\n    title: 'Document Management',\r\n    content: 'Upload, organize, and access your important documents securely.',\r\n  },\r\n  {\r\n    target: '[data-tour=\"cases\"]', // Changed from applications\r\n    placement: 'top',\r\n    title: 'Case Tracking',\r\n    content: 'Track the status and progress of your immigration cases.',\r\n  },\r\n  {\r\n    target: '[data-tour=\"help\"]',\r\n    placement: 'bottom',\r\n    title: 'Help & Support',\r\n    content: 'Find guides, FAQs, and contact support if you need help.',\r\n  },\r\n];\r\n\r\nconst firstTaskDetails: OnboardingTask[] = [\r\n  {\r\n    id: 'upload',\r\n    title: 'Upload Your First Document',\r\n    description: 'Start by uploading an important immigration document to keep it secure and accessible.',\r\n    cta: 'Upload Document',\r\n    icon: Upload,\r\n    actionKey: 'first_task_upload',\r\n  },\r\n  {\r\n    id: 'consult',\r\n    title: 'Schedule a Consultation',\r\n    description: 'Book a session with an immigration expert to discuss your specific situation.',\r\n    cta: 'Book Consultation',\r\n    icon: Calendar,\r\n    actionKey: 'first_task_consult',\r\n  },\r\n  {\r\n    id: 'application',\r\n    title: 'Start an Application/Case', // Adjusted title\r\n    description: 'Begin your first immigration case setup with our guided process.',\r\n    cta: 'Start Case',\r\n    icon: FileText,\r\n    actionKey: 'first_task_application',\r\n  },\r\n];\r\n\r\nconst resourceDetails: ResourceCategory[] = [\r\n  {\r\n    id: 'guides',\r\n    title: 'Guides',\r\n    icon: BookOpen,\r\n    resources: [\r\n      {\r\n        icon: BookOpen,\r\n        title: 'Getting Started Guide',\r\n        description: 'A comprehensive guide on how to use Hijraah for your immigration journey.',\r\n        link: '/guides/getting-started',\r\n      },\r\n      {\r\n        icon: Flag,\r\n        title: 'Country-Specific Guides',\r\n        description: 'Detailed guides for the most popular immigration destinations.',\r\n        link: '/guides/countries',\r\n      },\r\n      {\r\n        icon: Calendar,\r\n        title: 'Immigration Timeline',\r\n        description: 'Learn about typical immigration process timelines and milestones.',\r\n        link: '/guides/timeline',\r\n      },\r\n      {\r\n        icon: HelpCircle,\r\n        title: 'Frequently Asked Questions',\r\n        description: 'Find answers to common questions about immigration processes.',\r\n        link: '/help/faq',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: 'documents',\r\n    title: 'Documents',\r\n    icon: FileText,\r\n    resources: [\r\n      {\r\n        icon: FileText,\r\n        title: 'Document Checklist Tool', // Made more specific\r\n        description: 'Use our tool to generate a checklist of essential documents for your specific case.',\r\n        link: '/tools/document-checklist', // Assuming a tool exists\r\n      },\r\n      {\r\n        icon: FileText,\r\n        title: 'Sample Templates', // Adjusted title\r\n        description: 'View sample templates for common immigration forms and letters.',\r\n        link: '/documents/templates', // Adjusted link\r\n      },\r\n      {\r\n        icon: FileText,\r\n        title: 'Legal Resources',\r\n        description: 'Links to official government immigration sites and legal aid information.',\r\n        link: '/resources/legal', // Adjusted link\r\n      },\r\n      {\r\n        icon: FileText,\r\n        title: 'Form Filling Guides',\r\n        description: 'Step-by-step guides for filling out common immigration forms accurately.',\r\n        link: '/guides/forms', // Adjusted link\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: 'videos',\r\n    title: 'Videos',\r\n    icon: Video,\r\n    resources: [\r\n      {\r\n        icon: Video,\r\n        title: 'Platform Tutorial',\r\n        description: 'Watch a comprehensive video tutorial on using the Hijraah platform features.',\r\n        link: '/videos/tutorial',\r\n      },\r\n      {\r\n        icon: Video,\r\n        title: 'Immigration Process Explained',\r\n        description: 'Video overview of typical immigration processes and common steps involved.',\r\n        link: '/videos/process',\r\n      },\r\n      {\r\n        icon: Video,\r\n        title: 'Expert Interviews',\r\n        description: 'Watch interviews with immigration lawyers and consultants sharing insights.',\r\n        link: '/videos/experts',\r\n      },\r\n      {\r\n        icon: Video,\r\n        title: 'User Success Stories',\r\n        description: 'Hear from users who successfully navigated their immigration journey with Hijraah.',\r\n        link: '/videos/success-stories',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: 'community',\r\n    title: 'Community & Support',\r\n    icon: Users,\r\n    resources: [\r\n      {\r\n        icon: Users,\r\n        title: 'Community Forum',\r\n        description: 'Join discussions, ask questions, and share experiences with fellow users.',\r\n        link: '/community/forums',\r\n      },\r\n      {\r\n        icon: Users,\r\n        title: 'Find an Expert',\r\n        description: 'Connect with verified immigration experts and consultants through our network.',\r\n        link: '/experts', // Adjusted link\r\n      },\r\n      {\r\n        icon: Calendar,\r\n        title: 'Events & Webinars',\r\n        description: 'Find upcoming webinars, workshops, and Q&A sessions related to immigration.',\r\n        link: '/community/events',\r\n      },\r\n      {\r\n        icon: HelpCircle, // Changed icon\r\n        title: 'Get Support',\r\n        description: 'Access our help center or contact our support team for assistance.',\r\n        link: '/help', // Adjusted link\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\n// THE MAIN CONSTANT\r\nexport const ONBOARDING_STEPS_CONFIG: OnboardingStepConfig[] = [\r\n  {\r\n    id: 'welcome',\r\n    title: 'Welcome to Hijraah',\r\n    description: 'Your journey to simplified immigration starts here. We\\'ll guide you through the process step by step.',\r\n    component: 'WelcomeModal', // Component Name\r\n    // No specific actionKey needed for welcome usually, completion = nextStep\r\n  },\r\n  {\r\n    id: 'profile-setup',\r\n    title: 'Profile Setup',\r\n    description: 'Tell us about your immigration goals and preferences so we can personalize your experience.',\r\n    component: 'ProfileSetup',\r\n    // actionKey is within profileSetupConfig\r\n    profileSetupConfig: profileSetupDetails,\r\n    features: [\r\n      {\r\n        id: 'personal-info',\r\n        title: 'Personal Information',\r\n        description: 'Securely store your basic information to streamline document completion.',\r\n      },\r\n      {\r\n        id: 'immigration-status',\r\n        title: 'Immigration Status',\r\n        description: 'Help us understand your current situation and destination plans.',\r\n      },\r\n      {\r\n        id: 'preferences',\r\n        title: 'Preferences',\r\n        description: 'Set your preferences for language, notifications, and more.',\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    id: 'feature-tour',\r\n    title: 'Feature Tour',\r\n    description: 'Discover the powerful tools Hijraah offers to simplify your immigration journey.',\r\n    component: 'FeatureTour',\r\n    actionKey: 'feature_tour_completed', // Step completion action\r\n    tourStops: featureTourDetails,\r\n    features: [\r\n      {\r\n        id: 'document-management',\r\n        title: 'Document Management',\r\n        description: 'Upload, organize, and securely store all your important immigration documents in one place.',\r\n        imageUrl: '/images/features/document-management.svg',\r\n      },\r\n      {\r\n        id: 'case-tracking',\r\n        title: 'Case Tracking',\r\n        description: 'Monitor the progress of your immigration applications with real-time status updates.',\r\n        imageUrl: '/images/features/case-tracking.svg',\r\n      },\r\n      {\r\n        id: 'ai-assistance',\r\n        title: 'AI Assistance',\r\n        description: 'Get personalized guidance and answers to your immigration questions with our AI assistant.',\r\n        imageUrl: '/images/features/ai-assistance.svg',\r\n      },\r\n      {\r\n        id: 'deadline-reminders',\r\n        title: 'Deadline Reminders',\r\n        description: 'Never miss an important date with automated reminders for application deadlines and appointments.',\r\n        imageUrl: '/images/features/deadline-reminders.svg',\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    id: 'first-task',\r\n    title: 'Complete Your First Task', // Made title more active\r\n    description: 'Choose one task to get started and experience a core feature of Hijraah.',\r\n    component: 'FirstTask',\r\n    // actionKeys are within task details\r\n    tasks: firstTaskDetails,\r\n    features: [\r\n      {\r\n        id: 'create-case',\r\n        title: 'Create Your First Case',\r\n        description: 'Set up your first immigration case to track your progress and manage documents.',\r\n      },\r\n      {\r\n        id: 'upload-document',\r\n        title: 'Upload Your First Document',\r\n        description: 'Securely upload and store your first immigration document.',\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    id: 'resources',\r\n    title: 'Explore Resources', // Made title more active\r\n    description: 'Discover helpful guides, tools, and community support for your immigration journey.',\r\n    component: 'Resources',\r\n    actionKey: 'resources_viewed', // Step completion action\r\n    resourceCategories: resourceDetails,\r\n    features: [\r\n      {\r\n        id: 'immigration-guides',\r\n        title: 'Immigration Guides',\r\n        description: 'Step-by-step guides for different visa types and immigration processes.',\r\n        imageUrl: '/images/features/guides.svg',\r\n      },\r\n      {\r\n        id: 'country-information',\r\n        title: 'Country Information',\r\n        description: 'Detailed information about immigration policies, requirements, and cultural insights for different countries.',\r\n        imageUrl: '/images/features/country-info.svg',\r\n      },\r\n      {\r\n        id: 'document-templates',\r\n        title: 'Document Templates',\r\n        description: 'Access professionally designed templates for common immigration documents and letters.',\r\n        imageUrl: '/images/features/templates.svg',\r\n      },\r\n      {\r\n        id: 'community-support',\r\n        title: 'Community Support',\r\n        description: 'Connect with others on similar immigration journeys to share experiences and advice.',\r\n        imageUrl: '/images/features/community.svg',\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n// --- Utility Functions --- //\r\n\r\n// Keep existing utility functions, but ensure they use ONBOARDING_STEPS_CONFIG\r\n\r\nexport const getStepByIndex = (index: number): OnboardingStepConfig | undefined => {\r\n  if (index < 0 || index >= ONBOARDING_STEPS_CONFIG.length) return undefined;\r\n  return ONBOARDING_STEPS_CONFIG[index];\r\n};\r\n\r\nexport const getStepById = (id: string): OnboardingStepConfig | undefined => {\r\n  return ONBOARDING_STEPS_CONFIG.find(step => step.id === id);\r\n};\r\n\r\nexport const getStepIndex = (id: string): number => {\r\n  return ONBOARDING_STEPS_CONFIG.findIndex(step => step.id === id);\r\n};\r\n\r\nexport const getTotalSteps = (): number => {\r\n  // Exclude 'completed' step if it's handled separately\r\n  return ONBOARDING_STEPS_CONFIG.length;\r\n};\r\n\r\n// Derive the order directly from the config array\r\nexport const ONBOARDING_STEPS_ORDER = ONBOARDING_STEPS_CONFIG.map(step => step.id);\r\n\r\nexport const getNextStepId = (currentId: OnboardingStepId): OnboardingStepId | undefined => {\r\n  const currentIndex = getStepIndex(currentId);\r\n  if (currentIndex < 0 || currentIndex >= ONBOARDING_STEPS_CONFIG.length - 1) return undefined;\r\n  return ONBOARDING_STEPS_CONFIG[currentIndex + 1].id;\r\n};\r\n\r\nexport const getPreviousStepId = (currentId: OnboardingStepId): OnboardingStepId | undefined => {\r\n  const currentIndex = getStepIndex(currentId);\r\n  if (currentIndex <= 0) return undefined;\r\n  return ONBOARDING_STEPS_CONFIG[currentIndex - 1].id;\r\n}; ","import { Slot } from \"@radix-ui/react-slot\"\r\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\r\nimport * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Breadcrumb({ ...props }: React.ComponentProps<\"nav\">) {\r\n  return <nav aria-label=\"breadcrumb\" data-slot=\"breadcrumb\" {...props} />\r\n}\r\n\r\nfunction BreadcrumbList({ className, ...props }: React.ComponentProps<\"ol\">) {\r\n  return (\r\n    <ol\r\n      data-slot=\"breadcrumb-list\"\r\n      className={cn(\r\n        \"text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction BreadcrumbItem({ className, ...props }: React.ComponentProps<\"li\">) {\r\n  return (\r\n    <li\r\n      data-slot=\"breadcrumb-item\"\r\n      className={cn(\"inline-flex items-center gap-1.5\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction BreadcrumbLink({\r\n  asChild,\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<\"a\"> & {\r\n  asChild?: boolean\r\n}) {\r\n  const Comp = asChild ? Slot : \"a\"\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"breadcrumb-link\"\r\n      className={cn(\"hover:text-foreground transition-colors\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction BreadcrumbPage({ className, ...props }: React.ComponentProps<\"span\">) {\r\n  return (\r\n    <span\r\n      data-slot=\"breadcrumb-page\"\r\n      role=\"link\"\r\n      aria-disabled=\"true\"\r\n      aria-current=\"page\"\r\n      className={cn(\"text-foreground font-normal\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction BreadcrumbSeparator({\r\n  children,\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<\"li\">) {\r\n  return (\r\n    <li\r\n      data-slot=\"breadcrumb-separator\"\r\n      role=\"presentation\"\r\n      aria-hidden=\"true\"\r\n      className={cn(\"[&>svg]:size-3.5\", className)}\r\n      {...props}\r\n    >\r\n      {children ?? <ChevronRight />}\r\n    </li>\r\n  )\r\n}\r\n\r\nfunction BreadcrumbEllipsis({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<\"span\">) {\r\n  return (\r\n    <span\r\n      data-slot=\"breadcrumb-ellipsis\"\r\n      role=\"presentation\"\r\n      aria-hidden=\"true\"\r\n      className={cn(\"flex size-9 items-center justify-center\", className)}\r\n      {...props}\r\n    >\r\n      <MoreHorizontal className=\"size-4\" />\r\n      <span className=\"sr-only\">More</span>\r\n    </span>\r\n  )\r\n}\r\n\r\nexport {\r\n  Breadcrumb,\r\n  BreadcrumbList,\r\n  BreadcrumbItem,\r\n  BreadcrumbLink,\r\n  BreadcrumbPage,\r\n  BreadcrumbSeparator,\r\n  BreadcrumbEllipsis,\r\n}\r\n","'use client';\r\n\r\nimport dynamic from 'next/dynamic';\r\nimport React from 'react';\r\n\r\nimport { Skeleton } from '@/ui/skeleton';\r\n\r\n// Dynamically import the LanguageSwitcher component\r\n// This ensures it's only loaded on the client side\r\nconst LanguageSwitcher = dynamic(\r\n    () => import('./language-switcher'),\r\n    {\r\n        ssr: false,\r\n        loading: () => (\r\n            <Skeleton\r\n                className=\"h-9 w-9 rounded-full\"\r\n                aria-label=\"Loading language switcher\"\r\n            />\r\n        ),\r\n    }\r\n);\r\n\r\nexport default function LanguageSwitcherWrapper() {\r\n    return <LanguageSwitcher />;\r\n} ","/**\r\n * Utility functions for the application\r\n */\r\n\r\nimport { generateId as generateIdFromAI } from \"ai\"; // Renaming import to avoid conflict\r\nimport { genSaltSync, hashSync } from \"bcrypt-ts\";\r\nimport { type ClassValue, clsx } from \"clsx\";\r\nimport { customAlphabet } from \"nanoid\";\r\nimport { twMerge } from \"tailwind-merge\";\r\n\r\n/**\r\n * Utility function to merge Tailwind CSS classes with clsx conditionals\r\n * @param inputs - Class values to merge\r\n * @returns Merged class string\r\n */\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs));\r\n}\r\n\r\n/**\r\n * Generates a unique ID of a specified length\r\n * @param length - Length of the ID to generate (default is 16)\r\n * @returns Generated ID\r\n */\r\nexport function generateId(length: number = 16) {\r\n  return customAlphabet(\r\n    \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\",\r\n    length\r\n  )();\r\n}\r\n\r\n/**\r\n * Generates a UUID\r\n * @returns Generated UUID\r\n */\r\nexport function generateUUID(): string {\r\n  if (typeof crypto !== \"undefined\" && crypto.randomUUID) {\r\n    return crypto.randomUUID();\r\n  }\r\n  // Fallback for environments where crypto.randomUUID is not available (e.g., older Node.js versions in certain contexts)\r\n  // This is a simple v4 UUID implementation, not cryptographically secure for all uses but sufficient for unique IDs.\r\n  return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\r\n    const r = (Math.random() * 16) | 0;\r\n    const v = c === \"x\" ? r : (r & 0x3) | 0x8;\r\n    return v.toString(16);\r\n  });\r\n}\r\n\r\n/**\r\n * Formats a date into a readable string\r\n * @param date - The date to format\r\n * @returns Formatted date string\r\n */\r\nexport function formatDate(date: Date): string {\r\n  return new Intl.DateTimeFormat(\"en-US\", {\r\n    month: \"long\",\r\n    day: \"numeric\",\r\n    year: \"numeric\",\r\n  }).format(date);\r\n}\r\n\r\n/**\r\n * Truncates a string to a specified length\r\n * @param str - The string to truncate\r\n * @param length - Max length\r\n * @returns Truncated string with ellipsis if needed\r\n */\r\nexport function truncate(str: string, length: number): string {\r\n  if (!str || str.length <= length) return str;\r\n  return `${str.slice(0, length)}...`;\r\n}\r\n\r\n// Function to convert bytes to a readable format (KB, MB, GB)\r\nexport function bytesToSize(bytes: number): string {\r\n  if (bytes === 0) return \"0 Bytes\";\r\n  const k = 1024;\r\n  const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\"];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i];\r\n}\r\n\r\n/**\r\n * Application specific error structure for fetcher\r\n */\r\ninterface ApplicationError extends Error {\r\n  info: string;\r\n  status: number;\r\n}\r\n\r\n/**\r\n * Fetches data from a URL and handles errors.\r\n * @param url - The URL to fetch.\r\n * @returns The JSON response.\r\n * @throws ApplicationError if the fetch fails.\r\n */\r\nexport const fetcher = async (url: string) => {\r\n  const res = await fetch(url);\r\n\r\n  if (!res.ok) {\r\n    const error = new Error(\r\n      \"An error occurred while fetching the data.\"\r\n    ) as ApplicationError;\r\n    // Attempt to parse error info, but don't fail if it's not JSON\r\n    try {\r\n      error.info = await res.json();\r\n    } catch (e) {\r\n      error.info = res.statusText; // Fallback to status text\r\n    }\r\n    error.status = res.status;\r\n    throw error;\r\n  }\r\n  return res.json();\r\n};\r\n\r\n/**\r\n * Retrieves an item from localStorage.\r\n * @param key - The key of the item to retrieve.\r\n * @returns The parsed JSON object or an empty array if not found or in a non-browser environment.\r\n */\r\nexport function getLocalStorage(key: string): any[] | Record<string, any> {\r\n  if (typeof window !== \"undefined\" && window.localStorage) {\r\n    const item = localStorage.getItem(key);\r\n    try {\r\n      return item ? JSON.parse(item) : []; // Default to empty array if null, or parse\r\n    } catch (error) {\r\n      console.error(\r\n        `Error parsing localStorage item with key \"${key}\":`,\r\n        error\r\n      );\r\n      return []; // Return empty array on parsing error\r\n    }\r\n  }\r\n  return []; // Return empty array if not in browser or localStorage not available\r\n}\r\n\r\n/**\r\n * Sanitizes text by removing specific placeholder strings.\r\n * Currently removes \"<has_function_call>\".\r\n * @param text - The input string to sanitize.\r\n * @returns The sanitized string.\r\n */\r\nexport function sanitizeText(text: string): string {\r\n  if (typeof text !== \"string\") return \"\";\r\n  return text.replace(/<has_function_call>/g, \"\");\r\n}\r\n\r\n/**\r\n * Sanitizes UI messages by cleaning their content.\r\n * Used to process messages before displaying them in the UI.\r\n * @param messages - Array of UI/Chat messages to sanitize\r\n * @returns The sanitized messages array\r\n */\r\nexport function sanitizeUIMessages<T extends { content: string }>(\r\n  messages: T[]\r\n): T[] {\r\n  return messages.map((message) => ({\r\n    ...message,\r\n    content: sanitizeText(message.content),\r\n  }));\r\n}\r\n\r\nexport function generateHashedPassword(password: string): string {\r\n  const salt = genSaltSync(10);\r\n  const hash = hashSync(password, salt);\r\n\r\n  return hash;\r\n}\r\n\r\nexport function generateDummyPassword(): string {\r\n  const password = generateIdFromAI(12); // Using the renamed import\r\n  const hashedPassword = generateHashedPassword(password);\r\n\r\n  return hashedPassword;\r\n}\r\n","\"use client\";\r\n\r\nimport { RealtimePostgresChangesPayload } from \"@supabase/supabase-js\";\r\nimport { formatDistanceToNow } from \"date-fns\";\r\nimport { Bell } from \"lucide-react\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { DropdownMenuItem } from \"@/components/ui/dropdown-menu\";\r\nimport {\r\n  Popover,\r\n  PopoverContent,\r\n  PopoverTrigger,\r\n} from \"@/components/ui/popover\";\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\r\nimport { useAuth } from \"@/lib/auth/hooks\";\r\nimport {\r\n  useSupabaseBrowser,\r\n  type TypedSSRSupabaseClient,\r\n} from \"@/lib/supabase/client\";\r\nimport type { Database } from \"@/types/supabase\";\r\n\r\ntype Notification = Database[\"public\"][\"Tables\"][\"notifications\"][\"Row\"];\r\n\r\nexport function NotificationButton() {\r\n  const { user } = useAuth();\r\n  const supabase = useSupabaseBrowser();\r\n  const [notifications, setNotifications] = useState<Notification[]>([]);\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!user || !supabase) return;\r\n\r\n    const fetchNotifications = async () => {\r\n      setIsLoading(true);\r\n      setError(null);\r\n      try {\r\n        const { data, error: fetchError } = await supabase\r\n          .from(\"notifications\")\r\n          .select(\"*\")\r\n          .eq(\"user_id\", user.id)\r\n          .order(\"created_at\", { ascending: false })\r\n          .limit(10);\r\n\r\n        if (fetchError) {\r\n          throw fetchError;\r\n        }\r\n\r\n        setNotifications(data || []);\r\n        const unread = (data || []).filter(\r\n          (n: Notification) => !n.is_read\r\n        ).length;\r\n        setUnreadCount(unread);\r\n      } catch (err: any) {\r\n        console.error(\r\n          \"Error fetching notifications (raw):\",\r\n          err,\r\n          \"Error fetching notifications (JSON):\",\r\n          JSON.stringify(err, Object.getOwnPropertyNames(err))\r\n        );\r\n        setError(\"Failed to load notifications\");\r\n        setNotifications([]);\r\n        setUnreadCount(0);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchNotifications();\r\n\r\n    const channel = supabase\r\n      .channel(\"public:notifications\")\r\n      .on<Notification>(\r\n        \"postgres_changes\",\r\n        {\r\n          event: \"INSERT\",\r\n          schema: \"public\",\r\n          table: \"notifications\",\r\n          filter: `user_id=eq.${user.id}`,\r\n        },\r\n        (payload: RealtimePostgresChangesPayload<Notification>) => {\r\n          console.log(\"New notification received:\", payload);\r\n          setNotifications((prev) =>\r\n            [payload.new as Notification, ...prev].slice(0, 10)\r\n          );\r\n          setUnreadCount((prev) => prev + 1);\r\n        }\r\n      )\r\n      .on<Notification>(\r\n        \"postgres_changes\",\r\n        {\r\n          event: \"UPDATE\",\r\n          schema: \"public\",\r\n          table: \"notifications\",\r\n          filter: `user_id=eq.${user.id}`,\r\n        },\r\n        (payload: RealtimePostgresChangesPayload<Notification>) => {\r\n          console.log(\"Notification updated:\", payload);\r\n          const updatedNotification = payload.new as Notification;\r\n          setNotifications((prev) =>\r\n            prev.map((n) =>\r\n              n.id === updatedNotification.id ? updatedNotification : n\r\n            )\r\n          );\r\n          fetchNotifications();\r\n        }\r\n      )\r\n      .subscribe();\r\n\r\n    return () => {\r\n      if (supabase && channel) {\r\n        supabase\r\n          .removeChannel(channel)\r\n          .catch((err: Error) => console.error(\"Error removing channel:\", err));\r\n      }\r\n    };\r\n  }, [user, supabase]);\r\n\r\n  const markAsRead = async (notificationId: string) => {\r\n    if (!user || !supabase) return;\r\n    try {\r\n      const { error: updateError } = await supabase\r\n        .from(\"notifications\")\r\n        .update({ is_read: true })\r\n        .eq(\"id\", notificationId)\r\n        .eq(\"user_id\", user.id);\r\n\r\n      if (updateError) {\r\n        throw updateError;\r\n      }\r\n\r\n      setNotifications((prev) =>\r\n        prev.map((n) => {\r\n          if (n.id === notificationId && !n.is_read) {\r\n            setUnreadCount((prevCount) => Math.max(0, prevCount - 1));\r\n            return { ...n, is_read: true };\r\n          }\r\n          return n;\r\n        })\r\n      );\r\n    } catch (err) {\r\n      console.error(\"Error marking notification as read:\", err);\r\n    }\r\n  };\r\n\r\n  const markAllAsRead = async () => {\r\n    if (!user || !supabase || unreadCount === 0) return;\r\n    try {\r\n      const { error: updateError } = await supabase\r\n        .from(\"notifications\")\r\n        .update({ is_read: true })\r\n        .eq(\"user_id\", user.id)\r\n        .eq(\"is_read\", false);\r\n\r\n      if (updateError) {\r\n        throw updateError;\r\n      }\r\n\r\n      setNotifications((prev) => prev.map((n) => ({ ...n, is_read: true })));\r\n      setUnreadCount(0);\r\n    } catch (err) {\r\n      console.error(\"Error marking all notifications as read:\", err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Popover open={isOpen} onOpenChange={setIsOpen}>\r\n      <PopoverTrigger asChild>\r\n        <Button variant=\"ghost\" size=\"icon\" className=\"relative\">\r\n          <Bell className=\"h-5 w-5\" />\r\n          {unreadCount > 0 && (\r\n            <Badge\r\n              variant=\"destructive\"\r\n              className=\"absolute -top-1 -right-1 h-4 w-4 justify-center rounded-full p-0 text-xs\"\r\n            >\r\n              {unreadCount}\r\n            </Badge>\r\n          )}\r\n          <span className=\"sr-only\">Notifications</span>\r\n        </Button>\r\n      </PopoverTrigger>\r\n      <PopoverContent className=\"w-80 p-0\">\r\n        <div className=\"flex items-center justify-between border-b p-4\">\r\n          <h3 className=\"font-semibold\">Notifications</h3>\r\n          {unreadCount > 0 && (\r\n            <Button\r\n              variant=\"link\"\r\n              size=\"sm\"\r\n              onClick={markAllAsRead}\r\n              className=\"h-auto p-0\"\r\n            >\r\n              Mark all as read\r\n            </Button>\r\n          )}\r\n        </div>\r\n        <ScrollArea className=\"h-[300px]\">\r\n          {isLoading ? (\r\n            <p className=\"p-4 text-center text-sm text-muted-foreground\">\r\n              Loading...\r\n            </p>\r\n          ) : error ? (\r\n            <p className=\"p-4 text-center text-sm text-destructive\">{error}</p>\r\n          ) : notifications.length === 0 ? (\r\n            <p className=\"p-4 text-center text-sm text-muted-foreground\">\r\n              No new notifications\r\n            </p>\r\n          ) : (\r\n            <div>\r\n              {notifications.map((notification) => (\r\n                <div\r\n                  key={notification.id}\r\n                  className={`flex flex-col items-start gap-1 p-4 border-b last:border-0 cursor-pointer hover:bg-muted/50 ${\r\n                    !notification.is_read\r\n                      ? \"bg-blue-50 dark:bg-blue-900/20 font-medium\"\r\n                      : \"\"\r\n                  }`}\r\n                  onClick={() => markAsRead(notification.id)}\r\n                  role=\"button\"\r\n                  tabIndex={0}\r\n                  onKeyDown={(e) =>\r\n                    e.key === \"Enter\" && markAsRead(notification.id)\r\n                  }\r\n                >\r\n                  <p className=\"text-sm leading-tight\">\r\n                    {notification.message || \"No message content\"}\r\n                  </p>\r\n                  <p className=\"text-xs text-muted-foreground\">\r\n                    {formatDistanceToNow(new Date(notification.created_at), {\r\n                      addSuffix: true,\r\n                    })}\r\n                  </p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </ScrollArea>\r\n      </PopoverContent>\r\n    </Popover>\r\n  );\r\n}\r\n","import(/* webpackMode: \"eager\", webpackExports: [\"IntlClientProvider\"] */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\client-providers.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"Providers\"] */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\providers.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"AppSidebar\"] */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\components\\\\ui\\\\app-sidebar.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"ErrorBoundary\"] */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\components\\\\ui\\\\error-boundary.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\components\\\\ui\\\\footer\\\\index.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\components\\\\ui\\\\language-switcher-wrapper.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"NotificationButton\"] */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\components\\\\ui\\\\notification-button.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"Search\"] */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\components\\\\ui\\\\search.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"Separator\"] */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\components\\\\ui\\\\separator.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"SidebarProvider\",\"SidebarInset\",\"SidebarTrigger\"] */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\components\\\\ui\\\\sidebar.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"ThemeToggle\"] */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\components\\\\ui\\\\theme-toggle.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"Analytics\"] */ \"E:\\\\downloads\\\\Hijraah\\\\node_modules\\\\.pnpm\\\\@vercel+analytics@1.5.0_nex_c9ecab91375e0c29fa3860d2f538ce7c\\\\node_modules\\\\@vercel\\\\analytics\\\\dist\\\\react\\\\index.mjs\");\n;\nimport(/* webpackMode: \"eager\" */ \"E:\\\\downloads\\\\Hijraah\\\\node_modules\\\\.pnpm\\\\next@15.3.0-canary.31_@babe_be67f368de2727c847f3a61f5e6cf4fa\\\\node_modules\\\\next\\\\dist\\\\client\\\\image-component.js\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"NuqsAdapter\"] */ \"E:\\\\downloads\\\\Hijraah\\\\node_modules\\\\.pnpm\\\\nuqs@2.4.3_next@15.3.4_@bab_13826e4673cb2a1498094fd55b09072d\\\\node_modules\\\\nuqs\\\\dist\\\\adapters\\\\next\\\\app.js\");\n","/**\r\n * List of supported locales\r\n */\r\nexport const locales = ['en', 'ar', 'es', 'fr'] as const;\r\n\r\n/**\r\n * Type representing the supported locales\r\n */\r\nexport type Locale = (typeof locales)[number];\r\n\r\n/**\r\n * Default locale when no preference is detected\r\n */\r\nexport const defaultLocale: Locale = 'en';\r\n\r\n/**\r\n * Configuration for each locale\r\n */\r\nexport interface LocaleConfig {\r\n  /** Native name of the language */\r\n  nativeName: string;\r\n  /** English name of the language */\r\n  englishName: string;\r\n  /** Text direction (ltr or rtl) */\r\n  direction: 'ltr' | 'rtl';\r\n  /** Date format pattern */\r\n  dateFormat: string;\r\n  /** Flag emoji or code for the language */\r\n  flag: string;\r\n  /** HTML lang attribute value */\r\n  htmlLang: string;\r\n  /** Number formatting options */\r\n  number: {\r\n    /** Decimal separator */\r\n    decimal: string;\r\n    /** Thousands separator */\r\n    thousands: string;\r\n  };\r\n  /** Calendar system */\r\n  calendar?: 'gregory' | 'islamic';\r\n  /** Font class for language-specific typography */\r\n  fontClass?: string;\r\n}\r\n\r\n/**\r\n * Configuration for all supported locales\r\n */\r\nexport const localeConfigs: Record<Locale, LocaleConfig> = {\r\n  en: {\r\n    nativeName: 'English',\r\n    englishName: 'English',\r\n    direction: 'ltr',\r\n    dateFormat: 'MM/DD/YYYY',\r\n    flag: '',\r\n    htmlLang: 'en',\r\n    calendar: 'gregory',\r\n    number: {\r\n      decimal: '.',\r\n      thousands: ',',\r\n    }\r\n  },\r\n  ar: {\r\n    nativeName: '',\r\n    englishName: 'Arabic',\r\n    direction: 'rtl',\r\n    dateFormat: 'DD/MM/YYYY',\r\n    flag: '',\r\n    htmlLang: 'ar',\r\n    calendar: 'islamic',\r\n    fontClass: 'font-arabic',\r\n    number: {\r\n      decimal: '',\r\n      thousands: '',\r\n    }\r\n  },\r\n  fr: {\r\n    nativeName: 'Franais',\r\n    englishName: 'French',\r\n    direction: 'ltr',\r\n    dateFormat: 'DD/MM/YYYY',\r\n    flag: '',\r\n    htmlLang: 'fr',\r\n    calendar: 'gregory',\r\n    number: {\r\n      decimal: ',',\r\n      thousands: ' ',\r\n    }\r\n  },\r\n  es: {\r\n    nativeName: 'Espaol',\r\n    englishName: 'Spanish',\r\n    direction: 'ltr',\r\n    dateFormat: 'DD/MM/YYYY',\r\n    flag: '',\r\n    htmlLang: 'es',\r\n    calendar: 'gregory',\r\n    number: {\r\n      decimal: ',',\r\n      thousands: '.',\r\n    }\r\n  },\r\n};\r\n\r\n/**\r\n * Get configuration for a specific locale\r\n */\r\nexport function getLocaleConfig(locale: Locale | string): LocaleConfig {\r\n  return localeConfigs[locale as Locale] || localeConfigs[defaultLocale];\r\n}\r\n\r\n/**\r\n * Check if a locale is RTL\r\n */\r\nexport function isRTL(locale: Locale | string): boolean {\r\n  return getLocaleConfig(locale).direction === 'rtl';\r\n}\r\n\r\n/**\r\n * Get font class for a locale\r\n */\r\nexport function getLocaleFont(locale: Locale | string): string | undefined {\r\n  return getLocaleConfig(locale).fontClass;\r\n}\r\n\r\n/**\r\n * Get calendar system for a locale\r\n */\r\nexport function getCalendarSystem(locale: Locale | string): 'gregory' | 'islamic' {\r\n  return getLocaleConfig(locale).calendar || 'gregory';\r\n}\r\n\r\n/**\r\n * Get HTML lang attribute value for a locale\r\n */\r\nexport function getHtmlLang(locale: Locale | string): string {\r\n  return getLocaleConfig(locale).htmlLang;\r\n}\r\n\r\n/**\r\n * Get date format for a locale\r\n */\r\nexport function getDateFormat(locale: Locale | string): string {\r\n  return getLocaleConfig(locale).dateFormat;\r\n}","\"use client\"\r\n\r\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\r\nimport { X } from \"lucide-react\"\r\nimport * as React from \"react\"\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst Dialog = DialogPrimitive.Root\r\n\r\nconst DialogTrigger = DialogPrimitive.Trigger\r\n\r\nconst DialogPortal = DialogPrimitive.Portal\r\n\r\nconst DialogClose = DialogPrimitive.Close\r\n\r\nconst DialogOverlay = React.forwardRef<\r\n    React.ElementRef<typeof DialogPrimitive.Overlay>,\r\n    React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n    <DialogPrimitive.Overlay\r\n        ref={ref}\r\n        className={cn(\r\n            \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\r\n\r\nconst DialogContent = React.forwardRef<\r\n    React.ElementRef<typeof DialogPrimitive.Content>,\r\n    React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\r\n>(({ className, children, ...props }, ref) => (\r\n    <DialogPortal>\r\n        <DialogOverlay />\r\n        <DialogPrimitive.Content\r\n            ref={ref}\r\n            className={cn(\r\n                \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\r\n                className\r\n            )}\r\n            {...props}\r\n        >\r\n            {children}\r\n            <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\r\n                <X className=\"h-4 w-4\" />\r\n                <span className=\"sr-only\">Close</span>\r\n            </DialogPrimitive.Close>\r\n        </DialogPrimitive.Content>\r\n    </DialogPortal>\r\n))\r\nDialogContent.displayName = DialogPrimitive.Content.displayName\r\n\r\nconst DialogHeader = ({\r\n    className,\r\n    ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n    <div\r\n        className={cn(\r\n            \"flex flex-col space-y-1.5 text-center sm:text-left\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n)\r\nDialogHeader.displayName = \"DialogHeader\"\r\n\r\nconst DialogFooter = ({\r\n    className,\r\n    ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n    <div\r\n        className={cn(\r\n            \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n)\r\nDialogFooter.displayName = \"DialogFooter\"\r\n\r\nconst DialogTitle = React.forwardRef<\r\n    React.ElementRef<typeof DialogPrimitive.Title>,\r\n    React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n    <DialogPrimitive.Title\r\n        ref={ref}\r\n        className={cn(\r\n            \"text-lg font-semibold leading-none tracking-tight\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nDialogTitle.displayName = DialogPrimitive.Title.displayName\r\n\r\nconst DialogDescription = React.forwardRef<\r\n    React.ElementRef<typeof DialogPrimitive.Description>,\r\n    React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n    <DialogPrimitive.Description\r\n        ref={ref}\r\n        className={cn(\"text-sm text-muted-foreground\", className)}\r\n        {...props}\r\n    />\r\n))\r\nDialogDescription.displayName = DialogPrimitive.Description.displayName\r\n\r\nexport {\r\n    Dialog,\r\n    DialogPortal,\r\n    DialogOverlay,\r\n    DialogClose,\r\n    DialogTrigger,\r\n    DialogContent,\r\n    DialogHeader,\r\n    DialogFooter,\r\n    DialogTitle,\r\n    DialogDescription,\r\n} ","'use client';\r\n\r\nimport { SearchIcon, Loader2, XCircleIcon } from 'lucide-react';\r\nimport * as React from 'react';\r\nimport { useHotkeys } from 'react-hotkeys-hook';\r\n\r\nimport { Button } from '@/components/ui/button';\r\nimport {\r\n    CommandDialog,\r\n    CommandEmpty,\r\n    CommandGroup,\r\n    CommandInput,\r\n    CommandItem,\r\n    CommandList,\r\n    CommandSeparator,\r\n} from '@/components/ui/command';\r\nimport { Input } from '@/components/ui/input';\r\nimport { useSearchContext as useSearch } from '@/lib/contexts/search-context';\r\nimport { cn } from '@/lib/utils';\r\n\r\nexport function Search() {\r\n    const [open, setOpen] = React.useState(false);\r\n    const inputRef = React.useRef<HTMLInputElement>(null);\r\n    const {\r\n        query,\r\n        setQuery,\r\n        isLoading,\r\n        suggestions,\r\n        aiSuggestions,\r\n        handleSearch,\r\n        clearSearch,\r\n    } = useSearch();\r\n\r\n    // Toggle the command palette with Cmd+K or Ctrl+K\r\n    useHotkeys(['meta+k', 'ctrl+k'], (e) => {\r\n        e.preventDefault();\r\n        setOpen((open) => !open);\r\n    });\r\n\r\n    React.useEffect(() => {\r\n        const down = (e: KeyboardEvent) => {\r\n            if (e.key === 'k' && (e.metaKey || e.ctrlKey)) {\r\n                e.preventDefault();\r\n                setOpen((open) => !open);\r\n            }\r\n        };\r\n\r\n        document.addEventListener('keydown', down);\r\n        return () => document.removeEventListener('keydown', down);\r\n    }, []);\r\n\r\n    const onSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        await handleSearch(e);\r\n        inputRef.current?.blur();\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <form\r\n                onSubmit={onSubmit}\r\n                className=\"relative flex w-full max-w-sm items-center space-x-2\"\r\n                role=\"search\"\r\n            >\r\n                <Input\r\n                    ref={inputRef}\r\n                    type=\"search\"\r\n                    placeholder=\"Search documents, requirements...\"\r\n                    value={query}\r\n                    onChange={(e) => setQuery(e.target.value)}\r\n                    className={cn(\r\n                        'h-9 w-9 rounded-full pl-8 pr-4 focus-visible:w-64 xl:w-64',\r\n                        'transition-all duration-300 ease-in-out',\r\n                        'focus-visible:rounded-md',\r\n                    )}\r\n                    aria-label=\"Search\"\r\n                    aria-expanded={open}\r\n                    aria-controls=\"search-results\"\r\n                    aria-describedby=\"search-desc\"\r\n                />\r\n                <SearchIcon\r\n                    className=\"absolute left-2.5 h-4 w-4 text-muted-foreground\"\r\n                    aria-hidden=\"true\"\r\n                />\r\n                {query && !isLoading && (\r\n                    <Button\r\n                        type=\"button\"\r\n                        variant=\"ghost\"\r\n                        size=\"icon\"\r\n                        className=\"absolute right-2 h-6 w-6\"\r\n                        onClick={clearSearch}\r\n                        aria-label=\"Clear search\"\r\n                    >\r\n                        <XCircleIcon className=\"h-4 w-4\" />\r\n                    </Button>\r\n                )}\r\n                {isLoading && (\r\n                    <Loader2\r\n                        className=\"absolute right-2 h-4 w-4 animate-spin\"\r\n                        aria-hidden=\"true\"\r\n                    />\r\n                )}\r\n                <span className=\"sr-only\" id=\"search-desc\">\r\n                    Press K to open search\r\n                </span>\r\n            </form>\r\n\r\n            <CommandDialog open={open} onOpenChange={setOpen}>\r\n                <CommandInput\r\n                    placeholder=\"Type a command or search...\"\r\n                    value={query}\r\n                    onValueChange={setQuery}\r\n                />\r\n                <CommandList id=\"search-results\">\r\n                    <CommandEmpty>No results found.</CommandEmpty>\r\n                    {isLoading ? (\r\n                        <div className=\"flex items-center justify-center py-6\">\r\n                            <Loader2 className=\"h-4 w-4 animate-spin\" />\r\n                        </div>\r\n                    ) : (\r\n                        <>\r\n                            {suggestions.length > 0 && (\r\n                                <CommandGroup heading=\"Quick Links\">\r\n                                    {suggestions.map((suggestion) => (\r\n                                        <CommandItem\r\n                                            key={suggestion}\r\n                                            onSelect={() => setQuery(suggestion)}\r\n                                        >\r\n                                            {suggestion}\r\n                                        </CommandItem>\r\n                                    ))}\r\n                                </CommandGroup>\r\n                            )}\r\n                            {aiSuggestions.length > 0 && (\r\n                                <>\r\n                                    <CommandSeparator />\r\n                                    <CommandGroup heading=\"AI Suggestions\">\r\n                                        {aiSuggestions.map((suggestion) => (\r\n                                            <CommandItem\r\n                                                key={suggestion}\r\n                                                onSelect={() => setQuery(suggestion)}\r\n                                            >\r\n                                                {suggestion}\r\n                                            </CommandItem>\r\n                                        ))}\r\n                                    </CommandGroup>\r\n                                </>\r\n                            )}\r\n                        </>\r\n                    )}\r\n                </CommandList>\r\n            </CommandDialog>\r\n        </>\r\n    );\r\n}","import { clsx, type ClassValue } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\n/**\r\n * Utility function to merge Tailwind CSS classes with clsx conditionals\r\n * @param inputs - Class values to merge\r\n * @returns Merged class string\r\n */\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n} ","\"use client\";\r\n\r\nimport { Copyright, Github, Heart, Mail, Twitter } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\n\r\nimport { cn } from \"@/shared/utils/cn\";\r\n\r\nconst footerLinks = [\r\n  {\r\n    title: \"Product\",\r\n    links: [\r\n      { name: \"Features\", href: \"/features\" },\r\n      { name: \"Pricing\", href: \"/pricing\" },\r\n      { name: \"Compare\", href: \"/compare\" },\r\n      { name: \"Countries\", href: \"/countries\" },\r\n    ],\r\n  },\r\n  {\r\n    title: \"Resources\",\r\n    links: [\r\n      { name: \"Documentation\", href: \"/docs\" },\r\n      { name: \"Blog\", href: \"/blog\" },\r\n      { name: \"FAQs\", href: \"/faqs\" },\r\n      { name: \"Support\", href: \"/support\" },\r\n    ],\r\n  },\r\n  {\r\n    title: \"Company\",\r\n    links: [\r\n      { name: \"About\", href: \"/about\" },\r\n      { name: \"Team\", href: \"/team\" },\r\n      { name: \"Careers\", href: \"/careers\" },\r\n      { name: \"Contact\", href: \"/contact\" },\r\n    ],\r\n  },\r\n];\r\n\r\nconst socialLinks = [\r\n  {\r\n    name: \"GitHub\",\r\n    href: \"https://github.com/hijraah\",\r\n    icon: Github,\r\n  },\r\n  {\r\n    name: \"Twitter\",\r\n    href: \"https://twitter.com/hijraah\",\r\n    icon: Twitter,\r\n  },\r\n  {\r\n    name: \"Email\",\r\n    href: \"mailto:hello@hijraah.com\",\r\n    icon: Mail,\r\n  },\r\n];\r\n\r\n/**\r\n * Footer component\r\n *\r\n * @example\r\n * ```tsx\r\n * <Footer>Content</Footer>\r\n * ```\r\n */\r\nexport function Footer() {\r\n  const pathname = usePathname();\r\n  const currentYear = new Date().getFullYear();\r\n\r\n  return (\r\n    <footer\r\n      className=\"border-t border-border bg-background/50 backdrop-blur-sm w-full mt-auto print:hidden\"\r\n      data-slot=\"footer\"\r\n    >\r\n      <div\r\n        className=\"container py-10 px-4 sm:px-6 lg:px-8 mx-auto\"\r\n        data-slot=\"footer-content\"\r\n      >\r\n        {/* Main footer content */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8 md:gap-12\">\r\n          {/* Brand section */}\r\n          <div className=\"flex flex-col space-y-4\" data-slot=\"footer-brand\">\r\n            <Link\r\n              href=\"/\"\r\n              className=\"flex items-center\"\r\n              aria-label=\"Hijraah Home\"\r\n            >\r\n              <span className=\"font-bold text-xl\">Hijraah</span>\r\n            </Link>\r\n            <p className=\"text-sm text-muted-foreground max-w-xs\">\r\n              Compare immigration policies across countries with AI-powered\r\n              insights and personalized guidance.\r\n            </p>\r\n            <div className=\"flex space-x-3 pt-2\" data-slot=\"footer-social\">\r\n              {socialLinks.map((link) => (\r\n                <a\r\n                  key={link.name}\r\n                  href={link.href}\r\n                  className=\"text-muted-foreground hover:text-foreground transition-colors rounded-md hover:bg-accent/50 p-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  aria-label={link.name}\r\n                  data-slot=\"social-link\"\r\n                >\r\n                  <link.icon className=\"h-5 w-5\" />\r\n                </a>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Links sections */}\r\n          {footerLinks.map((section) => (\r\n            <div\r\n              key={section.title}\r\n              className=\"flex flex-col space-y-4\"\r\n              data-slot=\"footer-links-section\"\r\n            >\r\n              <h3 className=\"font-semibold text-sm tracking-wider uppercase text-foreground\">\r\n                {section.title}\r\n              </h3>\r\n              <ul\r\n                className=\"flex flex-col space-y-2.5\"\r\n                data-slot=\"footer-links\"\r\n              >\r\n                {section.links.map((link) => (\r\n                  <li key={link.name} data-slot=\"footer-link-item\">\r\n                    <Link\r\n                      href={link.href}\r\n                      className={cn(\r\n                        \"text-sm text-muted-foreground hover:text-foreground transition-colors inline-flex items-center gap-1.5\",\r\n                        pathname === link.href && \"text-foreground font-medium\"\r\n                      )}\r\n                      data-active={pathname === link.href ? \"true\" : undefined}\r\n                    >\r\n                      <>\r\n                        {link.name}\r\n                        {pathname === link.href && (\r\n                          <span className=\"size-1.5 rounded-full bg-foreground/70\" />\r\n                        )}\r\n                      </>\r\n                    </Link>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Bottom footer with copyright */}\r\n        <div\r\n          className=\"flex flex-col md:flex-row justify-between items-center mt-10 pt-6 border-t border-border text-center md:text-left\"\r\n          data-slot=\"footer-bottom\"\r\n        >\r\n          <div\r\n            className=\"flex items-center text-sm text-muted-foreground mb-3 md:mb-0\"\r\n            data-slot=\"footer-copyright\"\r\n          >\r\n            <Copyright className=\"h-4 w-4 mr-2\" />\r\n            <span>{currentYear} Hijraah. All rights reserved.</span>\r\n          </div>\r\n          <div\r\n            className=\"flex items-center text-sm text-muted-foreground\"\r\n            data-slot=\"footer-tagline\"\r\n          >\r\n            <span>Made with</span>\r\n            <Heart className=\"h-4 w-4 mx-1.5 text-destructive animate-pulse\" />\r\n            <span>by Hijraah Team</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n","import { cva, type VariantProps } from \"class-variance-authority\"\r\nimport * as React from \"react\"\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst alertVariants = cva(\r\n  \"relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-background text-foreground\",\r\n        destructive:\r\n          \"text-destructive-foreground [&>svg]:text-current *:data-[slot=alert-description]:text-destructive-foreground/80\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nfunction Alert({\r\n  className,\r\n  variant,\r\n  ...props\r\n}: React.ComponentProps<\"div\"> & VariantProps<typeof alertVariants>) {\r\n  return (\r\n    <div\r\n      data-slot=\"alert\"\r\n      role=\"alert\"\r\n      className={cn(alertVariants({ variant }), className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction AlertTitle({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"alert-title\"\r\n      className={cn(\r\n        \"col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction AlertDescription({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"alert-description\"\r\n      className={cn(\r\n        \"text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Alert, AlertTitle, AlertDescription }\r\n","import { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\r\n        secondary:\r\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\r\n        destructive:\r\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\r\n        outline:\r\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nfunction Badge({\r\n  className,\r\n  variant,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<\"span\"> &\r\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\r\n  const Comp = asChild ? Slot : \"span\"\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"badge\"\r\n      className={cn(badgeVariants({ variant }), className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n","import * as origModule from 'next/dist/server/app-render/work-unit-async-storage.external.js';\nimport * as serverComponentModule from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\nexport * from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\nimport * as Sentry from '@sentry/nextjs';\n\n// @ts-expect-error Because we cannot be sure if the RequestAsyncStorage module exists (it is not part of the Next.js public\n// API) we use a shim if it doesn't exist. The logic for this is in the wrapping loader.\n\nconst asyncStorageModule = { ...origModule } ;\n\nconst requestAsyncStorage =\n  'workUnitAsyncStorage' in asyncStorageModule\n    ? asyncStorageModule.workUnitAsyncStorage\n    : 'requestAsyncStorage' in asyncStorageModule\n      ? asyncStorageModule.requestAsyncStorage\n      : undefined;\n\nconst serverComponent = serverComponentModule.default;\n\nlet wrappedServerComponent;\nif (typeof serverComponent === 'function') {\n  // For some odd Next.js magic reason, `headers()` will not work if used inside `wrapServerComponentsWithSentry`.\n  // Current assumption is that Next.js applies some loader magic to userfiles, but not files in node_modules. This file\n  // is technically a userfile so it gets the loader magic applied.\n  wrappedServerComponent = new Proxy(serverComponent, {\n    apply: (originalFunction, thisArg, args) => {\n      let sentryTraceHeader = undefined;\n      let baggageHeader = undefined;\n      let headers = undefined;\n\n      // We try-catch here just in `requestAsyncStorage` is undefined since it may not be defined\n      try {\n        const requestAsyncStore = requestAsyncStorage?.getStore() ;\n        sentryTraceHeader = requestAsyncStore?.headers.get('sentry-trace') ?? undefined;\n        baggageHeader = requestAsyncStore?.headers.get('baggage') ?? undefined;\n        headers = requestAsyncStore?.headers;\n      } catch (e) {\n        /** empty */\n      }\n\n      return Sentry.wrapServerComponentWithSentry(originalFunction, {\n        componentRoute: '/[locale]',\n        componentType: 'Not-found',\n        sentryTraceHeader,\n        baggageHeader,\n        headers,\n      }).apply(thisArg, args);\n    },\n  });\n} else {\n  wrappedServerComponent = serverComponent;\n}\n\nconst generateMetadata = serverComponentModule.generateMetadata\n  ? Sentry.wrapGenerationFunctionWithSentry(serverComponentModule.generateMetadata, {\n      componentRoute: '/[locale]',\n      componentType: 'Not-found',\n      generationFunctionIdentifier: 'generateMetadata',\n      requestAsyncStorage,\n    })\n  : undefined;\n\nconst generateImageMetadata = serverComponentModule.generateImageMetadata\n  ? Sentry.wrapGenerationFunctionWithSentry(serverComponentModule.generateImageMetadata, {\n      componentRoute: '/[locale]',\n      componentType: 'Not-found',\n      generationFunctionIdentifier: 'generateImageMetadata',\n      requestAsyncStorage,\n    })\n  : undefined;\n\nconst generateViewport = serverComponentModule.generateViewport\n  ? Sentry.wrapGenerationFunctionWithSentry(serverComponentModule.generateViewport, {\n      componentRoute: '/[locale]',\n      componentType: 'Not-found',\n      generationFunctionIdentifier: 'generateViewport',\n      requestAsyncStorage,\n    })\n  : undefined;\n\nconst wrappedServerComponent$1 = wrappedServerComponent;\n\nexport { wrappedServerComponent$1 as default, generateImageMetadata, generateMetadata, generateViewport };\n","\"use client\"\r\n\r\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\r\nimport { Command as CommandPrimitive } from \"cmdk\"\r\nimport { Search } from \"lucide-react\"\r\nimport * as React from \"react\"\r\n\r\nimport { cn } from '@/lib/utils'\r\nimport { Dialog, DialogContent } from \"@/ui/dialog\"\r\n\r\nconst Command = React.forwardRef<\r\n    React.ElementRef<typeof CommandPrimitive>,\r\n    React.ComponentPropsWithoutRef<typeof CommandPrimitive>\r\n>(({ className, ...props }, ref) => (\r\n    <CommandPrimitive\r\n        ref={ref}\r\n        className={cn(\r\n            \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nCommand.displayName = CommandPrimitive.displayName\r\n\r\ninterface CommandDialogProps extends DialogProps { }\r\n\r\nconst CommandDialog = ({ children, ...props }: CommandDialogProps) => {\r\n    return (\r\n        <Dialog {...props}>\r\n            <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\r\n                <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\r\n                    {children}\r\n                </Command>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nconst CommandInput = React.forwardRef<\r\n    React.ElementRef<typeof CommandPrimitive.Input>,\r\n    React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\r\n>(({ className, ...props }, ref) => (\r\n    <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\r\n        <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\r\n        <CommandPrimitive.Input\r\n            ref={ref}\r\n            className={cn(\r\n                \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\r\n                className\r\n            )}\r\n            {...props}\r\n        />\r\n    </div>\r\n))\r\n\r\nCommandInput.displayName = CommandPrimitive.Input.displayName\r\n\r\nconst CommandList = React.forwardRef<\r\n    React.ElementRef<typeof CommandPrimitive.List>,\r\n    React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\r\n>(({ className, ...props }, ref) => (\r\n    <CommandPrimitive.List\r\n        ref={ref}\r\n        className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\r\n        {...props}\r\n    />\r\n))\r\n\r\nCommandList.displayName = CommandPrimitive.List.displayName\r\n\r\nconst CommandEmpty = React.forwardRef<\r\n    React.ElementRef<typeof CommandPrimitive.Empty>,\r\n    React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\r\n>((props, ref) => (\r\n    <CommandPrimitive.Empty\r\n        ref={ref}\r\n        className=\"py-6 text-center text-sm\"\r\n        {...props}\r\n    />\r\n))\r\n\r\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\r\n\r\nconst CommandGroup = React.forwardRef<\r\n    React.ElementRef<typeof CommandPrimitive.Group>,\r\n    React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\r\n>(({ className, ...props }, ref) => (\r\n    <CommandPrimitive.Group\r\n        ref={ref}\r\n        className={cn(\r\n            \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\n\r\nCommandGroup.displayName = CommandPrimitive.Group.displayName\r\n\r\nconst CommandSeparator = React.forwardRef<\r\n    React.ElementRef<typeof CommandPrimitive.Separator>,\r\n    React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\r\n>(({ className, ...props }, ref) => (\r\n    <CommandPrimitive.Separator\r\n        ref={ref}\r\n        className={cn(\"-mx-1 h-px bg-border\", className)}\r\n        {...props}\r\n    />\r\n))\r\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\r\n\r\nconst CommandItem = React.forwardRef<\r\n    React.ElementRef<typeof CommandPrimitive.Item>,\r\n    React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\r\n>(({ className, ...props }, ref) => (\r\n    <CommandPrimitive.Item\r\n        ref={ref}\r\n        className={cn(\r\n            \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\n\r\nCommandItem.displayName = CommandPrimitive.Item.displayName\r\n\r\nconst CommandShortcut = ({\r\n    className,\r\n    ...props\r\n}: React.HTMLAttributes<HTMLSpanElement>) => {\r\n    return (\r\n        <span\r\n            className={cn(\r\n                \"ml-auto text-xs tracking-widest text-muted-foreground\",\r\n                className\r\n            )}\r\n            {...props}\r\n        />\r\n    )\r\n}\r\nCommandShortcut.displayName = \"CommandShortcut\"\r\n\r\nexport {\r\n    Command,\r\n    CommandDialog,\r\n    CommandInput,\r\n    CommandList,\r\n    CommandEmpty,\r\n    CommandGroup,\r\n    CommandItem,\r\n    CommandShortcut,\r\n    CommandSeparator,\r\n} ","import(/* webpackMode: \"eager\" */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\[locale]\\\\not-found.tsx\");\n","import React, { Suspense, lazy } from \"react\";\r\n\r\nimport {\r\n  ONBOARDING_STEPS_CONFIG,\r\n  OnboardingStepConfig,\r\n} from \"@/_shared/constants/onboarding-steps\";\r\n\r\nimport { OnboardingDebug } from \"./OnboardingDebug\";\r\nimport { OnboardingProgress } from \"./OnboardingProgress\";\r\nimport { OnboardingProvider, useOnboarding } from \"./OnboardingProvider\";\r\n\r\n\r\n// Lazy load step components\r\nconst WelcomeModal = lazy(() =>\r\n  import(\"./WelcomeModal\").then((module) => ({ default: module.WelcomeModal }))\r\n);\r\nconst ProfileSetup = lazy(() =>\r\n  import(\"./ProfileSetup\").then((module) => ({ default: module.ProfileSetup }))\r\n);\r\nconst FeatureTour = lazy(() =>\r\n  import(\"./FeatureTour\").then((module) => ({ default: module.FeatureTour }))\r\n);\r\nconst FirstTask = lazy(() =>\r\n  import(\"./FirstTask\").then((module) => ({ default: module.FirstTask }))\r\n);\r\nconst Resources = lazy(() =>\r\n  import(\"./Resources\").then((module) => ({ default: module.Resources }))\r\n);\r\n\r\n// Map step IDs to components\r\nconst componentMap: Record<string, React.LazyExoticComponent<React.FC<any>>> = {\r\n  welcome: WelcomeModal,\r\n  \"profile-setup\": ProfileSetup,\r\n  \"feature-tour\": FeatureTour,\r\n  \"first-task\": FirstTask,\r\n  resources: Resources,\r\n};\r\n\r\n/**\r\n * Renders the active onboarding step component.\r\n */\r\nconst ActiveOnboardingStep: React.FC = () => {\r\n  const { onboarding, isLoading } = useOnboarding();\r\n\r\n  // Log the state received\r\n  console.log(\"[ActiveOnboardingStep] Rendering. State:\", {\r\n    isLoading: isLoading,\r\n    isCompleted: onboarding.isCompleted,\r\n    hideForSession: onboarding.hideForSession,\r\n    isActive: onboarding.isActive,\r\n    currentStep: onboarding.currentStep,\r\n  });\r\n\r\n  // Don't render anything if completed, hidden, or inactive\r\n  if (\r\n    onboarding.isCompleted ||\r\n    onboarding.hideForSession ||\r\n    !onboarding.isActive\r\n  ) {\r\n    console.log(\"[ActiveOnboardingStep] Conditions met to NOT render.\", {\r\n      isCompleted: onboarding.isCompleted,\r\n      hideForSession: onboarding.hideForSession,\r\n      isActive: onboarding.isActive,\r\n    });\r\n    return null;\r\n  }\r\n\r\n  const currentStepId = onboarding.currentStep;\r\n  const ActiveComponent = componentMap[currentStepId];\r\n\r\n  if (!ActiveComponent) {\r\n    console.warn(\r\n      `[Onboarding] No component mapped for step ID: ${currentStepId}`\r\n    );\r\n    return null; // Or render a fallback/error state\r\n  }\r\n\r\n  // Find the config for the current step to pass props if needed (optional for now)\r\n  const currentStepConfig = ONBOARDING_STEPS_CONFIG.find(\r\n    (step) => step.id === currentStepId\r\n  );\r\n\r\n  return (\r\n    <Suspense fallback={<div>Loading onboarding step...</div>}>\r\n      {/* Pass relevant config props if components expect them */}\r\n      {/* Example: <ActiveComponent config={currentStepConfig} /> */}\r\n      <ActiveComponent />\r\n    </Suspense>\r\n  );\r\n};\r\n\r\n/**\r\n * Main Onboarding component that orchestrates the entire onboarding experience.\r\n * This component should be placed high in the component tree, typically in _app.tsx\r\n * or a layout component, to ensure the onboarding experience is available throughout\r\n * the application.\r\n */\r\nexport function Onboarding({ children }: { children: React.ReactNode }) {\r\n  return (\r\n    <OnboardingProvider>\r\n      {children}\r\n\r\n      {/* Conditionally rendered active step component */}\r\n      <ActiveOnboardingStep />\r\n\r\n      {/* Progress indicator - Rendered independently */}\r\n      <OnboardingProgress />\r\n\r\n      {/* Debug tool - Rendered independently */}\r\n      <OnboardingDebug />\r\n    </OnboardingProvider>\r\n  );\r\n}\r\n\r\n/**\r\n * Tag component to mark elements as part of the feature tour.\r\n * Use this component to wrap elements that should be highlighted during the tour.\r\n */\r\nexport function TourTarget({\r\n  id,\r\n  children,\r\n}: {\r\n  id: string;\r\n  children: React.ReactNode;\r\n}) {\r\n  // Ensure the data-tour attribute matches the format expected by the tour configuration\r\n  // Example: if config uses `[data-tour=\"dashboard\"]`, id should be `dashboard`.\r\n  return <div data-tour={id}>{children}</div>;\r\n}\r\n","import { X, ChevronRight } from \"lucide-react\";\r\nimport React from \"react\";\r\n\r\nimport {\r\n  getStepById,\r\n  getStepIndex,\r\n  getTotalSteps,\r\n  getStepByIndex,\r\n} from \"@/_shared/constants/onboarding-steps\";\r\nimport type { OnboardingStepConfig } from \"@/_shared/constants/onboarding-steps\";\r\nimport { Button } from \"@/ui/button\";\r\nimport { Progress } from \"@/ui/progress\";\r\n\r\nimport { useOnboarding } from \"./OnboardingProvider\";\r\n\r\nexport const OnboardingProgress: React.FC = () => {\r\n  const { onboarding, hideOnboardingForSession, resetOnboarding, nextStep } =\r\n    useOnboarding();\r\n\r\n  // Don't show if onboarding is not active or is hidden or completed\r\n  if (\r\n    !onboarding.isActive ||\r\n    onboarding.hideForSession ||\r\n    onboarding.isCompleted\r\n  ) {\r\n    return null;\r\n  }\r\n\r\n  const currentStep = getStepById(onboarding.currentStep);\r\n  const currentStepIndex = getStepIndex(onboarding.currentStep);\r\n  const totalSteps = getTotalSteps();\r\n\r\n  // Generate the steps array using helper functions\r\n  const allSteps: (OnboardingStepConfig | undefined)[] = Array.from(\r\n    { length: totalSteps },\r\n    (_, i) => getStepByIndex(i)\r\n  );\r\n  // Filter out undefined steps just in case getStepByIndex returns undefined for some index\r\n  const validSteps = allSteps.filter(\r\n    (step): step is OnboardingStepConfig => step !== undefined\r\n  );\r\n\r\n  if (!currentStep) return null;\r\n\r\n  // Check if we're in a modal step (like profile-setup)\r\n  const isModalStep = onboarding.currentStep === \"profile-setup\";\r\n\r\n  // Adjust positioning based on current step\r\n  const positionClasses = isModalStep\r\n    ? \"fixed bottom-4 right-4 z-30\" // Position in bottom-right when profile setup is active\r\n    : \"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-30\"; // Default centered position\r\n\r\n  return (\r\n    <div\r\n      className={`${positionClasses} bg-card shadow-lg rounded-lg p-4 w-full max-w-md border flex flex-col gap-3`}\r\n    >\r\n      <div className=\"flex items-center justify-between\">\r\n        <h3 className=\"font-medium\">Your Onboarding Progress</h3>\r\n        <Button\r\n          variant=\"ghost\"\r\n          size=\"icon\"\r\n          className=\"h-6 w-6\"\r\n          onClick={hideOnboardingForSession}\r\n          aria-label=\"Dismiss\"\r\n        >\r\n          <X className=\"h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center justify-between text-sm\">\r\n          <p>{onboarding.progress}% Completed</p>\r\n          <p>\r\n            {currentStepIndex + 1}/{totalSteps}\r\n          </p>\r\n        </div>\r\n\r\n        <Progress value={onboarding.progress} className=\"h-2\" />\r\n\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          {validSteps.map((step, index) => (\r\n            <div\r\n              key={step.id}\r\n              className={`\r\n                                px-3 py-1 text-xs rounded-full border \r\n                                ${\r\n                                  index < currentStepIndex\r\n                                    ? \"bg-primary/20 border-primary/30 text-primary-foreground\"\r\n                                    : index === currentStepIndex\r\n                                    ? \"bg-primary text-primary-foreground\"\r\n                                    : \"bg-muted text-muted-foreground\"\r\n                                }\r\n                            `}\r\n            >\r\n              {step.title}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Feature details for current step */}\r\n      {currentStep.features && currentStep.features.length > 0 && (\r\n        <div className=\"mt-2 space-y-2\">\r\n          <h4 className=\"text-sm font-medium\">{currentStep.title} Features:</h4>\r\n          <ul className=\"space-y-1\">\r\n            {currentStep.features.map((feature) => (\r\n              <li key={feature.id} className=\"text-xs flex items-start gap-2\">\r\n                <ChevronRight className=\"h-3 w-3 mt-0.5 flex-shrink-0 text-primary\" />\r\n                <span className=\"flex-1\">{feature.title}</span>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"flex justify-between mt-2\">\r\n        <Button variant=\"outline\" size=\"sm\" onClick={resetOnboarding}>\r\n          Restart\r\n        </Button>\r\n        <Button variant=\"default\" size=\"sm\" onClick={nextStep}>\r\n          Continue\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","/**\r\n * @deprecated This file is maintained for backward compatibility.\r\n * Please import from '@/ui/organisms/footer' instead.\r\n */\r\n\r\n// Re-export from footer directory\r\nexport * from \"@/components/ui/footer/index\";\r\n","import { Analytics } from \"@vercel/analytics/react\";\r\nimport { Inter } from \"next/font/google\";\r\nimport Image from \"next/image\";\r\nimport { notFound } from \"next/navigation\";\r\nimport { AbstractIntlMessages } from \"next-intl\";\r\nimport { NuqsAdapter } from \"nuqs/adapters/next/app\";\r\nimport { ReactNode } from \"react\";\r\nimport { Toaster } from \"sonner\";\r\n\r\nimport { AppSidebar } from \"@/components/ui/app-sidebar\";\r\nimport { ErrorBoundary } from \"@/components/ui/error-boundary\";\r\nimport { Footer } from \"@/components/ui/footer\";\r\nimport LanguageSwitcherWrapper from \"@/components/ui/language-switcher-wrapper\";\r\nimport { NotificationButton } from \"@/components/ui/notification-button\";\r\nimport { Search as SearchBar } from \"@/components/ui/search\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport {\r\n  SidebarInset,\r\n  SidebarProvider,\r\n  SidebarTrigger,\r\n} from \"@/components/ui/sidebar\";\r\nimport { ThemeToggle } from \"@/components/ui/theme-toggle\";\r\nimport { locales, getLocaleConfig, getLocaleFont } from \"@/i18n/i18n\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nimport { IntlClientProvider } from \"../client-providers\";\r\nimport { Providers } from \"../providers\";\r\n\r\n// Define font\r\nconst inter = Inter({ subsets: [\"latin\"] });\r\n\r\n// Validate locale at build time\r\nexport function generateStaticParams() {\r\n  return locales.map((locale) => ({ locale }));\r\n}\r\n\r\n// Validate locale at runtime\r\nexport async function validateLocale(locale: string): Promise<string> {\r\n  if (!locales.includes(locale as any)) {\r\n    notFound();\r\n  }\r\n  return locale;\r\n}\r\n\r\n// Load messages with caching\r\nconst messageCache = new Map<string, AbstractIntlMessages>();\r\n\r\nasync function getMessages(locale: string): Promise<AbstractIntlMessages> {\r\n  // Return cached messages if available\r\n  if (messageCache.has(locale)) {\r\n    return messageCache.get(locale)!;\r\n  }\r\n\r\n  try {\r\n    const messages = (await import(`@/i18n/locales/${locale}.json`)).default;\r\n    messageCache.set(locale, messages);\r\n    return messages;\r\n  } catch (error) {\r\n    console.error(`Failed to load messages for locale: ${locale}`, error);\r\n\r\n    // Fallback to English if the locale file is not found\r\n    if (locale !== \"en\") {\r\n      try {\r\n        const defaultMessages = (await import(`@/i18n/locales/en.json`))\r\n          .default;\r\n        messageCache.set(\"en\", defaultMessages);\r\n        console.warn(`Falling back to en locale for missing locale: ${locale}`);\r\n        return defaultMessages;\r\n      } catch (fallbackError) {\r\n        console.error(\"Failed to load fallback locale messages\", fallbackError);\r\n        return {}; // Return empty object instead of notFound() to prevent crashes\r\n      }\r\n    }\r\n\r\n    return {}; // Return empty object instead of notFound() to prevent crashes\r\n  }\r\n}\r\n\r\ninterface LocaleLayoutProps {\r\n  children: ReactNode;\r\n  params: {\r\n    locale: string;\r\n  };\r\n}\r\n\r\nexport default async function LocaleLayout({\r\n  children,\r\n  params,\r\n}: LocaleLayoutProps) {\r\n  // Await the entire params object first (Next.js 15 requirement)\r\n  const resolvedParams = await Promise.resolve(params);\r\n  const localeParam = resolvedParams.locale;\r\n\r\n  // Validate and get locale asynchronously\r\n  const locale = await validateLocale(localeParam);\r\n  const messages = await getMessages(locale);\r\n\r\n  // Get locale config\r\n  const config = getLocaleConfig(locale);\r\n  const direction = config.direction;\r\n  const fontClass = getLocaleFont(locale);\r\n\r\n  return (\r\n    <html\r\n      lang={locale}\r\n      suppressHydrationWarning\r\n      className=\"h-full\"\r\n      dir={direction}\r\n    >\r\n      <head>\r\n        <link rel=\"manifest\" href=\"/manifest.json\" />\r\n      </head>\r\n      <body\r\n        suppressHydrationWarning\r\n        className={cn(\r\n          inter.className,\r\n          fontClass,\r\n          \"h-full m-0 p-0 overflow-x-hidden antialiased\"\r\n        )}\r\n      >\r\n        <NuqsAdapter>\r\n          <IntlClientProvider\r\n            locale={locale}\r\n            messages={messages}\r\n            timeZone=\"UTC\"\r\n          >\r\n            <ErrorBoundary>\r\n              <Providers>\r\n                <SidebarProvider defaultOpen={true}>\r\n                  <AppSidebar />\r\n                  <SidebarInset className=\"flex flex-col min-h-screen w-full\">\r\n                    <header className=\"flex h-16 shrink-0 items-center gap-2 transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-12 border-b border-blue-800/20 bg-gradient-to-r from-blue-950/95 to-indigo-950/95 dark:from-blue-950/95 dark:to-indigo-950/95 backdrop-blur-sm\">\r\n                      <div className=\"flex items-center gap-2 px-4\">\r\n                        <SidebarTrigger className=\"-ml-1 text-blue-100\">\r\n                          <span className=\"sr-only\">Toggle Sidebar</span>\r\n                        </SidebarTrigger>\r\n                        <Separator\r\n                          orientation=\"vertical\"\r\n                          className=\"shrink-0 bg-blue-700/30 w-[1px] mr-2 h-4\"\r\n                        />\r\n                        <Image\r\n                          src=\"/Hijraah_logo.png\"\r\n                          alt=\"Hijraah\"\r\n                          width={32}\r\n                          height={32}\r\n                          className=\"h-8 w-8 mr-2\"\r\n                          priority\r\n                        />\r\n                        <span className=\"font-semibold text-lg hidden md:inline-block text-blue-100\">\r\n                          Hijraah\r\n                        </span>\r\n                      </div>\r\n\r\n                      <div className=\"ml-auto flex items-center gap-4 px-4\">\r\n                        <SearchBar />\r\n                        <NotificationButton />\r\n                        {/* Import is safe since we\\'re using the wrapper */}\r\n                        <LanguageSwitcherWrapper />\r\n                        <ThemeToggle />\r\n                      </div>\r\n                    </header>\r\n                    <main className=\"flex-1 flex flex-col\">\r\n                      {children}\r\n                      <Footer />\r\n                    </main>\r\n                  </SidebarInset>\r\n                </SidebarProvider>\r\n              </Providers>\r\n            </ErrorBoundary>\r\n            <Analytics />\r\n          </IntlClientProvider>\r\n        </NuqsAdapter>\r\n      </body>\r\n    </html>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport { NextIntlClientProvider , IntlErrorCode } from \"next-intl\";\r\nimport { ReactNode } from \"react\";\r\n\r\nimport { getLocaleConfig } from \"@/i18n/i18n\";\r\n\r\ninterface IntlProviderProps {\r\n  locale: string;\r\n  messages: any;\r\n  timeZone?: string;\r\n  now?: Date;\r\n  children: ReactNode;\r\n}\r\n\r\nexport function IntlClientProvider({\r\n  locale,\r\n  messages,\r\n  timeZone = \"UTC\",\r\n  now = new Date(),\r\n  children,\r\n}: IntlProviderProps) {\r\n  // Get locale configuration\r\n  const config = getLocaleConfig(locale);\r\n\r\n  return (\r\n    <NextIntlClientProvider\r\n      locale={locale}\r\n      messages={messages}\r\n      timeZone={timeZone}\r\n      now={now}\r\n      onError={(error) => {\r\n        if (error.code === IntlErrorCode.MISSING_MESSAGE) {\r\n          // Only log missing messages in development, not in production\r\n          if (process.env.NODE_ENV === \"development\") {\r\n            console.debug(`Translation warning: ${error.message}`);\r\n          }\r\n        } else {\r\n          // Log other errors normally\r\n          console.error(\"Translation error:\", error);\r\n        }\r\n      }}\r\n      getMessageFallback={({ namespace, key, error }) => {\r\n        // Return a reasonable fallback based on the key\r\n        const fallback =\r\n          key.charAt(0).toUpperCase() + key.slice(1).replace(/([A-Z])/g, \" $1\");\r\n\r\n        // Log in development for debugging\r\n        if (process.env.NODE_ENV === \"development\") {\r\n          console.debug(\r\n            `Missing translation: ${namespace ? `${namespace}.${key}` : key}`,\r\n            error\r\n          );\r\n        }\r\n\r\n        if (namespace) {\r\n          return `${fallback}`;\r\n        }\r\n\r\n        return fallback;\r\n      }}\r\n      formats={{\r\n        dateTime: {\r\n          short: {\r\n            day: \"2-digit\",\r\n            month: \"2-digit\",\r\n            year: \"numeric\",\r\n          },\r\n          medium: {\r\n            day: \"numeric\",\r\n            month: \"short\",\r\n            year: \"numeric\",\r\n          },\r\n          long: {\r\n            day: \"numeric\",\r\n            month: \"long\",\r\n            year: \"numeric\",\r\n          },\r\n          full: {\r\n            weekday: \"long\",\r\n            day: \"numeric\",\r\n            month: \"long\",\r\n            year: \"numeric\",\r\n          },\r\n          time: {\r\n            hour: \"2-digit\",\r\n            minute: \"2-digit\",\r\n            hour12: config.htmlLang === \"en\",\r\n          },\r\n        },\r\n        number: {\r\n          precise: {\r\n            maximumFractionDigits: 2,\r\n            minimumFractionDigits: 2,\r\n          },\r\n          compact: {\r\n            notation: \"compact\",\r\n          },\r\n          percent: {\r\n            style: \"percent\",\r\n            maximumFractionDigits: 2,\r\n          },\r\n          currency: {\r\n            style: \"currency\",\r\n            currency: \"USD\",\r\n          },\r\n        },\r\n        list: {\r\n          enumeration: {\r\n            style: \"long\",\r\n            type: \"conjunction\",\r\n          },\r\n          or: {\r\n            style: \"long\",\r\n            type: \"disjunction\",\r\n          },\r\n        },\r\n      }}\r\n    >\r\n      {children}\r\n    </NextIntlClientProvider>\r\n  );\r\n}\r\n","import { createBrowserClient } from \"@supabase/ssr\";\r\nimport { User } from \"@supabase/supabase-js\";\r\nimport { useState, useEffect, useCallback } from \"react\";\r\nimport { toast } from \"sonner\";\r\n\r\nimport {\r\n  OnboardingStepId,\r\n  ONBOARDING_STEPS_CONFIG,\r\n} from \"@/_shared/constants/onboarding-steps\";\r\nimport { useSupabaseBrowser } from \"@/lib/supabase/client\";\r\n\r\n// Interface matching the structure in Supabase table (assuming snake_case)\r\ninterface UserOnboardingRecord {\r\n  user_id: string;\r\n  current_step: OnboardingStepId;\r\n  progress: number;\r\n  is_completed: boolean;\r\n  updated_at?: string;\r\n}\r\n\r\n// Local state shape (camelCase)\r\nexport interface OnboardingState {\r\n  currentStep: OnboardingStepId;\r\n  progress: number;\r\n  isCompleted: boolean;\r\n  isActive: boolean;\r\n  hideForSession: boolean;\r\n}\r\n\r\nconst defaultOnboardingState: OnboardingState = {\r\n  currentStep: \"welcome\",\r\n  progress: 0,\r\n  isCompleted: false,\r\n  isActive: false, // Initialize as inactive until user/state is loaded\r\n  hideForSession: false,\r\n};\r\n\r\n/**\r\n * Hook to manage the persistence of onboarding state with Supabase.\r\n */\r\nexport function useOnboardingPersistence(user: User | null) {\r\n  const [onboardingState, setOnboardingState] = useState<OnboardingState>(\r\n    defaultOnboardingState\r\n  );\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const supabase = useSupabaseBrowser();\r\n\r\n  // Fetch initial state\r\n  useEffect(() => {\r\n    if (!user) {\r\n      // If there's no user, reset to default and stop loading\r\n      setOnboardingState(defaultOnboardingState);\r\n      setIsLoading(false);\r\n      return;\r\n    }\r\n\r\n    const fetchState = async () => {\r\n      console.log(\r\n        \"[OnboardingPersistence] fetchState: START. Setting isLoading=true.\"\r\n      );\r\n      setIsLoading(true);\r\n      console.log(\"[OnboardingPersistence] Checking state for user:\", user.id);\r\n      try {\r\n        const { data, error, status } = await supabase\r\n          .from(\"user_onboarding\")\r\n          .select(\"*\")\r\n          .eq(\"user_id\", user.id)\r\n          .single<UserOnboardingRecord>();\r\n\r\n        if (error && status !== 406) {\r\n          // 406 means no rows found, which is expected for new users\r\n          console.error(\r\n            \"[OnboardingPersistence] Error fetching state (raw):\",\r\n            error,\r\n            \"Error fetching state (JSON):\",\r\n            JSON.stringify(error, Object.getOwnPropertyNames(error))\r\n          );\r\n          toast.error(\"Failed to load onboarding progress.\");\r\n          // Keep default state but indicate loading finished\r\n          setOnboardingState((prev) => ({ ...prev, isActive: false }));\r\n        } else if (!data) {\r\n          console.log(\"[OnboardingPersistence] No record found, initializing.\");\r\n          // Initialize for a new user\r\n          const initialState: OnboardingState = {\r\n            ...defaultOnboardingState,\r\n            isActive: true, // Start onboarding for new users\r\n            currentStep: ONBOARDING_STEPS_CONFIG[0].id, // Ensure starting step from config\r\n          };\r\n          setOnboardingState(initialState);\r\n          // Save the initial state to the database\r\n          await supabase.from(\"user_onboarding\").insert({\r\n            user_id: user.id,\r\n            current_step: initialState.currentStep,\r\n            progress: initialState.progress,\r\n            is_completed: initialState.isCompleted,\r\n            updated_at: new Date().toISOString(),\r\n          });\r\n          console.log(\"[OnboardingPersistence] Initial state saved.\");\r\n        } else {\r\n          console.log(\"[OnboardingPersistence] Existing record found:\", data);\r\n          // Load existing state\r\n          setOnboardingState({\r\n            currentStep: data.current_step,\r\n            progress: data.progress,\r\n            isCompleted: data.is_completed,\r\n            // Only set isActive if not completed, allow provider to handle hiding\r\n            isActive: !data.is_completed,\r\n            hideForSession: false, // Reset hideForSession on load\r\n          });\r\n        }\r\n      } catch (err) {\r\n        console.error(\r\n          \"[OnboardingPersistence] Unexpected error fetching state (raw):\",\r\n          err,\r\n          \"Unexpected error fetching state (JSON):\",\r\n          JSON.stringify(err, Object.getOwnPropertyNames(err))\r\n        );\r\n        toast.error(\"An error occurred while loading onboarding progress.\");\r\n        setOnboardingState((prev) => ({ ...prev, isActive: false }));\r\n      } finally {\r\n        console.log(\r\n          \"[OnboardingPersistence] fetchState: FINALLY. Setting isLoading=false.\"\r\n        );\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchState();\r\n  }, [user, supabase]); // Dependency on user and supabase client\r\n\r\n  // Update state and persist to Supabase\r\n  const updateOnboardingState = useCallback(\r\n    async (newState: Partial<OnboardingState>) => {\r\n      if (!user) return;\r\n\r\n      const updatedLocalState: OnboardingState = {\r\n        ...onboardingState,\r\n        ...newState,\r\n      };\r\n      console.log(\r\n        \"[OnboardingPersistence] updateOnboardingState: START. Applying local state:\",\r\n        updatedLocalState\r\n      );\r\n\r\n      // Update local state immediately\r\n      setOnboardingState(updatedLocalState);\r\n\r\n      if (updatedLocalState.isActive) {\r\n        try {\r\n          console.log(\r\n            \"[OnboardingPersistence] updateOnboardingState: BEFORE upsert for user:\",\r\n            user.id,\r\n            { ...newState }\r\n          );\r\n          const { error } = await supabase.from(\"user_onboarding\").upsert({\r\n            user_id: user.id,\r\n            current_step: updatedLocalState.currentStep,\r\n            progress: updatedLocalState.progress,\r\n            is_completed: updatedLocalState.isCompleted,\r\n            updated_at: new Date().toISOString(),\r\n          });\r\n\r\n          if (error) {\r\n            console.error(\r\n              \"[OnboardingPersistence] updateOnboardingState: Upsert error:\",\r\n              error\r\n            );\r\n            toast.error(\"Failed to save onboarding progress.\");\r\n            // Optionally revert local state or handle error\r\n          } else {\r\n            console.log(\r\n              \"[OnboardingPersistence] updateOnboardingState: Upsert SUCCESSFUL.\"\r\n            );\r\n          }\r\n        } catch (err) {\r\n          console.error(\r\n            \"[OnboardingPersistence] updateOnboardingState: Unexpected upsert error:\",\r\n            err\r\n          );\r\n          toast.error(\"An error occurred while saving onboarding progress.\");\r\n        }\r\n      } else {\r\n        console.log(\r\n          \"[OnboardingPersistence] updateOnboardingState: Onboarding not active, skipping upsert.\"\r\n        );\r\n      }\r\n    },\r\n    [user, supabase, onboardingState]\r\n  ); // Include onboardingState in dependencies\r\n\r\n  return { onboardingState, updateOnboardingState, isLoading };\r\n}\r\n","import { createBrowserClient } from \"@supabase/ssr\";\r\nimport { User } from \"@supabase/supabase-js\";\r\nimport React, {\r\n  createContext,\r\n  useContext,\r\n  useEffect,\r\n  useState,\r\n  useCallback,\r\n  useMemo,\r\n} from \"react\";\r\nimport { toast } from \"sonner\";\r\n\r\nimport {\r\n  useOnboardingPersistence,\r\n  OnboardingState as PersistenceState,\r\n} from \"@/_core/onboarding/hooks/useOnboardingPersistence\";\r\nimport {\r\n  OnboardingStepId,\r\n  ONBOARDING_STEPS_ORDER,\r\n  getTotalSteps,\r\n  getStepIndex,\r\n  ONBOARDING_STEPS_CONFIG,\r\n} from \"@/_shared/constants/onboarding-steps\";\r\n\r\n// Extend the persistence state for local UI needs\r\ninterface LocalOnboardingState extends PersistenceState {\r\n  // Add any purely local state if needed, e.g., temporary flags\r\n  // isLoading is now handled by the persistence hook\r\n}\r\n\r\ninterface OnboardingContextType {\r\n  onboarding: LocalOnboardingState;\r\n  isLoading: boolean; // Expose loading state\r\n  user: User | null;\r\n  nextStep: () => void;\r\n  previousStep: () => void;\r\n  skipOnboarding: () => void;\r\n  hideOnboardingForSession: () => void;\r\n  resetOnboarding: () => void;\r\n  completeStep: (stepId: OnboardingStepId) => void; // Renamed param for clarity\r\n  // Expose the config for the current step?\r\n  // currentStepConfig: OnboardingStepConfig | undefined;\r\n}\r\n\r\nconst OnboardingContext = createContext<OnboardingContextType | undefined>(\r\n  undefined\r\n);\r\n\r\nexport const useOnboarding = () => {\r\n  const context = useContext(OnboardingContext);\r\n  if (!context) {\r\n    throw new Error(\"useOnboarding must be used within an OnboardingProvider\");\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const OnboardingProvider: React.FC<{ children: React.ReactNode }> = ({\r\n  children,\r\n}) => {\r\n  const [localState, setLocalState] = useState<\r\n    Omit<\r\n      LocalOnboardingState,\r\n      \"currentStep\" | \"progress\" | \"isCompleted\" | \"isActive\"\r\n    >\r\n  >({ hideForSession: false });\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const supabase = createBrowserClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL || \"\",\r\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || \"\"\r\n  );\r\n\r\n  // Fetch the current user\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      const { data } = await supabase.auth.getUser();\r\n      setUser(data.user);\r\n    };\r\n    getUser();\r\n\r\n    // Listen for auth state changes to update user state\r\n    const { data: authListener } = supabase.auth.onAuthStateChange(\r\n      async (event, session) => {\r\n        console.log(\"[OnboardingProvider] Auth state changed:\", event);\r\n        setUser(session?.user ?? null);\r\n        // Reset local hideForSession if user logs out/in\r\n        if (event === \"SIGNED_IN\" || event === \"SIGNED_OUT\") {\r\n          setLocalState((prev) => ({ ...prev, hideForSession: false }));\r\n        }\r\n      }\r\n    );\r\n\r\n    return () => {\r\n      authListener.subscription.unsubscribe();\r\n    };\r\n  }, [supabase]);\r\n\r\n  // Use the persistence hook\r\n  const {\r\n    onboardingState: persistentState,\r\n    updateOnboardingState,\r\n    isLoading,\r\n  } = useOnboardingPersistence(user);\r\n\r\n  // Combine persistent state with local UI state\r\n  const combinedState: LocalOnboardingState = useMemo(\r\n    () => ({\r\n      ...persistentState,\r\n      hideForSession: localState.hideForSession,\r\n    }),\r\n    [persistentState, localState.hideForSession]\r\n  );\r\n\r\n  // --- Actions --- //\r\n\r\n  const calculateProgress = (stepIndex: number): number => {\r\n    const totalSteps = getTotalSteps();\r\n    if (totalSteps <= 1) return 100; // Avoid division by zero if only one step\r\n    // Progress should be based on *completed* steps. Reaching step index 1 means 1 step is done.\r\n    // If index is 0, progress is 0. If index is totalSteps - 1, progress is 100 after completion.\r\n    return Math.round((stepIndex / (totalSteps - 1)) * 100);\r\n  };\r\n\r\n  const nextStep = useCallback(() => {\r\n    const currentIndex = getStepIndex(combinedState.currentStep);\r\n    const totalSteps = getTotalSteps();\r\n\r\n    if (currentIndex < totalSteps - 1) {\r\n      const nextIndex = currentIndex + 1;\r\n      const nextStepId = ONBOARDING_STEPS_ORDER[nextIndex];\r\n      const progress = calculateProgress(nextIndex); // Calculate progress based on the *new* index\r\n\r\n      updateOnboardingState({\r\n        currentStep: nextStepId,\r\n        progress: progress,\r\n        isCompleted: false, // Not completed yet, just moved to next step\r\n      });\r\n    } else if (currentIndex === totalSteps - 1) {\r\n      // Already on the last step, moving next means completing\r\n      updateOnboardingState({\r\n        // Optionally move to a dedicated 'completed' state if defined\r\n        // currentStep: 'completed', // If a 'completed' step exists\r\n        progress: 100,\r\n        isCompleted: true,\r\n        isActive: false, // Onboarding is no longer active\r\n      });\r\n      toast.success(\"Onboarding complete! You're all set.\");\r\n    }\r\n  }, [combinedState.currentStep, updateOnboardingState]);\r\n\r\n  const previousStep = useCallback(() => {\r\n    const currentIndex = getStepIndex(combinedState.currentStep);\r\n    if (currentIndex > 0) {\r\n      const prevIndex = currentIndex - 1;\r\n      const prevStepId = ONBOARDING_STEPS_ORDER[prevIndex];\r\n      const progress = calculateProgress(prevIndex); // Recalculate progress\r\n\r\n      updateOnboardingState({\r\n        currentStep: prevStepId,\r\n        progress,\r\n        isCompleted: false, // Moving back means not completed\r\n      });\r\n    }\r\n  }, [combinedState.currentStep, updateOnboardingState]);\r\n\r\n  const skipOnboarding = useCallback(() => {\r\n    updateOnboardingState({\r\n      // currentStep: 'completed', // Consider if skipping should mark last step or a special state\r\n      progress: 100,\r\n      isCompleted: true,\r\n      isActive: false,\r\n    });\r\n    toast.info(\"Onboarding skipped.\");\r\n  }, [updateOnboardingState]);\r\n\r\n  const hideOnboardingForSession = useCallback(() => {\r\n    setLocalState((prev) => ({ ...prev, hideForSession: true }));\r\n    // No need to call updateOnboardingState as this is local session state\r\n  }, []);\r\n\r\n  const resetOnboarding = useCallback(() => {\r\n    console.log(\r\n      \"[OnboardingProvider] Resetting onboarding. Current state:\",\r\n      combinedState\r\n    );\r\n    const firstStepId = ONBOARDING_STEPS_ORDER[0];\r\n    const newState = {\r\n      currentStep: firstStepId,\r\n      progress: 0,\r\n      isCompleted: false,\r\n      isActive: true,\r\n      hideForSession: false,\r\n    };\r\n    console.log(\"[OnboardingProvider] New state to apply:\", newState);\r\n    updateOnboardingState(newState);\r\n    // Ensure local state is also reset\r\n    setLocalState({ hideForSession: false });\r\n    toast.info(\"Onboarding restarted.\");\r\n  }, [combinedState, updateOnboardingState]);\r\n\r\n  const completeStep = useCallback(\r\n    (stepId: OnboardingStepId) => {\r\n      console.log(\r\n        `[OnboardingProvider] completeStep called with stepId: ${stepId}. Current state:`,\r\n        combinedState\r\n      );\r\n\r\n      // This function is primarily for step components to signal completion\r\n      // and trigger moving to the next step.\r\n      if (combinedState.currentStep === stepId && !combinedState.isCompleted) {\r\n        console.log(\r\n          `[OnboardingProvider] Completing step: ${stepId}, moving to next.`\r\n        );\r\n        // Check if there's a specific action key for this step completion\r\n        const stepConfig = ONBOARDING_STEPS_CONFIG.find((s) => s.id === stepId);\r\n        if (stepConfig?.actionKey) {\r\n          // Call the API to mark step completion (fire and forget for now)\r\n          fetch(\"/api/onboarding/actions\", {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({\r\n              actionKey: stepConfig.actionKey,\r\n              isCompleted: true,\r\n            }),\r\n          }).catch((error) => {\r\n            console.error(\r\n              `Failed to mark step ${stepId} action ${stepConfig.actionKey} as completed:`,\r\n              error\r\n            );\r\n            // Don't block UI flow for this\r\n          });\r\n        }\r\n        nextStep();\r\n      }\r\n    },\r\n    [combinedState.currentStep, combinedState.isCompleted, nextStep]\r\n  );\r\n\r\n  return (\r\n    <OnboardingContext.Provider\r\n      value={{\r\n        onboarding: combinedState,\r\n        isLoading,\r\n        user,\r\n        nextStep,\r\n        previousStep,\r\n        skipOnboarding,\r\n        hideOnboardingForSession,\r\n        resetOnboarding,\r\n        completeStep,\r\n      }}\r\n    >\r\n      {children}\r\n    </OnboardingContext.Provider>\r\n  );\r\n};\r\n","\"use client\";\r\n\r\nimport {\r\n  createContext,\r\n  useContext,\r\n  useReducer,\r\n  type ReactNode,\r\n  useCallback,\r\n} from \"react\";\r\n\r\ninterface ActivityItem {\r\n  type:\r\n    | \"search\"\r\n    | \"extract\"\r\n    | \"analyze\"\r\n    | \"reasoning\"\r\n    | \"synthesis\"\r\n    | \"thought\"\r\n    | \"error\";\r\n  status: \"pending\" | \"complete\" | \"error\";\r\n  message: string;\r\n  timestamp: string;\r\n  depth?: number;\r\n}\r\n\r\ninterface SourceItem {\r\n  url: string;\r\n  title: string;\r\n  description?: string;\r\n  relevance?: number;\r\n}\r\n\r\ninterface DeepResearchState {\r\n  isActive: boolean;\r\n  activity: ActivityItem[];\r\n  sources: SourceItem[];\r\n  currentDepth: number;\r\n  maxDepth: number;\r\n  completedSteps: number;\r\n  totalExpectedSteps: number;\r\n  sessionId: string | null;\r\n}\r\n\r\ntype DeepResearchAction =\r\n  | { type: \"TOGGLE_ACTIVE\" }\r\n  | { type: \"SET_ACTIVE\"; payload: boolean }\r\n  | {\r\n      type: \"ADD_ACTIVITY\";\r\n      payload: ActivityItem & { completedSteps?: number; totalSteps?: number };\r\n    }\r\n  | { type: \"ADD_SOURCE\"; payload: SourceItem }\r\n  | { type: \"SET_DEPTH\"; payload: { current: number; max: number } }\r\n  | { type: \"INIT_PROGRESS\"; payload: { maxDepth: number; totalSteps: number } }\r\n  | { type: \"UPDATE_PROGRESS\"; payload: { completed: number; total: number } }\r\n  | { type: \"SET_SESSION_ID\"; payload: string }\r\n  | { type: \"CLEAR_STATE\" };\r\n\r\ninterface DeepResearchContextType {\r\n  state: DeepResearchState;\r\n  toggleActive: () => void;\r\n  setActive: (active: boolean) => void;\r\n  addActivity: (\r\n    activity: ActivityItem & { completedSteps?: number; totalSteps?: number }\r\n  ) => void;\r\n  addSource: (source: SourceItem) => void;\r\n  setDepth: (current: number, max: number) => void;\r\n  initProgress: (maxDepth: number, totalSteps: number) => void;\r\n  updateProgress: (completed: number, total: number) => void;\r\n  setSessionId: (sessionId: string) => void;\r\n  clearState: () => void;\r\n}\r\n\r\nconst initialState: DeepResearchState = {\r\n  isActive: false,\r\n  activity: [],\r\n  sources: [],\r\n  currentDepth: 1,\r\n  maxDepth: 3,\r\n  completedSteps: 0,\r\n  totalExpectedSteps: 10,\r\n  sessionId: null,\r\n};\r\n\r\nfunction deepResearchReducer(\r\n  state: DeepResearchState,\r\n  action: DeepResearchAction\r\n): DeepResearchState {\r\n  switch (action.type) {\r\n    case \"TOGGLE_ACTIVE\":\r\n      return {\r\n        ...state,\r\n        isActive: !state.isActive,\r\n      };\r\n    case \"SET_ACTIVE\":\r\n      return {\r\n        ...state,\r\n        isActive: action.payload,\r\n      };\r\n    case \"ADD_ACTIVITY\": {\r\n      const newActivity = {\r\n        ...action.payload,\r\n        timestamp: action.payload.timestamp || new Date().toISOString(),\r\n      };\r\n\r\n      let newCompletedSteps = state.completedSteps;\r\n      let newTotalExpectedSteps = state.totalExpectedSteps;\r\n\r\n      if (\r\n        typeof action.payload.completedSteps === \"number\" &&\r\n        typeof action.payload.totalSteps === \"number\"\r\n      ) {\r\n        newCompletedSteps = action.payload.completedSteps;\r\n        newTotalExpectedSteps = action.payload.totalSteps;\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        activity: [...state.activity, newActivity],\r\n        completedSteps: newCompletedSteps,\r\n        totalExpectedSteps: newTotalExpectedSteps,\r\n      };\r\n    }\r\n    case \"ADD_SOURCE\":\r\n      if (state.sources.some((s) => s.url === action.payload.url)) {\r\n        return state;\r\n      }\r\n      return {\r\n        ...state,\r\n        sources: [...state.sources, action.payload],\r\n      };\r\n    case \"SET_DEPTH\":\r\n      return {\r\n        ...state,\r\n        currentDepth: action.payload.current,\r\n        maxDepth: action.payload.max,\r\n      };\r\n    case \"INIT_PROGRESS\":\r\n      return {\r\n        ...state,\r\n        maxDepth: action.payload.maxDepth,\r\n        totalExpectedSteps: action.payload.totalSteps,\r\n        completedSteps: 0,\r\n      };\r\n    case \"UPDATE_PROGRESS\":\r\n      return {\r\n        ...state,\r\n        completedSteps: action.payload.completed,\r\n        totalExpectedSteps: action.payload.total,\r\n      };\r\n    case \"SET_SESSION_ID\":\r\n      return {\r\n        ...state,\r\n        sessionId: action.payload,\r\n      };\r\n    case \"CLEAR_STATE\":\r\n      return {\r\n        ...initialState,\r\n        activity: [],\r\n        sources: [],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst DeepResearchContext = createContext<DeepResearchContextType | undefined>(\r\n  undefined\r\n);\r\n\r\nexport function DeepResearchProvider({ children }: { children: ReactNode }) {\r\n  const [state, dispatch] = useReducer(deepResearchReducer, initialState);\r\n\r\n  const toggleActive = useCallback(() => {\r\n    dispatch({ type: \"TOGGLE_ACTIVE\" });\r\n  }, []);\r\n\r\n  const setActive = useCallback((active: boolean) => {\r\n    dispatch({ type: \"SET_ACTIVE\", payload: active });\r\n  }, []);\r\n\r\n  const addActivity = useCallback(\r\n    (\r\n      activity: ActivityItem & { completedSteps?: number; totalSteps?: number }\r\n    ) => {\r\n      dispatch({ type: \"ADD_ACTIVITY\", payload: activity });\r\n    },\r\n    []\r\n  );\r\n\r\n  const addSource = useCallback((source: SourceItem) => {\r\n    dispatch({ type: \"ADD_SOURCE\", payload: source });\r\n  }, []);\r\n\r\n  const setDepth = useCallback((current: number, max: number) => {\r\n    dispatch({ type: \"SET_DEPTH\", payload: { current, max } });\r\n  }, []);\r\n\r\n  const initProgress = useCallback((maxDepth: number, totalSteps: number) => {\r\n    dispatch({ type: \"INIT_PROGRESS\", payload: { maxDepth, totalSteps } });\r\n  }, []);\r\n\r\n  const updateProgress = useCallback((completed: number, total: number) => {\r\n    dispatch({\r\n      type: \"UPDATE_PROGRESS\",\r\n      payload: { completed, total },\r\n    });\r\n  }, []);\r\n\r\n  const setSessionId = useCallback((sessionId: string) => {\r\n    dispatch({ type: \"SET_SESSION_ID\", payload: sessionId });\r\n  }, []);\r\n\r\n  const clearState = useCallback(() => {\r\n    dispatch({ type: \"CLEAR_STATE\" });\r\n  }, []);\r\n\r\n  return (\r\n    <DeepResearchContext.Provider\r\n      value={{\r\n        state,\r\n        toggleActive,\r\n        setActive,\r\n        addActivity,\r\n        addSource,\r\n        setDepth,\r\n        initProgress,\r\n        updateProgress,\r\n        setSessionId,\r\n        clearState,\r\n      }}\r\n    >\r\n      {children}\r\n    </DeepResearchContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useDeepResearch() {\r\n  const context = useContext(DeepResearchContext);\r\n  if (context === undefined) {\r\n    throw new Error(\r\n      \"useDeepResearch must be used within a DeepResearchProvider\"\r\n    );\r\n  }\r\n  return context;\r\n}\r\n","import { createBrowserClient } from '@supabase/ssr';\r\nimport { useState } from 'react';\r\n\r\nimport { Button } from '@/components/ui/button';\r\n\r\nimport { useOnboarding } from './OnboardingProvider';\r\n\r\nexport function OnboardingDebug() {\r\n    const { onboarding, resetOnboarding } = useOnboarding();\r\n    const [isVisible, setIsVisible] = useState(false);\r\n    const supabase = createBrowserClient(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL || '',\r\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || ''\r\n    );\r\n\r\n    // Only show in development\r\n    if (process.env.NODE_ENV !== 'development') return null;\r\n\r\n    if (!isVisible) {\r\n        return (\r\n            <button\r\n                className=\"fixed bottom-4 right-4 bg-yellow-500 p-2 rounded z-50 text-xs\"\r\n                onClick={() => setIsVisible(true)}\r\n            >\r\n                Debug Onboarding\r\n            </button>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"fixed bottom-4 right-4 bg-card border shadow-lg p-4 rounded z-50 max-w-md\">\r\n            <h3 className=\"font-medium mb-2\">Onboarding Debug</h3>\r\n            <pre className=\"text-xs overflow-auto max-h-96\">{JSON.stringify(onboarding, null, 2)}</pre>\r\n            <div className=\"flex gap-2 mt-4\">\r\n                <button\r\n                    className=\"bg-destructive text-destructive-foreground p-1 rounded text-xs\"\r\n                    onClick={resetOnboarding}\r\n                >\r\n                    Reset Onboarding\r\n                </button>\r\n                <button\r\n                    className=\"bg-muted p-1 rounded text-xs\"\r\n                    onClick={() => setIsVisible(false)}\r\n                >\r\n                    Close\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n} ","\"use client\";\r\n\r\nimport {\r\n  useFormatter,\r\n  useLocale,\r\n  useNow,\r\n  useTimeZone,\r\n  useTranslations,\r\n} from \"next-intl\";\r\n\r\nimport { getLocaleConfig, Locale } from \"@/i18n/i18n\";\r\n\r\n/**\r\n * Extended hook for i18n utilities combining multiple next-intl hooks\r\n * @returns Various i18n utilities for use in client components\r\n */\r\nexport function useI18n() {\r\n  const locale = useLocale() as Locale;\r\n  const t = useTranslations();\r\n  const format = useFormatter();\r\n  const timeZone = useTimeZone();\r\n  const now = useNow();\r\n\r\n  // Get locale configuration\r\n  const config = getLocaleConfig(locale);\r\n\r\n  // Direction utility\r\n  const direction = config.direction;\r\n  const isRtl = direction === \"rtl\";\r\n\r\n  // Date formatting helper using locale preferences\r\n  const formatDate = (date: Date | number, options?: any) => {\r\n    return format.dateTime(date, options);\r\n  };\r\n\r\n  // Relative time formatting\r\n  const formatRelativeTime = (date: Date | number) => {\r\n    return format.relativeTime(date);\r\n  };\r\n\r\n  // Currency formatting with locale preferences\r\n  const formatCurrency = (value: number, currency = \"USD\") => {\r\n    return format.number(value, {\r\n      style: \"currency\",\r\n      currency,\r\n    } as any);\r\n  };\r\n\r\n  // Number formatting according to locale\r\n  const formatNumber = (value: number, options?: any) => {\r\n    return format.number(value, options);\r\n  };\r\n\r\n  return {\r\n    // Original hooks\r\n    t,\r\n    format,\r\n    locale,\r\n    timeZone,\r\n    now,\r\n\r\n    // Derived utilities\r\n    config,\r\n    direction,\r\n    isRtl,\r\n\r\n    // Helper functions\r\n    formatDate,\r\n    formatRelativeTime,\r\n    formatCurrency,\r\n    formatNumber,\r\n  };\r\n}\r\n\r\n/**\r\n * Hook to access translations for a specific namespace\r\n * @param namespace The translation namespace\r\n * @returns Translation function for the specified namespace\r\n */\r\nexport function useTranslate(namespace: string) {\r\n  return useTranslations(namespace);\r\n}\r\n\r\n/**\r\n * Hook to access global translations (no namespace)\r\n * @returns Translation function for the global namespace\r\n */\r\nexport function useGlobalTranslate() {\r\n  return useTranslations();\r\n}\r\n","\"use client\";\r\n\r\nimport { ThemeProvider } from \"next-themes\";\r\nimport React from \"react\";\r\nimport { ErrorBoundary } from \"react-error-boundary\";\r\nimport { Toaster, toast } from \"sonner\";\r\n\r\nimport { Onboarding } from \"@/components/ui/onboarding/Onboarding\";\r\nimport { AuthProvider } from \"@/lib/auth/hooks\";\r\nimport { DeepResearchProvider } from \"@/lib/contexts/deep-research-context\";\r\nimport { SearchProvider } from \"@/lib/contexts/search-context\";\r\nimport { CustomToastProvider } from \"@/ui/toast\";\r\nimport { TooltipProvider } from \"@/ui/tooltip\";\r\n\r\n// Simple fallback component for errors\r\nconst ErrorFallback = ({ error }: { error: Error }) => (\r\n  <div className=\"p-4 bg-red-50 border border-red-200 rounded text-red-800\">\r\n    <h2 className=\"text-lg font-bold\">Something went wrong</h2>\r\n    <p>{error.message}</p>\r\n  </div>\r\n);\r\n\r\ntype ProvidersProps = {\r\n  children: React.ReactNode;\r\n};\r\n\r\nexport function Providers({ children }: ProvidersProps) {\r\n  return (\r\n    <ErrorBoundary FallbackComponent={ErrorFallback}>\r\n      <AuthProvider>\r\n        <ThemeProvider\r\n          attribute=\"class\"\r\n          defaultTheme=\"system\"\r\n          enableSystem\r\n          disableTransitionOnChange\r\n        >\r\n          <TooltipProvider>\r\n            <SearchProvider>\r\n              <DeepResearchProvider>\r\n                <CustomToastProvider>\r\n                  <Onboarding>{children}</Onboarding>\r\n                </CustomToastProvider>\r\n                <Toaster\r\n                  position=\"top-right\"\r\n                  toastOptions={{\r\n                    style: {\r\n                      background: \"var(--background)\",\r\n                      color: \"var(--foreground)\",\r\n                    },\r\n                    className: \"border border-border\",\r\n                  }}\r\n                  closeButton\r\n                  richColors\r\n                />\r\n              </DeepResearchProvider>\r\n            </SearchProvider>\r\n          </TooltipProvider>\r\n        </ThemeProvider>\r\n      </AuthProvider>\r\n    </ErrorBoundary>\r\n  );\r\n}\r\n","\nexport { verifyUserIsAdmin as \"4055c9f9dce3c849928e65e87017b3609674121d00\" } from \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\lib\\\\actions\\\\admin.ts\"\n","\"use client\"\r\n\r\nimport { Moon, Sun, Laptop } from \"lucide-react\"\r\nimport { useTheme } from \"next-themes\"\r\nimport { useEffect, useState } from \"react\"\r\n\r\nimport { Button } from '@/components/ui/button'\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\"\r\nimport { cn } from '@/lib/utils'\r\n\r\nexport function ThemeToggle({ variant = \"default\" }: { variant?: \"default\" | \"sidebar\" }) {\r\n    const { theme, setTheme } = useTheme()\r\n    const [mounted, setMounted] = useState(false)\r\n\r\n    // Avoid hydration mismatch\r\n    useEffect(() => {\r\n        setMounted(true)\r\n    }, [])\r\n\r\n    const isSidebar = variant === \"sidebar\"\r\n\r\n    return (\r\n        <DropdownMenu>\r\n            <DropdownMenuTrigger asChild>\r\n                <Button\r\n                    variant=\"ghost\"\r\n                    size=\"icon\"\r\n                    className={cn(\r\n                        \"h-9 w-9 rounded-full bg-background hover:bg-accent hover:text-accent-foreground\",\r\n                        \"border border-border/40 shadow-sm transition-all duration-200\",\r\n                        \"hover:shadow-md data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\r\n                        \"focus-visible:ring-offset-0 focus-visible:border-primary/50\",\r\n                        mounted && \"animate-in fade-in-50 duration-300\",\r\n                        isSidebar && \"h-8 w-8 rounded-md\"\r\n                    )}\r\n                >\r\n                    <Sun className={cn(\"h-[1.15rem] w-[1.15rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\", isSidebar && \"h-4 w-4\")} />\r\n                    <Moon className={cn(\"absolute h-[1.15rem] w-[1.15rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\", isSidebar && \"h-4 w-4\")} />\r\n                    <span className=\"sr-only\">Toggle theme</span>\r\n                </Button>\r\n            </DropdownMenuTrigger>\r\n            <DropdownMenuContent\r\n                align=\"end\"\r\n                className=\"animate-in fade-in-50 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95\"\r\n            >\r\n                <DropdownMenuItem\r\n                    onClick={() => setTheme(\"light\")}\r\n                    className={cn(\r\n                        \"flex cursor-pointer items-center gap-2 rounded-md px-3 py-2 text-sm transition-colors\",\r\n                        theme === \"light\" && \"bg-accent font-medium text-accent-foreground\"\r\n                    )}\r\n                >\r\n                    <Sun className=\"h-4 w-4\" />\r\n                    <span>Light</span>\r\n                </DropdownMenuItem>\r\n                <DropdownMenuItem\r\n                    onClick={() => setTheme(\"dark\")}\r\n                    className={cn(\r\n                        \"flex cursor-pointer items-center gap-2 rounded-md px-3 py-2 text-sm transition-colors\",\r\n                        theme === \"dark\" && \"bg-accent font-medium text-accent-foreground\"\r\n                    )}\r\n                >\r\n                    <Moon className=\"h-4 w-4\" />\r\n                    <span>Dark</span>\r\n                </DropdownMenuItem>\r\n                <DropdownMenuItem\r\n                    onClick={() => setTheme(\"system\")}\r\n                    className={cn(\r\n                        \"flex cursor-pointer items-center gap-2 rounded-md px-3 py-2 text-sm transition-colors\",\r\n                        theme === \"system\" && \"bg-accent font-medium text-accent-foreground\"\r\n                    )}\r\n                >\r\n                    <Laptop className=\"h-4 w-4\" />\r\n                    <span>System</span>\r\n                </DropdownMenuItem>\r\n            </DropdownMenuContent>\r\n        </DropdownMenu>\r\n    )\r\n}","\"use client\";\r\n\r\nimport * as ToastPrimitives from \"@radix-ui/react-toast\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\nimport { AlertCircle, CheckCircle, Info, X } from \"lucide-react\";\r\nimport React, {\r\n  createContext,\r\n  useContext,\r\n  useState,\r\n  useRef,\r\n  useCallback,\r\n  useMemo,\r\n} from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\n// Toast types for our custom implementation\r\nexport type CustomToastVariant = \"default\" | \"destructive\" | \"success\" | \"info\";\r\n\r\nexport interface CustomToastProps {\r\n  title: string;\r\n  description?: string;\r\n  variant?: CustomToastVariant;\r\n  duration?: number;\r\n}\r\n\r\ninterface ToastContextValue {\r\n  toast: (props: CustomToastProps) => void;\r\n  toasts: (CustomToastProps & { id: string })[];\r\n  removeToast: (id: string) => void;\r\n}\r\n\r\nconst ToastContext = createContext<ToastContextValue | undefined>(undefined);\r\n\r\n// Standard shadcn toast components\r\nconst ToastProvider = ToastPrimitives.Provider;\r\n\r\nconst ToastViewport = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Viewport\r\n    ref={ref}\r\n    className={cn(\r\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nToastViewport.displayName = ToastPrimitives.Viewport.displayName;\r\n\r\nconst toastVariants = cva(\r\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"border bg-background text-foreground\",\r\n        destructive:\r\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n);\r\n\r\nconst Toast = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Root>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\r\n    VariantProps<typeof toastVariants>\r\n>(({ className, variant, ...props }, ref) => {\r\n  return (\r\n    <ToastPrimitives.Root\r\n      ref={ref}\r\n      className={cn(toastVariants({ variant }), className)}\r\n      {...props}\r\n    />\r\n  );\r\n});\r\nToast.displayName = ToastPrimitives.Root.displayName;\r\n\r\nconst ToastAction = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Action>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Action\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nToastAction.displayName = ToastPrimitives.Action.displayName;\r\n\r\nconst ToastClose = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Close>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Close\r\n    ref={ref}\r\n    className={cn(\r\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\r\n      className\r\n    )}\r\n    toast-close=\"\"\r\n    {...props}\r\n  >\r\n    <X className=\"h-4 w-4\" />\r\n  </ToastPrimitives.Close>\r\n));\r\nToastClose.displayName = ToastPrimitives.Close.displayName;\r\n\r\nconst ToastTitle = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Title>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Title\r\n    ref={ref}\r\n    className={cn(\"text-sm font-semibold\", className)}\r\n    {...props}\r\n  />\r\n));\r\nToastTitle.displayName = ToastPrimitives.Title.displayName;\r\n\r\nconst ToastDescription = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Description>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm opacity-90\", className)}\r\n    {...props}\r\n  />\r\n));\r\nToastDescription.displayName = ToastPrimitives.Description.displayName;\r\n\r\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>;\r\n\r\ntype ToastActionElement = React.ReactElement<typeof ToastAction>;\r\n\r\n// Rename our custom toast function to avoid conflicts\r\nfunction CustomToast({\r\n  title,\r\n  description,\r\n  variant = \"default\",\r\n  onClose,\r\n}: CustomToastProps & { onClose: () => void }) {\r\n  // Determine styles based on variant\r\n  const variantStyles: Record<CustomToastVariant, string> = {\r\n    default: \"bg-white border-gray-200\",\r\n    destructive: \"bg-red-50 border-red-200 text-red-700\",\r\n    success: \"bg-green-50 border-green-200 text-green-700\",\r\n    info: \"bg-blue-50 border-blue-200 text-blue-700\",\r\n  };\r\n\r\n  // Icon based on variant\r\n  const IconComponent = {\r\n    default: null,\r\n    destructive: AlertCircle,\r\n    success: CheckCircle,\r\n    info: Info,\r\n  }[variant];\r\n\r\n  return (\r\n    <div\r\n      className={`max-w-md rounded-lg border shadow-lg p-4 flex items-start gap-3 animate-slide-up-fade ${variantStyles[variant]}`}\r\n      role=\"alert\"\r\n    >\r\n      {IconComponent && <IconComponent className=\"h-5 w-5 flex-shrink-0\" />}\r\n\r\n      <div className=\"flex-1\">\r\n        <h3 className=\"font-medium\">{title}</h3>\r\n        {description && (\r\n          <p className=\"text-sm mt-1 opacity-90\">{description}</p>\r\n        )}\r\n      </div>\r\n\r\n      <button\r\n        onClick={onClose}\r\n        className=\"flex-shrink-0 rounded-full p-1 hover:bg-gray-100\"\r\n        aria-label=\"Close\"\r\n      >\r\n        <X className=\"h-4 w-4\" />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Rename our custom provider to avoid conflicts\r\nexport function CustomToastProvider({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  const [toasts, setToasts] = useState<(CustomToastProps & { id: string })[]>(\r\n    []\r\n  );\r\n  const toastIdCounter = useRef(0);\r\n\r\n  // Memoize removeToast\r\n  const removeToast = useCallback((id: string) => {\r\n    // setToasts is guaranteed to be stable by React\r\n    setToasts((prevToasts) => prevToasts.filter((toast) => toast.id !== id));\r\n  }, []); // Empty dependency array is correct here\r\n\r\n  // Memoize toast\r\n  const toast = useCallback(\r\n    (props: CustomToastProps) => {\r\n      const id = `toast-${toastIdCounter.current++}`;\r\n      const newToast = { ...props, id };\r\n\r\n      // setToasts is guaranteed to be stable by React\r\n      setToasts((prevToasts) => [...prevToasts, newToast]);\r\n\r\n      // Auto-remove toast after duration\r\n      // Note: referencing removeToast here is fine because it's memoized\r\n      setTimeout(() => {\r\n        removeToast(id);\r\n      }, props.duration || 5000);\r\n    },\r\n    [removeToast]\r\n  ); // Dependency: removeToast\r\n\r\n  // Memoize the context value object\r\n  const contextValue = useMemo(\r\n    () => ({\r\n      toast,\r\n      toasts,\r\n      removeToast,\r\n    }),\r\n    [toast, toasts, removeToast]\r\n  );\r\n\r\n  return (\r\n    // Pass the memoized context value\r\n    <ToastContext.Provider value={contextValue}>\r\n      {children}\r\n      <CustomToastContainer />\r\n    </ToastContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useToast() {\r\n  const context = useContext(ToastContext);\r\n\r\n  if (!context) {\r\n    throw new Error(\"useToast must be used within a CustomToastProvider\");\r\n  }\r\n\r\n  return context;\r\n}\r\n\r\nfunction CustomToastContainer() {\r\n  const { toasts, removeToast } = useToast();\r\n\r\n  return (\r\n    <div className=\"fixed bottom-0 right-0 p-4 space-y-2 z-50\">\r\n      {toasts.map((toast) => (\r\n        <CustomToast\r\n          key={toast.id}\r\n          {...toast}\r\n          onClose={() => removeToast(toast.id)}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport {\r\n  type ToastProps,\r\n  type ToastActionElement,\r\n  ToastProvider,\r\n  ToastViewport,\r\n  Toast,\r\n  ToastTitle,\r\n  ToastDescription,\r\n  ToastClose,\r\n  ToastAction,\r\n};\r\n","import(/* webpackMode: \"eager\", webpackExports: [\"IntlClientProvider\"] */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\client-providers.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"Providers\"] */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\providers.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"AppSidebar\"] */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\components\\\\ui\\\\app-sidebar.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"ErrorBoundary\"] */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\components\\\\ui\\\\error-boundary.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\components\\\\ui\\\\footer\\\\index.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\components\\\\ui\\\\language-switcher-wrapper.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"NotificationButton\"] */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\components\\\\ui\\\\notification-button.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"Search\"] */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\components\\\\ui\\\\search.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"Separator\"] */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\components\\\\ui\\\\separator.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"SidebarProvider\",\"SidebarInset\",\"SidebarTrigger\"] */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\components\\\\ui\\\\sidebar.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"ThemeToggle\"] */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\components\\\\ui\\\\theme-toggle.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"Analytics\"] */ \"E:\\\\downloads\\\\Hijraah\\\\node_modules\\\\.pnpm\\\\@vercel+analytics@1.5.0_nex_c9ecab91375e0c29fa3860d2f538ce7c\\\\node_modules\\\\@vercel\\\\analytics\\\\dist\\\\react\\\\index.mjs\");\n;\nimport(/* webpackMode: \"eager\" */ \"E:\\\\downloads\\\\Hijraah\\\\node_modules\\\\.pnpm\\\\next@15.3.0-canary.31_@babe_be67f368de2727c847f3a61f5e6cf4fa\\\\node_modules\\\\next\\\\dist\\\\client\\\\image-component.js\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"NuqsAdapter\"] */ \"E:\\\\downloads\\\\Hijraah\\\\node_modules\\\\.pnpm\\\\nuqs@2.4.3_next@15.3.4_@bab_13826e4673cb2a1498094fd55b09072d\\\\node_modules\\\\nuqs\\\\dist\\\\adapters\\\\next\\\\app.js\");\n","import(/* webpackMode: \"eager\" */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\[locale]\\\\not-found.tsx\");\n","\"use client\";\n\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root> & {\n    value?: number;\n  }\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-2 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n));\nProgress.displayName = ProgressPrimitive.Root.displayName;\n\nexport { Progress };\n","\"use client\";\r\n\r\nimport { useCompletion } from \"@ai-sdk/react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport React, { createContext, useContext, useState } from \"react\";\r\n\r\n// Define available routes as a simple string array\r\nconst VALID_ROUTES = [\r\n  \"/\",\r\n  \"/documents\",\r\n  \"/chat\",\r\n  \"/requirements\",\r\n  \"/calculator\",\r\n  \"/notifications\",\r\n  \"/profile\",\r\n  \"/settings\",\r\n] as const;\r\n\r\ninterface SearchContextType {\r\n  query: string;\r\n  setQuery: (query: string) => void;\r\n  isLoading: boolean;\r\n  suggestions: string[];\r\n  aiSuggestions: string[];\r\n  handleSearch: (e: React.FormEvent) => Promise<void>;\r\n  clearSearch: () => void;\r\n}\r\n\r\nconst SearchContext = createContext<SearchContextType | undefined>(undefined);\r\n\r\nexport function SearchProvider({ children }: { children: React.ReactNode }) {\r\n  const router = useRouter();\r\n  const [query, setQuery] = useState(\"\");\r\n  const [suggestions, setSuggestions] = useState<string[]>([]);\r\n\r\n  const { completion, complete, isLoading } = useCompletion({\r\n    api: \"/api/search\",\r\n    onResponse: (response) => {\r\n      // Handle streaming response\r\n      console.log(\"AI response:\", response);\r\n    },\r\n  });\r\n\r\n  const handleSearch = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    const currentQuery = query.trim(); // Use a stable value of query for this function invocation\r\n    if (!currentQuery) return;\r\n\r\n    try {\r\n      // Attempt to get AI suggestions or command interpretation\r\n      const aiResponse = await complete(currentQuery);\r\n\r\n      if (\r\n        aiResponse &&\r\n        VALID_ROUTES.includes(aiResponse as (typeof VALID_ROUTES)[number])\r\n      ) {\r\n        // If AI provides a valid internal route, navigate directly\r\n        router.push(aiResponse); // Use Next.js router for client-side navigation\r\n      } else {\r\n        // Otherwise, navigate to the general search page with the original query\r\n        router.push(`/search?q=${encodeURIComponent(currentQuery)}`);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Search error:\", error);\r\n    }\r\n  };\r\n\r\n  const clearSearch = () => {\r\n    setQuery(\"\");\r\n    setSuggestions([]);\r\n  };\r\n\r\n  const value = {\r\n    query,\r\n    setQuery,\r\n    isLoading,\r\n    suggestions,\r\n    aiSuggestions: completion ? [completion] : [],\r\n    handleSearch,\r\n    clearSearch,\r\n  };\r\n\r\n  return (\r\n    <SearchContext.Provider value={value}>{children}</SearchContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useSearchContext() {\r\n  const context = useContext(SearchContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useSearchContext must be used within a SearchProvider\");\r\n  }\r\n  return context;\r\n}\r\n","'use client';\r\n\r\nimport { Languages } from 'lucide-react';\r\nimport { usePathname } from 'next/navigation';\r\nimport * as React from 'react';\r\nimport { useTransition } from 'react';\r\n\r\nimport { useI18n, Link, locales, localeConfigs } from '@/i18n/client';\r\nimport { cn } from '@/lib/utils';\r\nimport { Button } from '@/ui/button';\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuTrigger,\r\n} from '@/ui/dropdown-menu';\r\n// Import from the client-safe i18n exports\r\n\r\nexport default function LanguageSwitcher({ variant = \"default\" }: { variant?: \"default\" | \"sidebar\" }) {\r\n    const { locale, t } = useI18n();\r\n    const pathname = usePathname();\r\n    const [isPending, startTransition] = useTransition();\r\n    const isSidebar = variant === \"sidebar\";\r\n\r\n    // Get current path without locale prefix\r\n    const pathnameWithoutLocale = pathname.replace(`/${locale}`, '') || '/';\r\n\r\n    // Determine if we're in development mode\r\n    const isDev = process.env.NODE_ENV === 'development';\r\n\r\n    // Handle language switching with transition\r\n    const switchLanguage = (newLocale: (typeof locales)[number]) => {\r\n        // Skip if we're already switching or it's the current locale\r\n        if (isPending || newLocale === locale) return;\r\n\r\n        startTransition(() => {\r\n            // Ensure path starts with a slash\r\n            const path = `/${newLocale}${pathnameWithoutLocale.startsWith('/') ? pathnameWithoutLocale : `/${pathnameWithoutLocale}`}`;\r\n\r\n            // Update HTML dir attribute for RTL support\r\n            const config = localeConfigs[newLocale];\r\n            document.documentElement.dir = config.direction;\r\n\r\n            // Apply font class if specified\r\n            if (config.fontClass) {\r\n                document.documentElement.classList.forEach(className => {\r\n                    if (className.startsWith('font-')) {\r\n                        document.documentElement.classList.remove(className);\r\n                    }\r\n                });\r\n                document.documentElement.classList.add(config.fontClass);\r\n            }\r\n\r\n            // Store the selected language in localStorage\r\n            localStorage.setItem('NEXT_LOCALE', newLocale);\r\n\r\n            // Navigate to the new path\r\n            window.location.href = path;\r\n        });\r\n    };\r\n\r\n    return (\r\n        <DropdownMenu>\r\n            <DropdownMenuTrigger asChild>\r\n                <Button\r\n                    variant=\"ghost\"\r\n                    size=\"icon\"\r\n                    className={cn(\r\n                        \"relative h-9 w-9 rounded-full bg-background hover:bg-accent hover:text-accent-foreground\",\r\n                        \"border border-border/40 shadow-sm transition-all duration-200\",\r\n                        \"hover:shadow-md data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\r\n                        \"focus-visible:ring-offset-0 focus-visible:border-primary/50\",\r\n                        isSidebar && \"h-8 w-8 rounded-md\",\r\n                        isPending && \"opacity-50 cursor-not-allowed\"\r\n                    )}\r\n                    disabled={isPending}\r\n                    aria-label={t('common.switchLanguage')}\r\n                >\r\n                    <Languages className={cn(\"h-[1.2rem] w-[1.2rem]\", isSidebar && \"h-4 w-4\")} />\r\n                    <span className=\"sr-only\">{t('common.switchLanguage')}</span>\r\n                    {isPending && (\r\n                        <div className=\"absolute inset-0 flex items-center justify-center bg-background/50 rounded-full\">\r\n                            <div className=\"h-4 w-4 border-2 border-primary border-t-transparent rounded-full animate-spin\" />\r\n                        </div>\r\n                    )}\r\n                </Button>\r\n            </DropdownMenuTrigger>\r\n            <DropdownMenuContent\r\n                align=\"end\"\r\n                className={cn(\r\n                    \"animate-in fade-in-50 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95\",\r\n                    \"min-w-[150px]\"\r\n                )}\r\n            >\r\n                {locales.map((lang) => {\r\n                    const config = localeConfigs[lang];\r\n                    const isActive = locale === lang;\r\n\r\n                    return (\r\n                        <DropdownMenuItem\r\n                            key={lang}\r\n                            onClick={() => !isPending && switchLanguage(lang)}\r\n                            className={cn(\r\n                                \"flex cursor-pointer items-center gap-2 rounded-md px-3 py-2 text-sm transition-colors\",\r\n                                \"hover:bg-accent hover:text-accent-foreground\",\r\n                                isActive && \"bg-accent font-medium text-accent-foreground\",\r\n                                isPending && \"opacity-50 cursor-not-allowed\"\r\n                            )}\r\n                            disabled={isPending}\r\n                        >\r\n                            <span className=\"text-base\">{config.flag}</span>\r\n                            <span className={cn(\r\n                                \"flex-1\",\r\n                                lang === 'ar' && \"font-arabic text-right\"\r\n                            )}>\r\n                                {config.nativeName}\r\n                            </span>\r\n                            {isActive && (\r\n                                <div className=\"h-2 w-2 rounded-full bg-primary\" />\r\n                            )}\r\n                        </DropdownMenuItem>\r\n                    );\r\n                })}\r\n            </DropdownMenuContent>\r\n        </DropdownMenu>\r\n    );\r\n}\r\n","var map = {\n\t\"./ar.json\": [\n\t\t39221,\n\t\t9221\n\t],\n\t\"./en.json\": [\n\t\t28517,\n\t\t8517\n\t],\n\t\"./es.json\": [\n\t\t34026,\n\t\t4026\n\t],\n\t\"./fr.json\": [\n\t\t53586,\n\t\t3586\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__.t(id, 3 | 16);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 98728;\nmodule.exports = webpackAsyncContext;"],"names":["MainLayout","children","title","breadcrumbs","heroSection","header","className","div","SidebarTrigger","Separator","orientation","Breadcrumb","BreadcrumbList","map","item","index","BreadcrumbItem","href","BreadcrumbLink","BreadcrumbPage","length","BreadcrumbSeparator","Search","Input","type","placeholder","Button","size","variant","Bell","span","LanguageSwitcher","ThemeToggle","Avatar","ErrorBoundary","Component","constructor","props","state","hasError","error","getDerivedStateFromError","componentDidCatch","console","onError","render","fallback","Alert","AlertCircle","AlertTitle","AlertDescription","p","message","onClick","setState","window","location","reload","RefreshCw","LocaleNotFound","defaultTitle","defaultDescription","defaultBackHome","t","useTranslations","h1","Link","legacyBehavior","Popover","PopoverPrimitive","data-slot","PopoverTrigger","PopoverContent","align","sideOffset","cn","ScrollArea","ONBOARDING_STEPS_CONFIG","firstTaskDetails","id","description","component","profileSetupConfig","actionKey","countries","value","label","destinations","languages","features","tourStops","target","placement","content","imageUrl","tasks","cta","icon","Upload","Calendar","FileText","resourceCategories","BookOpen","resources","link","Flag","HelpCircle","Video","Users","undefined","find","step","getStepIndex","findIndex","getTotalSteps","ONBOARDING_STEPS_ORDER","nav","aria-label","ol","li","asChild","Comp","Slot","role","aria-disabled","aria-current","aria-hidden","ChevronRight","dynamic","ssr","loading","Skeleton","LanguageSwitcherWrapper","inputs","twMerge","clsx","generateUUID","crypto","randomUUID","replace","c","r","random","v","toString","generateDummyPassword","password","generateIdFromAI","salt","genSaltSync","hashSync","hash","NotificationButton","user","useAuth","supabase","useSupabaseBrowser","notifications","setNotifications","useState","unreadCount","setUnreadCount","isLoading","setIsLoading","setError","isOpen","setIsOpen","markAsRead","notificationId","updateError","from","update","is_read","eq","prev","n","prevCount","Math","max","err","markAllAsRead","open","onOpenChange","Badge","h3","notification","tabIndex","onKeyDown","e","key","formatDistanceToNow","Date","created_at","addSuffix","locales","localeConfigs","en","nativeName","englishName","direction","dateFormat","flag","htmlLang","calendar","number","decimal","thousands","ar","fontClass","fr","es","getLocaleConfig","locale","defaultLocale","getLocaleFont","Dialog","DialogPrimitive","DialogTrigger","DialogPortal","DialogOverlay","React","ref","displayName","DialogContent","X","DialogHeader","DialogFooter","DialogTitle","DialogDescription","setOpen","inputRef","query","setQuery","suggestions","aiSuggestions","handleSearch","clearSearch","useSearch","useHotkeys","preventDefault","down","metaKey","ctrlKey","document","addEventListener","removeEventListener","onSubmit","current","blur","form","onChange","aria-expanded","aria-controls","aria-describedby","SearchIcon","XCircleIcon","Loader2","CommandDialog","CommandInput","onValueChange","CommandList","CommandEmpty","CommandGroup","heading","CommandItem","onSelect","suggestion","CommandSeparator","footerLinks","links","name","socialLinks","Github","Twitter","Mail","Footer","pathname","usePathname","currentYear","getFullYear","footer","a","rel","section","ul","data-active","Copyright","Heart","alertVariants","cva","variants","default","destructive","defaultVariants","badgeVariants","secondary","outline","serverComponentModule.default","Command","CommandPrimitive","cmdk-input-wrapper","List","Empty","Group","Item","WelcomeModal","lazy","then","module","ProfileSetup","FeatureTour","FirstTask","Resources","componentMap","welcome","ActiveOnboardingStep","onboarding","useOnboarding","isCompleted","hideForSession","isActive","currentStepId","currentStep","ActiveComponent","Suspense","warn","Onboarding","OnboardingProvider","OnboardingProgress","OnboardingDebug","hideOnboardingForSession","resetOnboarding","nextStep","getStepById","currentStepIndex","totalSteps","validSteps","Array","_","i","getStepByIndex","filter","isModalStep","positionClasses","progress","Progress","h4","feature","generateStaticParams","validateLocale","includes","notFound","messageCache","Map","getMessages","has","get","messages","set","defaultMessages","fallbackError","LocaleLayout","params","localeParam","Promise","resolve","config","_jsxs","html","lang","suppressHydrationWarning","dir","_jsx","head","body","inter","NuqsAdapter","IntlClientProvider","timeZone","Providers","SidebarProvider","defaultOpen","AppSidebar","SidebarInset","Image","src","alt","width","height","priority","SearchBar","main","Analytics","now","NextIntlClientProvider","code","IntlErrorCode","MISSING_MESSAGE","getMessageFallback","namespace","charAt","toUpperCase","slice","formats","dateTime","short","day","month","year","medium","long","full","weekday","time","hour","minute","hour12","precise","maximumFractionDigits","minimumFractionDigits","compact","notation","percent","style","currency","list","enumeration","or","defaultOnboardingState","OnboardingContext","createContext","context","useContext","localState","setLocalState","setUser","createBrowserClient","process","useEffect","getUser","data","auth","authListener","onAuthStateChange","event","session","subscription","unsubscribe","onboardingState","persistentState","updateOnboardingState","useOnboardingPersistence","setOnboardingState","useCallback","newState","updatedLocalState","upsert","user_id","current_step","is_completed","updated_at","toISOString","toast","combinedState","useMemo","calculateProgress","round","currentIndex","nextIndex","nextStepId","success","previousStep","prevIndex","prevStepId","skipOnboarding","info","firstStepId","completeStep","stepId","stepConfig","s","method","headers","JSON","stringify","catch","Provider","initialState","activity","sources","currentDepth","maxDepth","completedSteps","totalExpectedSteps","sessionId","deepResearchReducer","action","payload","newActivity","timestamp","newCompletedSteps","newTotalExpectedSteps","some","url","completed","total","DeepResearchContext","DeepResearchProvider","dispatch","useReducer","toggleActive","setActive","active","addActivity","addSource","source","setDepth","initProgress","updateProgress","setSessionId","clearState","isVisible","setIsVisible","useI18n","useLocale","format","useFormatter","useTimeZone","useNow","isRtl","formatDate","date","options","formatRelativeTime","relativeTime","formatCurrency","formatNumber","useTranslate","useGlobalTranslate","ErrorFallback","h2","FallbackComponent","AuthProvider","ThemeProvider","attribute","defaultTheme","enableSystem","disableTransitionOnChange","TooltipProvider","SearchProvider","CustomToastProvider","Toaster","position","toastOptions","background","color","closeButton","richColors","theme","setTheme","useTheme","mounted","setMounted","isSidebar","DropdownMenu","DropdownMenuTrigger","Sun","Moon","DropdownMenuContent","DropdownMenuItem","Laptop","ToastContext","ToastPrimitives","toastVariants","CustomToast","onClose","IconComponent","CheckCircle","Info","variantStyles","button","toasts","setToasts","toastIdCounter","useRef","removeToast","prevToasts","newToast","setTimeout","duration","contextValue","CustomToastContainer","useToast","Toast","ToastAction","toast-close","ToastTitle","ToastDescription","ProgressPrimitive","transform","VALID_ROUTES","SearchContext","router","useRouter","setSuggestions","completion","complete","useCompletion","api","onResponse","currentQuery","trim","aiResponse","push","encodeURIComponent","useSearchContext","isPending","startTransition","useTransition","pathnameWithoutLocale","switchLanguage","newLocale","path","startsWith","documentElement","classList","forEach","remove","add","localStorage","setItem","disabled","Languages"],"sourceRoot":""}