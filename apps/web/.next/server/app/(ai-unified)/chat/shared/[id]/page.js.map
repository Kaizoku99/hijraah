{"version":3,"file":"../app/(ai-unified)/chat/shared/[id]/page.js","mappings":"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","sources":["webpack://@hijraah/web/../../src/client/request-idle-callback.ts","webpack://@hijraah/web/external node-commonjs \"node:process\"","webpack://@hijraah/web/external commonjs \"next/dist/server/app-render/after-task-async-storage.external.js\"","webpack://@hijraah/web/?7983","webpack://@hijraah/web/external commonjs2 \"module\"","webpack://@hijraah/web/external commonjs \"next/dist/compiled/next-server/app-page.runtime.prod.js\"","webpack://@hijraah/web/external commonjs2 \"punycode\"","webpack://@hijraah/web/./src/components/ui/scroll-area.tsx","webpack://@hijraah/web/./src/lib/auth.ts","webpack://@hijraah/web/external commonjs \"next/dist/server/app-render/action-async-storage.external.js\"","webpack://@hijraah/web/external commonjs2 \"process\"","webpack://@hijraah/web/?e8a0","webpack://@hijraah/web/external commonjs2 \"os\"","webpack://@hijraah/web/external commonjs2 \"stream\"","webpack://@hijraah/web/external commonjs2 \"util\"","webpack://@hijraah/web/external commonjs2 \"fs\"","webpack://@hijraah/web/external commonjs \"next/dist/server/app-render/work-async-storage.external.js\"","webpack://@hijraah/web/external node-commonjs \"node:child_process\"","webpack://@hijraah/web/external commonjs2 \"path\"","webpack://@hijraah/web/external commonjs2 \"tls\"","webpack://@hijraah/web/sentry-wrapper-module","webpack://@hijraah/web/external commonjs2 \"diagnostics_channel\"","webpack://@hijraah/web/external node-commonjs \"node:http\"","webpack://@hijraah/web/external node-commonjs \"node:zlib\"","webpack://@hijraah/web/external node-commonjs \"node:tls\"","webpack://@hijraah/web/../../node_modules/.pnpm/next@15.3.0-canary.31_@babe_be67f368de2727c847f3a61f5e6cf4fa/node_modules/next/dist/api/script.js","webpack://@hijraah/web/./src/components/ui/alert.tsx","webpack://@hijraah/web/external node-commonjs \"node:https\"","webpack://@hijraah/web/?8215","webpack://@hijraah/web/./src/components/ui/badge.tsx","webpack://@hijraah/web/external node-commonjs \"node:os\"","webpack://@hijraah/web/../src/progress.tsx","webpack://@hijraah/web/../../../src/icons/users.ts","webpack://@hijraah/web/external node-commonjs \"node:diagnostics_channel\"","webpack://@hijraah/web/external commonjs2 \"crypto\"","webpack://@hijraah/web/external commonjs2 \"https\"","webpack://@hijraah/web/external node-commonjs \"node:stream\"","webpack://@hijraah/web/external node-commonjs \"node:util\"","webpack://@hijraah/web/../../../src/icons/upload.ts","webpack://@hijraah/web/../../../src/icons/alert-circle.ts","webpack://@hijraah/web/external commonjs \"next/dist/server/app-render/work-unit-async-storage.external.js\"","webpack://@hijraah/web/src/app/(ai-unified)/chat/shared/layout.tsx","webpack://@hijraah/web/../../../src/icons/loader-2.ts","webpack://@hijraah/web/?9f6f","webpack://@hijraah/web/./src/i18n/hooks.ts","webpack://@hijraah/web/external node-commonjs \"node:fs\"","webpack://@hijraah/web/external node-commonjs \"node:url\"","webpack://@hijraah/web/external commonjs2 \"worker_threads\"","webpack://@hijraah/web/?475b","webpack://@hijraah/web/external commonjs2 \"zlib\"","webpack://@hijraah/web/src/app/(ai-unified)/chat/layout.tsx","webpack://@hijraah/web/external commonjs2 \"perf_hooks\"","webpack://@hijraah/web/external node-commonjs \"node:worker_threads\"","webpack://@hijraah/web/external node-commonjs \"node:path\"","webpack://@hijraah/web/external node-commonjs \"node:net\"","webpack://@hijraah/web/external node-commonjs \"node:crypto\"","webpack://@hijraah/web/external commonjs2 \"buffer\"","webpack://@hijraah/web/external commonjs2 \"url\"","webpack://@hijraah/web/external commonjs2 \"child_process\"","webpack://@hijraah/web/external node-commonjs \"node:readline\"","webpack://@hijraah/web/external commonjs2 \"http\"","webpack://@hijraah/web/external commonjs2 \"tty\"","webpack://@hijraah/web/external commonjs2 \"async_hooks\"","webpack://@hijraah/web/?472f","webpack://@hijraah/web/external module \"ai\"","webpack://@hijraah/web/../../src/client/set-attributes-from-props.ts","webpack://@hijraah/web/external node-commonjs \"node:inspector\"","webpack://@hijraah/web/../../../src/icons/info.ts","webpack://@hijraah/web/src/app/(ai-unified)/layout.tsx","webpack://@hijraah/web/external commonjs2 \"net\"","webpack://@hijraah/web/./src/components/ui/progress.tsx","webpack://@hijraah/web/../../../src/icons/book-open.ts","webpack://@hijraah/web/external commonjs2 \"events\"","webpack://@hijraah/web/./src/app/(ai-unified)/chat/shared/[id]/page.tsx","webpack://@hijraah/web/../../src/client/script.tsx"],"sourcesContent":["export const requestIdleCallback =\n  (typeof self !== 'undefined' &&\n    self.requestIdleCallback &&\n    self.requestIdleCallback.bind(window)) ||\n  function (cb: IdleRequestCallback): number {\n    let start = Date.now()\n    return self.setTimeout(function () {\n      cb({\n        didTimeout: false,\n        timeRemaining: function () {\n          return Math.max(0, 50 - (Date.now() - start))\n        },\n      })\n    }, 1)\n  }\n\nexport const cancelIdleCallback =\n  (typeof self !== 'undefined' &&\n    self.cancelIdleCallback &&\n    self.cancelIdleCallback.bind(window)) ||\n  function (id: number) {\n    return clearTimeout(id)\n  }\n","module.exports = require(\"node:process\");","module.exports = require(\"next/dist/server/app-render/after-task-async-storage.external.js\");","import(/* webpackMode: \"eager\" */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\(ai-unified)\\\\chat\\\\shared\\\\[id]\\\\page.tsx\");\n","module.exports = require(\"module\");","module.exports = require(\"next/dist/compiled/next-server/app-page.runtime.prod.js\");","module.exports = require(\"punycode\");","'use client'\r\n\r\nimport React, { ComponentPropsWithRef } from 'react'\r\n\r\ninterface ScrollAreaProps extends ComponentPropsWithRef<'div'> {\r\n  className?: string\r\n}\r\n\r\nexport const ScrollArea = ({ children, className, ...props }: ScrollAreaProps) => {\r\n  return (\r\n    <div className={`overflow-auto ${className || ''}`} {...props}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ScrollArea ","/**\r\n * Auth module facade - redirects to the proper Supabase auth implementation\r\n * This file exists to maintain backward compatibility with any code still using the old path.\r\n */\r\nimport { createClient } from \"@supabase/supabase-js\";\r\n\r\nimport {\r\n  getAuthUser,\r\n  getAuthUserOrRedirect,\r\n  createServerClient,\r\n  getUser as getAuthUserFromServer,\r\n} from \"./auth/index\";\r\n\r\nimport {\r\n  getSession,\r\n  getCurrentUser,\r\n  isAuthenticated,\r\n  signOut,\r\n  protect,\r\n  protectRole,\r\n  protectAdmin,\r\n} from \"./auth/actions\";\r\n\r\nimport { AuthError } from \"./auth/errors\";\r\nimport { useAuth, useUser, useIsAuthenticated, useHasRole } from \"./auth/hooks\";\r\nimport { createExtendedUser } from \"@/types/auth\";\r\n\r\n/**\r\n * Get the current authenticated user on the server\r\n * @returns The current user's session or null if not authenticated\r\n */\r\nexport async function auth() {\r\n  const result = await getAuthUser();\r\n  return result.session;\r\n}\r\n\r\n/**\r\n * Get the current user on the server\r\n * @returns The current user or null if not authenticated\r\n */\r\nexport const getUser = async () => {\r\n  return getAuthUserFromServer();\r\n};\r\n\r\n/**\r\n * Check if the current user is authenticated\r\n * @returns True if the user is authenticated, false otherwise\r\n */\r\nexport { isAuthenticated };\r\n\r\n/**\r\n * Securely get the authenticated session by first verifying the user\r\n * This is the recommended approach to avoid security issues with direct session access\r\n * @returns The authenticated session or null if not authenticated\r\n */\r\nexport async function getAuthenticatedSession() {\r\n  const result = await getAuthUser();\r\n  return result.session;\r\n}\r\n\r\n/**\r\n * Get the server user\r\n */\r\nexport async function getServerUser() {\r\n  try {\r\n    const { user } = await getAuthUser();\r\n    return { user, error: null };\r\n  } catch (error) {\r\n    return { user: null, error };\r\n  }\r\n}\r\n\r\n/**\r\n * Get the server session\r\n */\r\nexport async function getServerSession() {\r\n  try {\r\n    const { user } = await getAuthUser();\r\n    return { session: user ? { user } : null, error: null };\r\n  } catch (error) {\r\n    return { session: null, error };\r\n  }\r\n}\r\n\r\n// Export main auth functionality from the designated modules\r\nexport {\r\n  getAuthUser,\r\n  getAuthUserOrRedirect,\r\n  createServerClient,\r\n  protect,\r\n  protectRole,\r\n  protectAdmin,\r\n  signOut,\r\n  useAuth,\r\n  useUser,\r\n  useIsAuthenticated,\r\n  useHasRole,\r\n  AuthError,\r\n  createExtendedUser,\r\n};\r\n","module.exports = require(\"next/dist/server/app-render/action-async-storage.external.js\");","module.exports = require(\"process\");","import(/* webpackMode: \"eager\", webpackExports: [\"AppSidebar\"] */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\components\\\\ui\\\\app-sidebar.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"SidebarProvider\",\"SidebarInset\"] */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\components\\\\ui\\\\sidebar.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\lib\\\\auth\\\\hooks.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"E:\\\\downloads\\\\Hijraah\\\\node_modules\\\\.pnpm\\\\next@15.3.0-canary.31_@babe_be67f368de2727c847f3a61f5e6cf4fa\\\\node_modules\\\\next\\\\dist\\\\client\\\\script.js\");\n","module.exports = require(\"os\");","module.exports = require(\"stream\");","module.exports = require(\"util\");","module.exports = require(\"fs\");","module.exports = require(\"next/dist/server/app-render/work-async-storage.external.js\");","module.exports = require(\"node:child_process\");","module.exports = require(\"path\");","module.exports = require(\"tls\");","import * as origModule from 'next/dist/server/app-render/work-unit-async-storage.external.js';\nimport * as serverComponentModule from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\nexport * from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\nimport * as Sentry from '@sentry/nextjs';\n\n// @ts-expect-error Because we cannot be sure if the RequestAsyncStorage module exists (it is not part of the Next.js public\n// API) we use a shim if it doesn't exist. The logic for this is in the wrapping loader.\n\nconst asyncStorageModule = { ...origModule } ;\n\nconst requestAsyncStorage =\n  'workUnitAsyncStorage' in asyncStorageModule\n    ? asyncStorageModule.workUnitAsyncStorage\n    : 'requestAsyncStorage' in asyncStorageModule\n      ? asyncStorageModule.requestAsyncStorage\n      : undefined;\n\nconst serverComponent = serverComponentModule.default;\n\nlet wrappedServerComponent;\nif (typeof serverComponent === 'function') {\n  // For some odd Next.js magic reason, `headers()` will not work if used inside `wrapServerComponentsWithSentry`.\n  // Current assumption is that Next.js applies some loader magic to userfiles, but not files in node_modules. This file\n  // is technically a userfile so it gets the loader magic applied.\n  wrappedServerComponent = new Proxy(serverComponent, {\n    apply: (originalFunction, thisArg, args) => {\n      let sentryTraceHeader = undefined;\n      let baggageHeader = undefined;\n      let headers = undefined;\n\n      // We try-catch here just in `requestAsyncStorage` is undefined since it may not be defined\n      try {\n        const requestAsyncStore = requestAsyncStorage?.getStore() ;\n        sentryTraceHeader = requestAsyncStore?.headers.get('sentry-trace') ?? undefined;\n        baggageHeader = requestAsyncStore?.headers.get('baggage') ?? undefined;\n        headers = requestAsyncStore?.headers;\n      } catch (e) {\n        /** empty */\n      }\n\n      return Sentry.wrapServerComponentWithSentry(originalFunction, {\n        componentRoute: '/(ai-unified)/chat/shared/[id]',\n        componentType: 'Page',\n        sentryTraceHeader,\n        baggageHeader,\n        headers,\n      }).apply(thisArg, args);\n    },\n  });\n} else {\n  wrappedServerComponent = serverComponent;\n}\n\nconst generateMetadata = serverComponentModule.generateMetadata\n  ? Sentry.wrapGenerationFunctionWithSentry(serverComponentModule.generateMetadata, {\n      componentRoute: '/(ai-unified)/chat/shared/[id]',\n      componentType: 'Page',\n      generationFunctionIdentifier: 'generateMetadata',\n      requestAsyncStorage,\n    })\n  : undefined;\n\nconst generateImageMetadata = serverComponentModule.generateImageMetadata\n  ? Sentry.wrapGenerationFunctionWithSentry(serverComponentModule.generateImageMetadata, {\n      componentRoute: '/(ai-unified)/chat/shared/[id]',\n      componentType: 'Page',\n      generationFunctionIdentifier: 'generateImageMetadata',\n      requestAsyncStorage,\n    })\n  : undefined;\n\nconst generateViewport = serverComponentModule.generateViewport\n  ? Sentry.wrapGenerationFunctionWithSentry(serverComponentModule.generateViewport, {\n      componentRoute: '/(ai-unified)/chat/shared/[id]',\n      componentType: 'Page',\n      generationFunctionIdentifier: 'generateViewport',\n      requestAsyncStorage,\n    })\n  : undefined;\n\nconst wrappedServerComponent$1 = wrappedServerComponent;\n\nexport { wrappedServerComponent$1 as default, generateImageMetadata, generateMetadata, generateViewport };\n","module.exports = require(\"diagnostics_channel\");","module.exports = require(\"node:http\");","module.exports = require(\"node:zlib\");","module.exports = require(\"node:tls\");","export { default } from '../client/script';\nexport * from '../client/script';\n\n//# sourceMappingURL=script.js.map","import { cva, type VariantProps } from \"class-variance-authority\"\r\nimport * as React from \"react\"\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst alertVariants = cva(\r\n  \"relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-background text-foreground\",\r\n        destructive:\r\n          \"text-destructive-foreground [&>svg]:text-current *:data-[slot=alert-description]:text-destructive-foreground/80\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nfunction Alert({\r\n  className,\r\n  variant,\r\n  ...props\r\n}: React.ComponentProps<\"div\"> & VariantProps<typeof alertVariants>) {\r\n  return (\r\n    <div\r\n      data-slot=\"alert\"\r\n      role=\"alert\"\r\n      className={cn(alertVariants({ variant }), className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction AlertTitle({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"alert-title\"\r\n      className={cn(\r\n        \"col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction AlertDescription({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"alert-description\"\r\n      className={cn(\r\n        \"text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Alert, AlertTitle, AlertDescription }\r\n","module.exports = require(\"node:https\");","const module0 = () => import(/* webpackMode: \"eager\" */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\layout.tsx\");\nconst module1 = () => import(/* webpackMode: \"eager\" */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\error.tsx\");\nconst module2 = () => import(/* webpackMode: \"eager\" */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\global-error.tsx\");\nconst module3 = () => import(/* webpackMode: \"eager\" */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\not-found.tsx\");\nconst module4 = () => import(/* webpackMode: \"eager\" */ \"next/dist/client/components/forbidden-error\");\nconst module5 = () => import(/* webpackMode: \"eager\" */ \"next/dist/client/components/unauthorized-error\");\nconst module6 = () => import(/* webpackMode: \"eager\" */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\(ai-unified)\\\\layout.tsx\");\nconst module7 = () => import(/* webpackMode: \"eager\" */ \"next/dist/client/components/forbidden-error\");\nconst module8 = () => import(/* webpackMode: \"eager\" */ \"next/dist/client/components/unauthorized-error\");\nconst module9 = () => import(/* webpackMode: \"eager\" */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\(ai-unified)\\\\chat\\\\layout.tsx\");\nconst module10 = () => import(/* webpackMode: \"eager\" */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\(ai-unified)\\\\chat\\\\shared\\\\layout.tsx\");\nconst page11 = () => import(/* webpackMode: \"eager\" */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\(ai-unified)\\\\chat\\\\shared\\\\[id]\\\\page.tsx\");\nimport { AppPageRouteModule } from \"next/dist/server/route-modules/app-page/module.compiled\" with {\n    'turbopack-transition': 'next-ssr'\n};\nimport { RouteKind } from \"next/dist/server/route-kind\" with {\n    'turbopack-transition': 'next-server-utility'\n};\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        '(ai-unified)',\n        {\n        children: [\n        'chat',\n        {\n        children: [\n        'shared',\n        {\n        children: [\n        '[id]',\n        {\n        children: ['__PAGE__', {}, {\n          page: [page11, \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\(ai-unified)\\\\chat\\\\shared\\\\[id]\\\\page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [module10, \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\(ai-unified)\\\\chat\\\\shared\\\\layout.tsx\"],\n        \n      }\n      ]\n      },\n        {\n        'layout': [module9, \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\(ai-unified)\\\\chat\\\\layout.tsx\"],\n        \n      }\n      ]\n      },\n        {\n        'layout': [module6, \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\(ai-unified)\\\\layout.tsx\"],\n'forbidden': [module7, \"next/dist/client/components/forbidden-error\"],\n'unauthorized': [module8, \"next/dist/client/components/unauthorized-error\"],\n        \n      }\n      ]\n      },\n        {\n        'layout': [module0, \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\layout.tsx\"],\n'error': [module1, \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\error.tsx\"],\n'global-error': [module2, \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\global-error.tsx\"],\n'not-found': [module3, \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\not-found.tsx\"],\n'forbidden': [module4, \"next/dist/client/components/forbidden-error\"],\n'unauthorized': [module5, \"next/dist/client/components/unauthorized-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\(ai-unified)\\\\chat\\\\shared\\\\[id]\\\\page.tsx\"];\nexport { tree, pages };\nexport { default as GlobalError } from \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\global-error.tsx\" with {\n    'turbopack-transition': 'next-server-utility'\n};\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nexport const __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\nexport * from \"next/dist/server/app-render/entry-base\" with {\n    'turbopack-transition': 'next-server-utility'\n};\n// Create and export the route module that will be consumed.\nexport const routeModule = new AppPageRouteModule({\n    definition: {\n        kind: RouteKind.APP_PAGE,\n        page: \"/(ai-unified)/chat/shared/[id]/page\",\n        pathname: \"/chat/shared/[id]\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: '',\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map","import { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\r\n        secondary:\r\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\r\n        destructive:\r\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\r\n        outline:\r\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nfunction Badge({\r\n  className,\r\n  variant,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<\"span\"> &\r\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\r\n  const Comp = asChild ? Slot : \"span\"\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"badge\"\r\n      className={cn(badgeVariants({ variant }), className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n","module.exports = require(\"node:os\");","import * as React from 'react';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * Progress\n * -----------------------------------------------------------------------------------------------*/\n\nconst PROGRESS_NAME = 'Progress';\nconst DEFAULT_MAX = 100;\n\ntype ScopedProps<P> = P & { __scopeProgress?: Scope };\nconst [createProgressContext, createProgressScope] = createContextScope(PROGRESS_NAME);\n\ntype ProgressState = 'indeterminate' | 'complete' | 'loading';\ntype ProgressContextValue = { value: number | null; max: number };\nconst [ProgressProvider, useProgressContext] =\n  createProgressContext<ProgressContextValue>(PROGRESS_NAME);\n\ntype ProgressElement = React.ComponentRef<typeof Primitive.div>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface ProgressProps extends PrimitiveDivProps {\n  value?: number | null | undefined;\n  max?: number;\n  getValueLabel?(value: number, max: number): string;\n}\n\nconst Progress = React.forwardRef<ProgressElement, ProgressProps>(\n  (props: ScopedProps<ProgressProps>, forwardedRef) => {\n    const {\n      __scopeProgress,\n      value: valueProp = null,\n      max: maxProp,\n      getValueLabel = defaultGetValueLabel,\n      ...progressProps\n    } = props;\n\n    if ((maxProp || maxProp === 0) && !isValidMaxNumber(maxProp)) {\n      console.error(getInvalidMaxError(`${maxProp}`, 'Progress'));\n    }\n\n    const max = isValidMaxNumber(maxProp) ? maxProp : DEFAULT_MAX;\n\n    if (valueProp !== null && !isValidValueNumber(valueProp, max)) {\n      console.error(getInvalidValueError(`${valueProp}`, 'Progress'));\n    }\n\n    const value = isValidValueNumber(valueProp, max) ? valueProp : null;\n    const valueLabel = isNumber(value) ? getValueLabel(value, max) : undefined;\n\n    return (\n      <ProgressProvider scope={__scopeProgress} value={value} max={max}>\n        <Primitive.div\n          aria-valuemax={max}\n          aria-valuemin={0}\n          aria-valuenow={isNumber(value) ? value : undefined}\n          aria-valuetext={valueLabel}\n          role=\"progressbar\"\n          data-state={getProgressState(value, max)}\n          data-value={value ?? undefined}\n          data-max={max}\n          {...progressProps}\n          ref={forwardedRef}\n        />\n      </ProgressProvider>\n    );\n  }\n);\n\nProgress.displayName = PROGRESS_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * ProgressIndicator\n * -----------------------------------------------------------------------------------------------*/\n\nconst INDICATOR_NAME = 'ProgressIndicator';\n\ntype ProgressIndicatorElement = React.ComponentRef<typeof Primitive.div>;\ninterface ProgressIndicatorProps extends PrimitiveDivProps {}\n\nconst ProgressIndicator = React.forwardRef<ProgressIndicatorElement, ProgressIndicatorProps>(\n  (props: ScopedProps<ProgressIndicatorProps>, forwardedRef) => {\n    const { __scopeProgress, ...indicatorProps } = props;\n    const context = useProgressContext(INDICATOR_NAME, __scopeProgress);\n    return (\n      <Primitive.div\n        data-state={getProgressState(context.value, context.max)}\n        data-value={context.value ?? undefined}\n        data-max={context.max}\n        {...indicatorProps}\n        ref={forwardedRef}\n      />\n    );\n  }\n);\n\nProgressIndicator.displayName = INDICATOR_NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\nfunction defaultGetValueLabel(value: number, max: number) {\n  return `${Math.round((value / max) * 100)}%`;\n}\n\nfunction getProgressState(value: number | undefined | null, maxValue: number): ProgressState {\n  return value == null ? 'indeterminate' : value === maxValue ? 'complete' : 'loading';\n}\n\nfunction isNumber(value: any): value is number {\n  return typeof value === 'number';\n}\n\nfunction isValidMaxNumber(max: any): max is number {\n  // prettier-ignore\n  return (\n    isNumber(max) &&\n    !isNaN(max) &&\n    max > 0\n  );\n}\n\nfunction isValidValueNumber(value: any, max: number): value is number {\n  // prettier-ignore\n  return (\n    isNumber(value) &&\n    !isNaN(value) &&\n    value <= max &&\n    value >= 0\n  );\n}\n\n// Split this out for clearer readability of the error message.\nfunction getInvalidMaxError(propValue: string, componentName: string) {\n  return `Invalid prop \\`max\\` of value \\`${propValue}\\` supplied to \\`${componentName}\\`. Only numbers greater than 0 are valid max values. Defaulting to \\`${DEFAULT_MAX}\\`.`;\n}\n\nfunction getInvalidValueError(propValue: string, componentName: string) {\n  return `Invalid prop \\`value\\` of value \\`${propValue}\\` supplied to \\`${componentName}\\`. The \\`value\\` prop must be:\n  - a positive number\n  - less than the value passed to \\`max\\` (or ${DEFAULT_MAX} if no \\`max\\` prop is set)\n  - \\`null\\` or \\`undefined\\` if the progress is indeterminate.\n\nDefaulting to \\`null\\`.`;\n}\n\nconst Root = Progress;\nconst Indicator = ProgressIndicator;\n\nexport {\n  createProgressScope,\n  //\n  Progress,\n  ProgressIndicator,\n  //\n  Root,\n  Indicator,\n};\nexport type { ProgressProps, ProgressIndicatorProps };\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Users\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8cGF0aCBkPSJNMjIgMjF2LTJhNCA0IDAgMCAwLTMtMy44NyIgLz4KICA8cGF0aCBkPSJNMTYgMy4xM2E0IDQgMCAwIDEgMCA3Ljc1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/users\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Users = createLucideIcon('Users', [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['path', { d: 'M22 21v-2a4 4 0 0 0-3-3.87', key: 'kshegd' }],\n  ['path', { d: 'M16 3.13a4 4 0 0 1 0 7.75', key: '1da9ce' }],\n]);\n\nexport default Users;\n","module.exports = require(\"node:diagnostics_channel\");","module.exports = require(\"crypto\");","module.exports = require(\"https\");","module.exports = require(\"node:stream\");","module.exports = require(\"node:util\");","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Upload\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxNyA4IDEyIDMgNyA4IiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjEyIiB5MT0iMyIgeTI9IjE1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/upload\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Upload = createLucideIcon('Upload', [\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n  ['polyline', { points: '17 8 12 3 7 8', key: 't8dd8p' }],\n  ['line', { x1: '12', x2: '12', y1: '3', y2: '15', key: 'widbto' }],\n]);\n\nexport default Upload;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name AlertCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjgiIHkyPSIxMiIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMi4wMSIgeTE9IjE2IiB5Mj0iMTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/alert-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst AlertCircle = createLucideIcon('AlertCircle', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['line', { x1: '12', x2: '12', y1: '8', y2: '12', key: '1pkeuh' }],\n  ['line', { x1: '12', x2: '12.01', y1: '16', y2: '16', key: '4dfq90' }],\n]);\n\nexport default AlertCircle;\n","module.exports = require(\"next/dist/server/app-render/work-unit-async-storage.external.js\");","import { Metadata } from 'next'\r\nimport { ReactNode } from 'react'\r\n\r\nexport const metadata: Metadata = {\r\n    title: 'Shared Chat - Hijraah',\r\n    description: 'View a shared AI chat conversation',\r\n}\r\n\r\nexport default function SharedChatLayout({ children }: { children: ReactNode }) {\r\n    return children\r\n} ","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Loader2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTYuMjE5LTguNTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/loader-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Loader2 = createLucideIcon('Loader2', [\n  ['path', { d: 'M21 12a9 9 0 1 1-6.219-8.56', key: '13zald' }],\n]);\n\nexport default Loader2;\n","import(/* webpackMode: \"eager\" */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\app\\\\(ai-unified)\\\\chat\\\\shared\\\\[id]\\\\page.tsx\");\n","\"use client\";\r\n\r\nimport {\r\n  useFormatter,\r\n  useLocale,\r\n  useNow,\r\n  useTimeZone,\r\n  useTranslations,\r\n} from \"next-intl\";\r\n\r\nimport { getLocaleConfig, Locale } from \"@/i18n/i18n\";\r\n\r\n/**\r\n * Extended hook for i18n utilities combining multiple next-intl hooks\r\n * @returns Various i18n utilities for use in client components\r\n */\r\nexport function useI18n() {\r\n  const locale = useLocale() as Locale;\r\n  const t = useTranslations();\r\n  const format = useFormatter();\r\n  const timeZone = useTimeZone();\r\n  const now = useNow();\r\n\r\n  // Get locale configuration\r\n  const config = getLocaleConfig(locale);\r\n\r\n  // Direction utility\r\n  const direction = config.direction;\r\n  const isRtl = direction === \"rtl\";\r\n\r\n  // Date formatting helper using locale preferences\r\n  const formatDate = (date: Date | number, options?: any) => {\r\n    return format.dateTime(date, options);\r\n  };\r\n\r\n  // Relative time formatting\r\n  const formatRelativeTime = (date: Date | number) => {\r\n    return format.relativeTime(date);\r\n  };\r\n\r\n  // Currency formatting with locale preferences\r\n  const formatCurrency = (value: number, currency = \"USD\") => {\r\n    return format.number(value, {\r\n      style: \"currency\",\r\n      currency,\r\n    } as any);\r\n  };\r\n\r\n  // Number formatting according to locale\r\n  const formatNumber = (value: number, options?: any) => {\r\n    return format.number(value, options);\r\n  };\r\n\r\n  return {\r\n    // Original hooks\r\n    t,\r\n    format,\r\n    locale,\r\n    timeZone,\r\n    now,\r\n\r\n    // Derived utilities\r\n    config,\r\n    direction,\r\n    isRtl,\r\n\r\n    // Helper functions\r\n    formatDate,\r\n    formatRelativeTime,\r\n    formatCurrency,\r\n    formatNumber,\r\n  };\r\n}\r\n\r\n/**\r\n * Hook to access translations for a specific namespace\r\n * @param namespace The translation namespace\r\n * @returns Translation function for the specified namespace\r\n */\r\nexport function useTranslate(namespace: string) {\r\n  return useTranslations(namespace);\r\n}\r\n\r\n/**\r\n * Hook to access global translations (no namespace)\r\n * @returns Translation function for the global namespace\r\n */\r\nexport function useGlobalTranslate() {\r\n  return useTranslations();\r\n}\r\n","module.exports = require(\"node:fs\");","module.exports = require(\"node:url\");","module.exports = require(\"worker_threads\");","\nexport { verifyUserIsAdmin as \"4055c9f9dce3c849928e65e87017b3609674121d00\" } from \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\lib\\\\actions\\\\admin.ts\"\n","module.exports = require(\"zlib\");","import { Metadata } from \"next\";\r\nimport { cookies } from \"next/headers\";\r\nimport Script from \"next/script\";\r\nimport { ReactNode } from \"react\";\r\n\r\nimport { AppSidebar } from \"@/components/ui/app-sidebar\";\r\nimport { SidebarInset, SidebarProvider } from \"@/components/ui/sidebar\";\r\nimport { auth } from \"@/lib/auth\";\r\n\r\n\r\nexport const metadata: Metadata = {\r\n  // Updated title for consolidated structure\r\n  title: \"Unified Chat - Hijraah\",\r\n  description: \"Chat with our AI assistant to get immigration help\",\r\n};\r\n\r\nexport const experimental_ppr = true;\r\n\r\n// Note: Renamed from AIChatLayout to UnifiedChatLayout, now adopting source's structure\r\nexport default async function UnifiedChatLayout({\r\n  children,\r\n}: {\r\n  children: ReactNode;\r\n}) {\r\n  const [session, cookieStore] = await Promise.all([auth(), cookies()]);\r\n  const isCollapsed = cookieStore.get(\"sidebar:state\")?.value !== \"true\";\r\n\r\n  return (\r\n    <>\r\n      <Script\r\n        src=\"https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js\"\r\n        strategy=\"beforeInteractive\"\r\n      />\r\n      <SidebarProvider defaultOpen={!isCollapsed}>\r\n        <AppSidebar />\r\n        <SidebarInset>{children}</SidebarInset>\r\n      </SidebarProvider>\r\n    </>\r\n  );\r\n}\r\n","module.exports = require(\"perf_hooks\");","module.exports = require(\"node:worker_threads\");","module.exports = require(\"node:path\");","module.exports = require(\"node:net\");","module.exports = require(\"node:crypto\");","module.exports = require(\"buffer\");","module.exports = require(\"url\");","module.exports = require(\"child_process\");","module.exports = require(\"node:readline\");","module.exports = require(\"http\");","module.exports = require(\"tty\");","module.exports = require(\"async_hooks\");","import(/* webpackMode: \"eager\", webpackExports: [\"AppSidebar\"] */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\components\\\\ui\\\\app-sidebar.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"SidebarProvider\",\"SidebarInset\"] */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\components\\\\ui\\\\sidebar.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"E:\\\\downloads\\\\Hijraah\\\\apps\\\\web\\\\src\\\\lib\\\\auth\\\\hooks.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"E:\\\\downloads\\\\Hijraah\\\\node_modules\\\\.pnpm\\\\next@15.3.0-canary.31_@babe_be67f368de2727c847f3a61f5e6cf4fa\\\\node_modules\\\\next\\\\dist\\\\client\\\\script.js\");\n","module.exports = import(\"ai\");;","const DOMAttributeNames: Record<string, string> = {\n  acceptCharset: 'accept-charset',\n  className: 'class',\n  htmlFor: 'for',\n  httpEquiv: 'http-equiv',\n  noModule: 'noModule',\n}\n\nconst ignoreProps = [\n  'onLoad',\n  'onReady',\n  'dangerouslySetInnerHTML',\n  'children',\n  'onError',\n  'strategy',\n  'stylesheets',\n]\n\nfunction isBooleanScriptAttribute(\n  attr: string\n): attr is 'async' | 'defer' | 'noModule' {\n  return ['async', 'defer', 'noModule'].includes(attr)\n}\n\nexport function setAttributesFromProps(el: HTMLElement, props: object) {\n  for (const [p, value] of Object.entries(props)) {\n    if (!props.hasOwnProperty(p)) continue\n    if (ignoreProps.includes(p)) continue\n\n    // we don't render undefined props to the DOM\n    if (value === undefined) {\n      continue\n    }\n\n    const attr = DOMAttributeNames[p] || p.toLowerCase()\n\n    if (el.tagName === 'SCRIPT' && isBooleanScriptAttribute(attr)) {\n      // Correctly assign boolean script attributes\n      // https://github.com/vercel/next.js/pull/20748\n      ;(el as HTMLScriptElement)[attr] = !!value\n    } else {\n      el.setAttribute(attr, String(value))\n    }\n\n    // Remove falsy non-zero boolean attributes so they are correctly interpreted\n    // (e.g. if we set them to false, this coerces to the string \"false\", which the browser interprets as true)\n    if (\n      value === false ||\n      (el.tagName === 'SCRIPT' &&\n        isBooleanScriptAttribute(attr) &&\n        (!value || value === 'false'))\n    ) {\n      // Call setAttribute before, as we need to set and unset the attribute to override force async:\n      // https://html.spec.whatwg.org/multipage/scripting.html#script-force-async\n      el.setAttribute(attr, '')\n      el.removeAttribute(attr)\n    }\n  }\n}\n","module.exports = require(\"node:inspector\");","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Info\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNMTIgMTZ2LTQiIC8+CiAgPHBhdGggZD0iTTEyIDhoLjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/info\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Info = createLucideIcon('Info', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M12 16v-4', key: '1dtifu' }],\n  ['path', { d: 'M12 8h.01', key: 'e9boi3' }],\n]);\n\nexport default Info;\n","import { cookies } from \"next/headers\";\r\nimport Script from \"next/script\";\r\n\r\nimport { AppSidebar } from \"@/components/ui/app-sidebar\";\r\nimport { SidebarInset, SidebarProvider } from \"@/components/ui/sidebar\";\r\nimport { auth } from \"@/lib/auth\";\r\n\r\nexport const experimental_ppr = true;\r\n\r\nexport default async function UnifiedLayout({\r\n  // Renamed function\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  const [session, cookieStore] = await Promise.all([auth(), cookies()]);\r\n  const isCollapsed = cookieStore.get(\"sidebar:state\")?.value !== \"true\";\r\n\r\n  return (\r\n    <>\r\n      <Script\r\n        src=\"https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js\"\r\n        strategy=\"beforeInteractive\"\r\n      />\r\n      <SidebarProvider defaultOpen={!isCollapsed}>\r\n        <AppSidebar />\r\n        <SidebarInset>{children}</SidebarInset>\r\n      </SidebarProvider>\r\n    </>\r\n  );\r\n}\r\n","module.exports = require(\"net\");","\"use client\";\n\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root> & {\n    value?: number;\n  }\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-2 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n));\nProgress.displayName = ProgressPrimitive.Root.displayName;\n\nexport { Progress };\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name BookOpen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMiAzaDZhNCA0IDAgMCAxIDQgNHYxNGEzIDMgMCAwIDAtMy0zSDJ6IiAvPgogIDxwYXRoIGQ9Ik0yMiAzaC02YTQgNCAwIDAgMC00IDR2MTRhMyAzIDAgMCAxIDMtM2g3eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/book-open\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst BookOpen = createLucideIcon('BookOpen', [\n  ['path', { d: 'M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z', key: 'vv98re' }],\n  ['path', { d: 'M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z', key: '1cyq3y' }],\n]);\n\nexport default BookOpen;\n","module.exports = require(\"events\");","\"use client\";\r\n\r\nimport { type Metadata } from \"next\";\r\nimport { useParams, notFound } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\n// import { AIChatContainer } from '@/components/ui/ai-chat/AIChatContainer'\r\nimport { Footer } from \"@/components/ui/footer\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nimport { UnifiedChatContainer } from \"@/components/ui/unified-chat/UnifiedChatContainer\";\r\nimport { useSupabaseBrowser } from \"@/lib/supabase/client\";\r\nimport { formatDate } from \"@/lib/utils\";\r\n// import { ChatList } from '@/components/ui/chat/chat-list'\r\n\r\nexport default function SharedChatPage() {\r\n  const params = useParams();\r\n  const chatId = params.id as string;\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [initialMessages, setInitialMessages] = useState<any[]>([]);\r\n  const [selectedModel, setSelectedModel] = useState(\"gpt-4o\");\r\n  const [error, setError] = useState<string | null>(null);\r\n  const supabase = useSupabaseBrowser();\r\n\r\n  useEffect(() => {\r\n    async function loadChat() {\r\n      if (!chatId) return;\r\n\r\n      try {\r\n        setIsLoading(true);\r\n\r\n        // Get the chat\r\n        const { data: chatData, error: chatError } = await supabase\r\n          .from(\"chat_sessions\")\r\n          .select(\"*\")\r\n          .eq(\"id\", chatId)\r\n          .eq(\"visibility\", \"public\")\r\n          .single();\r\n\r\n        if (chatError) {\r\n          throw new Error(\"Shared chat not found\");\r\n        }\r\n\r\n        // Set the selected model\r\n        if (chatData.model) {\r\n          setSelectedModel(chatData.model);\r\n        }\r\n\r\n        // Get the messages\r\n        const { data: messages, error: messagesError } = await supabase\r\n          .from(\"chat_messages\")\r\n          .select(\"*\")\r\n          .eq(\"chat_id\", chatId)\r\n          .order(\"created_at\", { ascending: true });\r\n\r\n        if (messagesError) {\r\n          throw new Error(\"Failed to load messages\");\r\n        }\r\n\r\n        // Format messages for the AI chat component\r\n        const formattedMessages = messages.map((message) => ({\r\n          id: message.id,\r\n          role: message.role,\r\n          content: message.content,\r\n          createdAt: message.created_at,\r\n        }));\r\n\r\n        setInitialMessages(formattedMessages);\r\n      } catch (error: any) {\r\n        console.error(\"Error loading shared chat:\", error);\r\n        setError(error.message);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    }\r\n\r\n    loadChat();\r\n  }, [chatId, supabase]);\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"flex h-screen items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-2xl font-bold\">Error</h2>\r\n          <p className=\"text-muted-foreground\">{error}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex h-screen flex-col\">\r\n        <div className=\"flex h-14 items-center justify-between border-b px-4\">\r\n          <Skeleton className=\"h-6 w-48\" />\r\n          <Skeleton className=\"h-8 w-32\" />\r\n        </div>\r\n        <div className=\"flex-1 p-4 space-y-6\">\r\n          <Skeleton className=\"h-16 w-2/3\" />\r\n          <Skeleton className=\"h-16 w-2/3 ml-auto\" />\r\n          <Skeleton className=\"h-16 w-2/3\" />\r\n        </div>\r\n        <div className=\"border-t p-4\">\r\n          <Skeleton className=\"h-10 w-full\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex h-screen flex-col\">\r\n      {/* <AIChatContainer\r\n                id={chatId}\r\n                initialMessages={initialMessages}\r\n                selectedModel={selectedModel}\r\n                isReadonly={true}\r\n            /> */}\r\n      <UnifiedChatContainer\r\n        id={chatId}\r\n        isReadonly={true} // Explicitly set isReadonly for shared chats\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","'use client'\n\nimport ReactDOM from 'react-dom'\nimport React, { useEffect, useContext, useRef, type JSX } from 'react'\nimport type { ScriptHTMLAttributes } from 'react'\nimport { HeadManagerContext } from '../shared/lib/head-manager-context.shared-runtime'\nimport { setAttributesFromProps } from './set-attributes-from-props'\nimport { requestIdleCallback } from './request-idle-callback'\n\nconst ScriptCache = new Map()\nconst LoadCache = new Set()\n\nexport interface ScriptProps extends ScriptHTMLAttributes<HTMLScriptElement> {\n  strategy?: 'afterInteractive' | 'lazyOnload' | 'beforeInteractive' | 'worker'\n  id?: string\n  onLoad?: (e: any) => void\n  onReady?: () => void | null\n  onError?: (e: any) => void\n  children?: React.ReactNode\n  stylesheets?: string[]\n}\n\n/**\n * @deprecated Use `ScriptProps` instead.\n */\nexport type Props = ScriptProps\n\nconst insertStylesheets = (stylesheets: string[]) => {\n  // Case 1: Styles for afterInteractive/lazyOnload with appDir injected via handleClientScriptLoad\n  //\n  // Using ReactDOM.preinit to feature detect appDir and inject styles\n  // Stylesheets might have already been loaded if initialized with Script component\n  // Re-inject styles here to handle scripts loaded via handleClientScriptLoad\n  // ReactDOM.preinit handles dedup and ensures the styles are loaded only once\n  if (ReactDOM.preinit) {\n    stylesheets.forEach((stylesheet: string) => {\n      ReactDOM.preinit(stylesheet, { as: 'style' })\n    })\n\n    return\n  }\n\n  // Case 2: Styles for afterInteractive/lazyOnload with pages injected via handleClientScriptLoad\n  //\n  // We use this function to load styles when appdir is not detected\n  // TODO: Use React float APIs to load styles once available for pages dir\n  if (typeof window !== 'undefined') {\n    let head = document.head\n    stylesheets.forEach((stylesheet: string) => {\n      let link = document.createElement('link')\n\n      link.type = 'text/css'\n      link.rel = 'stylesheet'\n      link.href = stylesheet\n\n      head.appendChild(link)\n    })\n  }\n}\n\nconst loadScript = (props: ScriptProps): void => {\n  const {\n    src,\n    id,\n    onLoad = () => {},\n    onReady = null,\n    dangerouslySetInnerHTML,\n    children = '',\n    strategy = 'afterInteractive',\n    onError,\n    stylesheets,\n  } = props\n\n  const cacheKey = id || src\n\n  // Script has already loaded\n  if (cacheKey && LoadCache.has(cacheKey)) {\n    return\n  }\n\n  // Contents of this script are already loading/loaded\n  if (ScriptCache.has(src)) {\n    LoadCache.add(cacheKey)\n    // It is possible that multiple `next/script` components all have same \"src\", but has different \"onLoad\"\n    // This is to make sure the same remote script will only load once, but \"onLoad\" are executed in order\n    ScriptCache.get(src).then(onLoad, onError)\n    return\n  }\n\n  /** Execute after the script first loaded */\n  const afterLoad = () => {\n    // Run onReady for the first time after load event\n    if (onReady) {\n      onReady()\n    }\n    // add cacheKey to LoadCache when load successfully\n    LoadCache.add(cacheKey)\n  }\n\n  const el = document.createElement('script')\n\n  const loadPromise = new Promise<void>((resolve, reject) => {\n    el.addEventListener('load', function (e) {\n      resolve()\n      if (onLoad) {\n        onLoad.call(this, e)\n      }\n      afterLoad()\n    })\n    el.addEventListener('error', function (e) {\n      reject(e)\n    })\n  }).catch(function (e) {\n    if (onError) {\n      onError(e)\n    }\n  })\n\n  if (dangerouslySetInnerHTML) {\n    // Casting since lib.dom.d.ts doesn't have TrustedHTML yet.\n    el.innerHTML = (dangerouslySetInnerHTML.__html as string) || ''\n\n    afterLoad()\n  } else if (children) {\n    el.textContent =\n      typeof children === 'string'\n        ? children\n        : Array.isArray(children)\n          ? children.join('')\n          : ''\n\n    afterLoad()\n  } else if (src) {\n    el.src = src\n    // do not add cacheKey into LoadCache for remote script here\n    // cacheKey will be added to LoadCache when it is actually loaded (see loadPromise above)\n\n    ScriptCache.set(src, loadPromise)\n  }\n\n  setAttributesFromProps(el, props)\n\n  if (strategy === 'worker') {\n    el.setAttribute('type', 'text/partytown')\n  }\n\n  el.setAttribute('data-nscript', strategy)\n\n  // Load styles associated with this script\n  if (stylesheets) {\n    insertStylesheets(stylesheets)\n  }\n\n  document.body.appendChild(el)\n}\n\nexport function handleClientScriptLoad(props: ScriptProps) {\n  const { strategy = 'afterInteractive' } = props\n  if (strategy === 'lazyOnload') {\n    window.addEventListener('load', () => {\n      requestIdleCallback(() => loadScript(props))\n    })\n  } else {\n    loadScript(props)\n  }\n}\n\nfunction loadLazyScript(props: ScriptProps) {\n  if (document.readyState === 'complete') {\n    requestIdleCallback(() => loadScript(props))\n  } else {\n    window.addEventListener('load', () => {\n      requestIdleCallback(() => loadScript(props))\n    })\n  }\n}\n\nfunction addBeforeInteractiveToCache() {\n  const scripts = [\n    ...document.querySelectorAll('[data-nscript=\"beforeInteractive\"]'),\n    ...document.querySelectorAll('[data-nscript=\"beforePageRender\"]'),\n  ]\n  scripts.forEach((script) => {\n    const cacheKey = script.id || script.getAttribute('src')\n    LoadCache.add(cacheKey)\n  })\n}\n\nexport function initScriptLoader(scriptLoaderItems: ScriptProps[]) {\n  scriptLoaderItems.forEach(handleClientScriptLoad)\n  addBeforeInteractiveToCache()\n}\n\n/**\n * Load a third-party scripts in an optimized way.\n *\n * Read more: [Next.js Docs: `next/script`](https://nextjs.org/docs/app/api-reference/components/script)\n */\nfunction Script(props: ScriptProps): JSX.Element | null {\n  const {\n    id,\n    src = '',\n    onLoad = () => {},\n    onReady = null,\n    strategy = 'afterInteractive',\n    onError,\n    stylesheets,\n    ...restProps\n  } = props\n\n  // Context is available only during SSR\n  const { updateScripts, scripts, getIsSsr, appDir, nonce } =\n    useContext(HeadManagerContext)\n\n  /**\n   * - First mount:\n   *   1. The useEffect for onReady executes\n   *   2. hasOnReadyEffectCalled.current is false, but the script hasn't loaded yet (not in LoadCache)\n   *      onReady is skipped, set hasOnReadyEffectCalled.current to true\n   *   3. The useEffect for loadScript executes\n   *   4. hasLoadScriptEffectCalled.current is false, loadScript executes\n   *      Once the script is loaded, the onLoad and onReady will be called by then\n   *   [If strict mode is enabled / is wrapped in <OffScreen /> component]\n   *   5. The useEffect for onReady executes again\n   *   6. hasOnReadyEffectCalled.current is true, so entire effect is skipped\n   *   7. The useEffect for loadScript executes again\n   *   8. hasLoadScriptEffectCalled.current is true, so entire effect is skipped\n   *\n   * - Second mount:\n   *   1. The useEffect for onReady executes\n   *   2. hasOnReadyEffectCalled.current is false, but the script has already loaded (found in LoadCache)\n   *      onReady is called, set hasOnReadyEffectCalled.current to true\n   *   3. The useEffect for loadScript executes\n   *   4. The script is already loaded, loadScript bails out\n   *   [If strict mode is enabled / is wrapped in <OffScreen /> component]\n   *   5. The useEffect for onReady executes again\n   *   6. hasOnReadyEffectCalled.current is true, so entire effect is skipped\n   *   7. The useEffect for loadScript executes again\n   *   8. hasLoadScriptEffectCalled.current is true, so entire effect is skipped\n   */\n  const hasOnReadyEffectCalled = useRef(false)\n\n  useEffect(() => {\n    const cacheKey = id || src\n    if (!hasOnReadyEffectCalled.current) {\n      // Run onReady if script has loaded before but component is re-mounted\n      if (onReady && cacheKey && LoadCache.has(cacheKey)) {\n        onReady()\n      }\n\n      hasOnReadyEffectCalled.current = true\n    }\n  }, [onReady, id, src])\n\n  const hasLoadScriptEffectCalled = useRef(false)\n\n  useEffect(() => {\n    if (!hasLoadScriptEffectCalled.current) {\n      if (strategy === 'afterInteractive') {\n        loadScript(props)\n      } else if (strategy === 'lazyOnload') {\n        loadLazyScript(props)\n      }\n\n      hasLoadScriptEffectCalled.current = true\n    }\n  }, [props, strategy])\n\n  if (strategy === 'beforeInteractive' || strategy === 'worker') {\n    if (updateScripts) {\n      scripts[strategy] = (scripts[strategy] || []).concat([\n        {\n          id,\n          src,\n          onLoad,\n          onReady,\n          onError,\n          ...restProps,\n        },\n      ])\n      updateScripts(scripts)\n    } else if (getIsSsr && getIsSsr()) {\n      // Script has already loaded during SSR\n      LoadCache.add(id || src)\n    } else if (getIsSsr && !getIsSsr()) {\n      loadScript(props)\n    }\n  }\n\n  // For the app directory, we need React Float to preload these scripts.\n  if (appDir) {\n    // Injecting stylesheets here handles beforeInteractive and worker scripts correctly\n    // For other strategies injecting here ensures correct stylesheet order\n    // ReactDOM.preinit handles loading the styles in the correct order,\n    // also ensures the stylesheet is loaded only once and in a consistent manner\n    //\n    // Case 1: Styles for beforeInteractive/worker with appDir - handled here\n    // Case 2: Styles for beforeInteractive/worker with pages dir - Not handled yet\n    // Case 3: Styles for afterInteractive/lazyOnload with appDir - handled here\n    // Case 4: Styles for afterInteractive/lazyOnload with pages dir - handled in insertStylesheets function\n    if (stylesheets) {\n      stylesheets.forEach((styleSrc) => {\n        ReactDOM.preinit(styleSrc, { as: 'style' })\n      })\n    }\n\n    // Before interactive scripts need to be loaded by Next.js' runtime instead\n    // of native <script> tags, because they no longer have `defer`.\n    if (strategy === 'beforeInteractive') {\n      if (!src) {\n        // For inlined scripts, we put the content in `children`.\n        if (restProps.dangerouslySetInnerHTML) {\n          // Casting since lib.dom.d.ts doesn't have TrustedHTML yet.\n          restProps.children = restProps.dangerouslySetInnerHTML\n            .__html as string\n          delete restProps.dangerouslySetInnerHTML\n        }\n\n        return (\n          <script\n            nonce={nonce}\n            dangerouslySetInnerHTML={{\n              __html: `(self.__next_s=self.__next_s||[]).push(${JSON.stringify([\n                0,\n                { ...restProps, id },\n              ])})`,\n            }}\n          />\n        )\n      } else {\n        // @ts-ignore\n        ReactDOM.preload(\n          src,\n          restProps.integrity\n            ? {\n                as: 'script',\n                integrity: restProps.integrity,\n                nonce,\n                crossOrigin: restProps.crossOrigin,\n              }\n            : { as: 'script', nonce, crossOrigin: restProps.crossOrigin }\n        )\n        return (\n          <script\n            nonce={nonce}\n            dangerouslySetInnerHTML={{\n              __html: `(self.__next_s=self.__next_s||[]).push(${JSON.stringify([\n                src,\n                { ...restProps, id },\n              ])})`,\n            }}\n          />\n        )\n      }\n    } else if (strategy === 'afterInteractive') {\n      if (src) {\n        // @ts-ignore\n        ReactDOM.preload(\n          src,\n          restProps.integrity\n            ? {\n                as: 'script',\n                integrity: restProps.integrity,\n                nonce,\n                crossOrigin: restProps.crossOrigin,\n              }\n            : { as: 'script', nonce, crossOrigin: restProps.crossOrigin }\n        )\n      }\n    }\n  }\n\n  return null\n}\n\nObject.defineProperty(Script, '__nextScript', { value: true })\n\nexport default Script\n"],"names":["cancelIdleCallback","requestIdleCallback","self","bind","window","cb","start","Date","now","setTimeout","didTimeout","timeRemaining","Math","max","id","clearTimeout","ScrollArea","children","className","props","div","auth","result","getAuthUser","session","serverComponentModule.default","alertVariants","cva","variants","variant","default","destructive","defaultVariants","Alert","data-slot","role","cn","AlertTitle","AlertDescription","badgeVariants","secondary","outline","Badge","asChild","Comp","Slot","metadata","title","description","SharedChatLayout","useI18n","locale","useLocale","t","useTranslations","format","useFormatter","timeZone","useTimeZone","useNow","config","getLocaleConfig","direction","isRtl","formatDate","date","options","dateTime","formatRelativeTime","relativeTime","formatCurrency","value","currency","number","style","formatNumber","useTranslate","namespace","useGlobalTranslate","experimental_ppr","UnifiedChatLayout","cookieStore","Promise","all","cookies","isCollapsed","get","_jsxs","_Fragment","_jsx","Script","src","strategy","SidebarProvider","defaultOpen","AppSidebar","SidebarInset","setAttributesFromProps","DOMAttributeNames","acceptCharset","htmlFor","httpEquiv","noModule","ignoreProps","isBooleanScriptAttribute","attr","includes","el","p","Object","entries","hasOwnProperty","undefined","toLowerCase","tagName","setAttribute","String","removeAttribute","UnifiedLayout","Progress","React","ref","ProgressPrimitive","transform","displayName","SharedChatPage","chatId","useParams","isLoading","setIsLoading","useState","initialMessages","setInitialMessages","selectedModel","setSelectedModel","error","setError","useSupabaseBrowser","h2","Skeleton","UnifiedChatContainer","isReadonly","handleClientScriptLoad","initScriptLoader","ScriptCache","Map","LoadCache","Set","insertStylesheets","ReactDOM","preinit","stylesheets","forEach","stylesheet","as","loadScript","onLoad","onReady","dangerouslySetInnerHTML","onError","cacheKey","has","add","then","afterLoad","document","createElement","loadPromise","resolve","reject","addEventListener","e","call","catch","innerHTML","__html","textContent","Array","isArray","join","set","body","appendChild","scriptLoaderItems","querySelectorAll","script","getAttribute","restProps","updateScripts","scripts","getIsSsr","appDir","nonce","useContext","HeadManagerContext","hasOnReadyEffectCalled","useRef","useEffect","current","hasLoadScriptEffectCalled","readyState","concat","styleSrc","JSON","stringify","preload","integrity","crossOrigin","defineProperty"],"sourceRoot":""}