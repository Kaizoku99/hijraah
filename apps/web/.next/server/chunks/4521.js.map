{"version":3,"file":"4521.js","mappings":"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","sources":["webpack://@hijraah/web/./src/components/ui/card.tsx","webpack://@hijraah/web/./src/components/ui/onboarding/ProfileSetup.tsx","webpack://@hijraah/web/./src/components/ui/label.tsx","webpack://@hijraah/web/./src/components/ui/textarea.tsx","webpack://@hijraah/web/./src/components/ui/onboarding/ProfileSetup/ImmigrationStatusForm.tsx","webpack://@hijraah/web/./src/components/ui/onboarding/ProfileSetup/PreferencesForm.tsx","webpack://@hijraah/web/./src/components/ui/onboarding/ProfileSetup/PersonalInformationForm.tsx","webpack://@hijraah/web/../../node_modules/.pnpm/framer-motion@11.18.2_react_f7fa1bd5cae2b2f8cfe05e05f171bdde/node_modules/framer-motion/dist/es/components/AnimatePresence/PopChild.mjs","webpack://@hijraah/web/../../node_modules/.pnpm/framer-motion@11.18.2_react_f7fa1bd5cae2b2f8cfe05e05f171bdde/node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.mjs","webpack://@hijraah/web/../../node_modules/.pnpm/framer-motion@11.18.2_react_f7fa1bd5cae2b2f8cfe05e05f171bdde/node_modules/framer-motion/dist/es/components/AnimatePresence/utils.mjs","webpack://@hijraah/web/../../node_modules/.pnpm/framer-motion@11.18.2_react_f7fa1bd5cae2b2f8cfe05e05f171bdde/node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs","webpack://@hijraah/web/./src/components/ui/form.tsx","webpack://@hijraah/web/./src/components/ui/select.tsx","webpack://@hijraah/web/../../../src/icons/check-circle-2.ts"],"sourcesContent":["/**\r\n * Card component and related sub-components.\r\n * Provides a container for related content with variants for different use cases.\r\n */\r\n\r\nimport { motion, HTMLMotionProps } from \"motion/react\";\r\nimport * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\n// Define a type for CardProps\r\n// Omit 'className' from HTMLMotionProps because we handle it with `cn`\r\n// Omit 'ref' as it's typed by React.forwardRef\r\ninterface CardProps extends Omit<HTMLMotionProps<\"div\">, \"className\" | \"ref\"> {\r\n  className?: string;\r\n}\r\n\r\nconst Card = React.forwardRef<HTMLDivElement, CardProps>(\r\n  ({ className, ...props }, ref) => (\r\n    <motion.div\r\n      ref={ref}\r\n      className={cn(\r\n        \"rounded-lg border bg-card text-card-foreground shadow-sm\",\r\n        className\r\n      )}\r\n      whileHover={{\r\n        scale: 1.03,\r\n        boxShadow:\r\n          \"0px 7px 25px rgba(0,0,0,0.08), 0px 3px 10px rgba(0,0,0,0.04)\",\r\n      }}\r\n      transition={{ type: \"spring\", stiffness: 300, damping: 20 }}\r\n      {...props}\r\n    />\r\n  )\r\n);\r\nCard.displayName = \"Card\";\r\n\r\nconst CardHeader = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\r\n    {...props}\r\n  />\r\n));\r\nCardHeader.displayName = \"CardHeader\";\r\n\r\nconst CardTitle = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n  <h3\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-2xl font-semibold leading-none tracking-tight\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nCardTitle.displayName = \"CardTitle\";\r\n\r\nconst CardDescription = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n  <p\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n));\r\nCardDescription.displayName = \"CardDescription\";\r\n\r\nconst CardContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\r\n));\r\nCardContent.displayName = \"CardContent\";\r\n\r\nconst CardFooter = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex items-center p-6 pt-0\", className)}\r\n    {...props}\r\n  />\r\n));\r\nCardFooter.displayName = \"CardFooter\";\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardDescription,\r\n  CardContent,\r\n};\r\n","import { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { createBrowserClient } from \"@supabase/ssr\"; // Keep for user fetching\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { CheckCircle2, Loader2 } from \"lucide-react\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { toast } from \"sonner\";\r\nimport * as z from \"zod\";\r\n\r\nimport {\r\n  ONBOARDING_STEPS_CONFIG,\r\n  getStepById,\r\n  OnboardingStepId,\r\n} from \"@/_shared/constants/onboarding-steps\";\r\nimport { Button } from \"@/ui/button\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardFooter,\r\n  CardHeader,\r\n  CardTitle,\r\n} from \"@/ui/card\";\r\nimport { Form } from \"@/ui/form\";\r\n\r\nimport { useOnboarding } from \"./OnboardingProvider\";\r\nimport { ImmigrationStatusForm } from \"./ProfileSetup/ImmigrationStatusForm\";\r\nimport { PersonalInformationForm } from \"./ProfileSetup/PersonalInformationForm\";\r\nimport { PreferencesForm } from \"./ProfileSetup/PreferencesForm\";\r\n\r\n// Define the full Zod schema for validation\r\nconst profileSchema = z.object({\r\n  fullName: z\r\n    .string()\r\n    .min(2, { message: \"Full name must be at least 2 characters.\" }),\r\n  country: z\r\n    .string()\r\n    .min(1, { message: \"Please select your country of origin.\" }),\r\n  destinationCountry: z\r\n    .string()\r\n    .min(1, { message: \"Please select your destination country.\" }),\r\n  visaType: z.string().optional(),\r\n  goals: z\r\n    .string()\r\n    .max(500, { message: \"Goals description must be 500 characters or less.\" })\r\n    .optional(),\r\n  preferredLanguage: z.string().default(\"en\"),\r\n});\r\n\r\ntype ProfileFormValues = z.infer<typeof profileSchema>;\r\n\r\nexport const ProfileSetup: React.FC = () => {\r\n  const { onboarding, completeStep, user } = useOnboarding();\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [isCompletedUI, setIsCompletedUI] = useState(false); // Separate UI state for completion animation\r\n\r\n  // --- Get Current Step Configuration --- //\r\n  const stepConfig = getStepById(\"profile-setup\");\r\n  const profileConfig = stepConfig?.profileSetupConfig;\r\n\r\n  // Initialize Supabase client for user fetching within the component\r\n  // Alternatively, pass the user object via context if already available\r\n  const supabase = createBrowserClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL || \"\",\r\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || \"\"\r\n  );\r\n\r\n  const form = useForm<ProfileFormValues>({\r\n    resolver: zodResolver(profileSchema),\r\n    defaultValues: {\r\n      fullName: \"\",\r\n      country: \"\",\r\n      destinationCountry: \"\",\r\n      visaType: \"\",\r\n      goals: \"\",\r\n      preferredLanguage:\r\n        profileConfig?.languages.find((lang) => lang.value === \"en\")?.value ||\r\n        \"en\", // Default to 'en'\r\n    },\r\n  });\r\n\r\n  // Determine if this step is active\r\n  const isActive =\r\n    onboarding.isActive &&\r\n    onboarding.currentStep === \"profile-setup\" &&\r\n    !onboarding.hideForSession &&\r\n    !onboarding.isCompleted;\r\n\r\n  if (!isActive || !stepConfig || !profileConfig) return null; // Don't render if not active or config missing\r\n\r\n  const onSubmit = async (data: ProfileFormValues) => {\r\n    console.log(\r\n      \"[ProfileSetup] onSubmit: Triggered. Current context user state:\",\r\n      user\r\n    );\r\n\r\n    if (!user) {\r\n      toast.error(\"User not authenticated. Please log in again.\");\r\n      console.log(\r\n        \"[ProfileSetup] onSubmit: Failing because user from context is null/undefined.\"\r\n      );\r\n      return;\r\n    }\r\n    if (!profileConfig.actionKey) {\r\n      toast.error(\"Configuration error: Missing action key for profile setup.\");\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    try {\r\n      // Update user profile in Supabase\r\n      const { error } = await supabase\r\n        .from(\"profiles\") // Corrected table name\r\n        .upsert(\r\n          {\r\n            id: user.id,\r\n            first_name: data.fullName.split(\" \")[0],\r\n            last_name: data.fullName.split(\" \").slice(1).join(\" \"),\r\n            country_of_residence: data.country,\r\n            country_of_interest: data.destinationCountry,\r\n            visa_type: data.visaType,\r\n            immigration_goals: data.goals,\r\n            language: data.preferredLanguage,\r\n            updated_at: new Date().toISOString(),\r\n          },\r\n          { onConflict: \"id\" } // Use 'id' for conflict resolution\r\n        );\r\n\r\n      if (error) {\r\n        console.error(\"Error saving profile:\", error);\r\n        toast.error(`Failed to save profile: ${error.message}`);\r\n        setIsSubmitting(false);\r\n        return;\r\n      }\r\n\r\n      // Mark action as completed via API (Fire and Forget)\r\n      fetch(\"/api/onboarding/actions\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          actionKey: profileConfig.actionKey,\r\n          isCompleted: true,\r\n        }),\r\n      }).catch((err) => {\r\n        console.error(\"Failed to report profile setup completion:\", err);\r\n        // Don't block UI for this, but log it.\r\n      });\r\n\r\n      setIsCompletedUI(true); // Trigger UI completion state\r\n      toast.success(\"Profile information saved!\");\r\n\r\n      // Move to next step after a delay\r\n      setTimeout(() => {\r\n        completeStep(stepConfig.id as OnboardingStepId);\r\n      }, 1500);\r\n    } catch (error: any) {\r\n      console.error(\"Error in profile setup submission:\", error);\r\n      toast.error(\r\n        `An unexpected error occurred: ${error.message || \"Unknown error\"}`\r\n      );\r\n    } finally {\r\n      // Ensure isSubmitting is reset even if completion timeout hasn't finished\r\n      // Wait slightly longer than the success animation might take\r\n      setTimeout(() => setIsSubmitting(false), 1600);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {isActive && (\r\n        <div className=\"fixed inset-0 flex items-center justify-center bg-background/80 backdrop-blur-sm z-50 p-4\">\r\n          <motion.div\r\n            key=\"profile-setup-modal\"\r\n            initial={{ opacity: 0, scale: 0.95 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            exit={{ opacity: 0, scale: 0.9 }}\r\n            className=\"bg-card border rounded-xl shadow-lg max-w-2xl w-full max-h-[90vh] flex flex-col\"\r\n          >\r\n            <CardHeader>\r\n              <CardTitle className=\"text-2xl\">{stepConfig.title}</CardTitle>\r\n              <CardDescription className=\"text-base\">\r\n                {stepConfig.description}\r\n              </CardDescription>\r\n            </CardHeader>\r\n\r\n            <CardContent className=\"flex-grow overflow-y-auto pr-2\">\r\n              <Form {...form}>\r\n                <form\r\n                  onSubmit={form.handleSubmit(onSubmit)}\r\n                  className=\"space-y-6\"\r\n                >\r\n                  {/* Render Sub-forms */}\r\n                  <PersonalInformationForm\r\n                    form={form}\r\n                    countries={profileConfig.countries}\r\n                  />\r\n                  <ImmigrationStatusForm\r\n                    form={form}\r\n                    destinations={profileConfig.destinations}\r\n                  />\r\n                  <PreferencesForm\r\n                    form={form}\r\n                    languages={profileConfig.languages}\r\n                  />\r\n\r\n                  {/* Submit button moved to CardFooter */}\r\n                </form>\r\n              </Form>\r\n            </CardContent>\r\n\r\n            <CardFooter className=\"flex justify-end border-t pt-6\">\r\n              <AnimatePresence mode=\"wait\">\r\n                {isCompletedUI ? (\r\n                  <motion.div\r\n                    key=\"completed-indicator\"\r\n                    initial={{ opacity: 0, y: 10 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    exit={{ opacity: 0 }}\r\n                    className=\"flex items-center gap-2 text-primary font-medium\"\r\n                  >\r\n                    <CheckCircle2 size={18} /> Saved!\r\n                  </motion.div>\r\n                ) : (\r\n                  <Button\r\n                    key=\"submit-button\"\r\n                    type=\"submit\"\r\n                    disabled={isSubmitting}\r\n                    onClick={form.handleSubmit(onSubmit)} // Trigger submit via button click\r\n                    form=\"profile-setup-form\" // Associate button with form if needed, though onClick handles it\r\n                  >\r\n                    {isSubmitting ? (\r\n                      <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                    ) : null}\r\n                    Save and Continue\r\n                  </Button>\r\n                )}\r\n              </AnimatePresence>\r\n            </CardFooter>\r\n          </motion.div>\r\n        </div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n};\r\n","\"use client\"\r\n\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\r\nimport * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Label({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\r\n  return (\r\n    <LabelPrimitive.Root\r\n      data-slot=\"label\"\r\n      className={cn(\r\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Label }\r\n","/**\r\n * @deprecated This file is maintained for backward compatibility.\r\n * Please import from '@/ui/atoms/textarea' instead.\r\n */\r\n\r\n\"use client\"\r\n\r\nimport * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface TextareaProps\r\n    extends React.TextareaHTMLAttributes<HTMLTextAreaElement> { }\r\n\r\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\r\n    ({ className, ...props }, ref) => {\r\n        return (\r\n            <textarea\r\n                className={cn(\r\n                    \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n                    className\r\n                )}\r\n                ref={ref}\r\n                {...props}\r\n            />\r\n        )\r\n    }\r\n)\r\nTextarea.displayName = \"Textarea\"\r\n\r\nexport { Textarea }\r\n","import React from 'react';\r\nimport { UseFormReturn } from 'react-hook-form';\r\nimport * as z from 'zod';\r\n\r\nimport { FormOption, ProfileSetupConfig } from '@/_shared/constants/onboarding-steps';\r\nimport { FormControl, FormField, FormItem, FormLabel, FormMessage } from '@/ui/form';\r\nimport { Input } from '@/ui/input';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/ui/select';\r\n\r\n// Define the part of the schema relevant to this form section\r\nexport const immigrationStatusSchema = z.object({\r\n    destinationCountry: z.string().min(1, { message: 'Destination country is required' }),\r\n    visaType: z.string().optional(),\r\n});\r\n\r\n// Define the full form values schema again for type consistency\r\nconst fullProfileSchema = z.object({\r\n    fullName: z.string().min(2, { message: 'Full name is required' }),\r\n    country: z.string().min(1, { message: 'Country of origin is required' }),\r\n    destinationCountry: z.string().min(1, { message: 'Destination country is required' }),\r\n    visaType: z.string().optional(),\r\n    goals: z.string().optional(),\r\n    preferredLanguage: z.string().default('en'),\r\n});\r\ntype ProfileFormValues = z.infer<typeof fullProfileSchema>;\r\n\r\ninterface ImmigrationStatusFormProps {\r\n    form: UseFormReturn<ProfileFormValues>;\r\n    destinations: FormOption[];\r\n}\r\n\r\nexport const ImmigrationStatusForm: React.FC<ImmigrationStatusFormProps> = ({ form, destinations }) => {\r\n    return (\r\n        <div className=\"space-y-4\">\r\n            <h3 className=\"text-sm font-medium text-foreground\">\r\n                Immigration Status\r\n            </h3>\r\n            <div className=\"grid gap-4 md:grid-cols-2\">\r\n                <FormField\r\n                    control={form.control}\r\n                    name=\"destinationCountry\"\r\n                    render={({ field }) => (\r\n                        <FormItem>\r\n                            <FormLabel>Destination Country</FormLabel>\r\n                            <Select\r\n                                onValueChange={field.onChange}\r\n                                defaultValue={field.value}\r\n                            >\r\n                                <FormControl>\r\n                                    <SelectTrigger>\r\n                                        <SelectValue placeholder=\"Select destination\" />\r\n                                    </SelectTrigger>\r\n                                </FormControl>\r\n                                <SelectContent>\r\n                                    {destinations.map(option => (\r\n                                        <SelectItem key={option.value} value={option.value}>\r\n                                            {option.label}\r\n                                        </SelectItem>\r\n                                    ))}\r\n                                </SelectContent>\r\n                            </Select>\r\n                            <FormMessage />\r\n                        </FormItem>\r\n                    )}\r\n                />\r\n                <FormField\r\n                    control={form.control}\r\n                    name=\"visaType\"\r\n                    render={({ field }) => (\r\n                        <FormItem>\r\n                            <FormLabel>Current/Target Visa Type (Optional)</FormLabel>\r\n                            <FormControl>\r\n                                <Input placeholder=\"e.g., Student, Work Permit, Tourist\" {...field} />\r\n                            </FormControl>\r\n                            <FormMessage />\r\n                        </FormItem>\r\n                    )}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}; ","import React from 'react';\r\nimport { UseFormReturn } from 'react-hook-form';\r\nimport * as z from 'zod';\r\n\r\nimport { FormOption, ProfileSetupConfig } from '@/_shared/constants/onboarding-steps';\r\nimport { FormControl, FormField, FormItem, FormLabel, FormMessage } from '@/ui/form';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/ui/select';\r\nimport { Textarea } from '@/ui/textarea';\r\n\r\n// Define the part of the schema relevant to this form section\r\nexport const preferencesSchema = z.object({\r\n    goals: z.string().optional(),\r\n    preferredLanguage: z.string().default('en'),\r\n});\r\n\r\n// Define the full form values schema again for type consistency\r\nconst fullProfileSchema = z.object({\r\n    fullName: z.string().min(2, { message: 'Full name is required' }),\r\n    country: z.string().min(1, { message: 'Country of origin is required' }),\r\n    destinationCountry: z.string().min(1, { message: 'Destination country is required' }),\r\n    visaType: z.string().optional(),\r\n    goals: z.string().optional(),\r\n    preferredLanguage: z.string().default('en'),\r\n});\r\ntype ProfileFormValues = z.infer<typeof fullProfileSchema>;\r\n\r\ninterface PreferencesFormProps {\r\n    form: UseFormReturn<ProfileFormValues>;\r\n    languages: FormOption[];\r\n}\r\n\r\nexport const PreferencesForm: React.FC<PreferencesFormProps> = ({ form, languages }) => {\r\n    return (\r\n        <div className=\"space-y-4\">\r\n            <h3 className=\"text-sm font-medium text-foreground\">\r\n                Goals & Preferences\r\n            </h3>\r\n            <div className=\"grid gap-4 md:grid-cols-2\">\r\n                <FormField\r\n                    control={form.control}\r\n                    name=\"preferredLanguage\"\r\n                    render={({ field }) => (\r\n                        <FormItem>\r\n                            <FormLabel>Preferred Language</FormLabel>\r\n                            <Select\r\n                                onValueChange={field.onChange}\r\n                                defaultValue={field.value}\r\n                            >\r\n                                <FormControl>\r\n                                    <SelectTrigger>\r\n                                        <SelectValue placeholder=\"Select language\" />\r\n                                    </SelectTrigger>\r\n                                </FormControl>\r\n                                <SelectContent>\r\n                                    {languages.map(option => (\r\n                                        <SelectItem key={option.value} value={option.value}>\r\n                                            {option.label}\r\n                                        </SelectItem>\r\n                                    ))}\r\n                                </SelectContent>\r\n                            </Select>\r\n                            <FormMessage />\r\n                        </FormItem>\r\n                    )}\r\n                />\r\n                {/* Goals field spans full width potentially */}\r\n                <div className=\"md:col-span-2\">\r\n                    <FormField\r\n                        control={form.control}\r\n                        name=\"goals\"\r\n                        render={({ field }) => (\r\n                            <FormItem>\r\n                                <FormLabel>Immigration Goals (Optional)</FormLabel>\r\n                                <FormControl>\r\n                                    <Textarea\r\n                                        placeholder=\"Briefly describe your main immigration goals (e.g., permanent residency, studying abroad, joining family)...\"\r\n                                        className=\"resize-none\"\r\n                                        rows={3}\r\n                                        {...field}\r\n                                    />\r\n                                </FormControl>\r\n                                <FormMessage />\r\n                            </FormItem>\r\n                        )}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}; ","import React from 'react';\r\nimport { UseFormReturn } from 'react-hook-form';\r\nimport * as z from 'zod';\r\n\r\nimport { FormOption, ProfileSetupConfig } from '@/_shared/constants/onboarding-steps';\r\nimport { FormControl, FormField, FormItem, FormLabel, FormMessage } from '@/ui/form';\r\nimport { Input } from '@/ui/input';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/ui/select';\r\n\r\n// Define the part of the schema relevant to this form section\r\nexport const personalInfoSchema = z.object({\r\n    fullName: z.string().min(2, { message: 'Full name is required' }),\r\n    country: z.string().min(1, { message: 'Country of origin is required' }),\r\n});\r\n\r\n// Define the full form values schema again for type consistency in the hook form return type\r\n// Consider moving this schema definition to a shared location if reused elsewhere\r\nconst fullProfileSchema = z.object({\r\n    fullName: z.string().min(2, { message: 'Full name is required' }),\r\n    country: z.string().min(1, { message: 'Country of origin is required' }),\r\n    destinationCountry: z.string().min(1, { message: 'Destination country is required' }),\r\n    visaType: z.string().optional(),\r\n    goals: z.string().optional(),\r\n    preferredLanguage: z.string().default('en'),\r\n});\r\ntype ProfileFormValues = z.infer<typeof fullProfileSchema>;\r\n\r\ninterface PersonalInformationFormProps {\r\n    form: UseFormReturn<ProfileFormValues>;\r\n    countries: FormOption[];\r\n}\r\n\r\nexport const PersonalInformationForm: React.FC<PersonalInformationFormProps> = ({ form, countries }) => {\r\n    return (\r\n        <div className=\"space-y-4\">\r\n            <h3 className=\"text-sm font-medium text-foreground\">\r\n                Personal Information\r\n            </h3>\r\n            <div className=\"grid gap-4 md:grid-cols-2\">\r\n                <FormField\r\n                    control={form.control}\r\n                    name=\"fullName\"\r\n                    render={({ field }) => (\r\n                        <FormItem>\r\n                            <FormLabel>Full Name</FormLabel>\r\n                            <FormControl>\r\n                                <Input placeholder=\"Enter your full name\" {...field} />\r\n                            </FormControl>\r\n                            <FormMessage />\r\n                        </FormItem>\r\n                    )}\r\n                />\r\n\r\n                <FormField\r\n                    control={form.control}\r\n                    name=\"country\"\r\n                    render={({ field }) => (\r\n                        <FormItem>\r\n                            <FormLabel>Country of Origin</FormLabel>\r\n                            <Select\r\n                                onValueChange={field.onChange}\r\n                                defaultValue={field.value}\r\n                            >\r\n                                <FormControl>\r\n                                    <SelectTrigger>\r\n                                        <SelectValue placeholder=\"Select country\" />\r\n                                    </SelectTrigger>\r\n                                </FormControl>\r\n                                <SelectContent>\r\n                                    {countries.map(option => (\r\n                                        <SelectItem key={option.value} value={option.value}>\r\n                                            {option.label}\r\n                                        </SelectItem>\r\n                                    ))}\r\n                                </SelectContent>\r\n                            </Select>\r\n                            <FormMessage />\r\n                        </FormItem>\r\n                    )}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}; ","\"use client\";\nimport { jsx } from 'react/jsx-runtime';\nimport * as React from 'react';\nimport { useId, useRef, useContext, useInsertionEffect } from 'react';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.mjs';\n\n/**\n * Measurement functionality has to be within a separate component\n * to leverage snapshot lifecycle.\n */\nclass PopChildMeasure extends React.Component {\n    getSnapshotBeforeUpdate(prevProps) {\n        const element = this.props.childRef.current;\n        if (element && prevProps.isPresent && !this.props.isPresent) {\n            const size = this.props.sizeRef.current;\n            size.height = element.offsetHeight || 0;\n            size.width = element.offsetWidth || 0;\n            size.top = element.offsetTop;\n            size.left = element.offsetLeft;\n        }\n        return null;\n    }\n    /**\n     * Required with getSnapshotBeforeUpdate to stop React complaining.\n     */\n    componentDidUpdate() { }\n    render() {\n        return this.props.children;\n    }\n}\nfunction PopChild({ children, isPresent }) {\n    const id = useId();\n    const ref = useRef(null);\n    const size = useRef({\n        width: 0,\n        height: 0,\n        top: 0,\n        left: 0,\n    });\n    const { nonce } = useContext(MotionConfigContext);\n    /**\n     * We create and inject a style block so we can apply this explicit\n     * sizing in a non-destructive manner by just deleting the style block.\n     *\n     * We can't apply size via render as the measurement happens\n     * in getSnapshotBeforeUpdate (post-render), likewise if we apply the\n     * styles directly on the DOM node, we might be overwriting\n     * styles set via the style prop.\n     */\n    useInsertionEffect(() => {\n        const { width, height, top, left } = size.current;\n        if (isPresent || !ref.current || !width || !height)\n            return;\n        ref.current.dataset.motionPopId = id;\n        const style = document.createElement(\"style\");\n        if (nonce)\n            style.nonce = nonce;\n        document.head.appendChild(style);\n        if (style.sheet) {\n            style.sheet.insertRule(`\n          [data-motion-pop-id=\"${id}\"] {\n            position: absolute !important;\n            width: ${width}px !important;\n            height: ${height}px !important;\n            top: ${top}px !important;\n            left: ${left}px !important;\n          }\n        `);\n        }\n        return () => {\n            document.head.removeChild(style);\n        };\n    }, [isPresent]);\n    return (jsx(PopChildMeasure, { isPresent: isPresent, childRef: ref, sizeRef: size, children: React.cloneElement(children, { ref }) }));\n}\n\nexport { PopChild };\n","\"use client\";\nimport { jsx } from 'react/jsx-runtime';\nimport * as React from 'react';\nimport { useId, useCallback, useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { PopChild } from './PopChild.mjs';\n\nconst PresenceChild = ({ children, initial, isPresent, onExitComplete, custom, presenceAffectsLayout, mode, }) => {\n    const presenceChildren = useConstant(newChildrenMap);\n    const id = useId();\n    const memoizedOnExitComplete = useCallback((childId) => {\n        presenceChildren.set(childId, true);\n        for (const isComplete of presenceChildren.values()) {\n            if (!isComplete)\n                return; // can stop searching when any is incomplete\n        }\n        onExitComplete && onExitComplete();\n    }, [presenceChildren, onExitComplete]);\n    const context = useMemo(() => ({\n        id,\n        initial,\n        isPresent,\n        custom,\n        onExitComplete: memoizedOnExitComplete,\n        register: (childId) => {\n            presenceChildren.set(childId, false);\n            return () => presenceChildren.delete(childId);\n        },\n    }), \n    /**\n     * If the presence of a child affects the layout of the components around it,\n     * we want to make a new context value to ensure they get re-rendered\n     * so they can detect that layout change.\n     */\n    presenceAffectsLayout\n        ? [Math.random(), memoizedOnExitComplete]\n        : [isPresent, memoizedOnExitComplete]);\n    useMemo(() => {\n        presenceChildren.forEach((_, key) => presenceChildren.set(key, false));\n    }, [isPresent]);\n    /**\n     * If there's no `motion` components to fire exit animations, we want to remove this\n     * component immediately.\n     */\n    React.useEffect(() => {\n        !isPresent &&\n            !presenceChildren.size &&\n            onExitComplete &&\n            onExitComplete();\n    }, [isPresent]);\n    if (mode === \"popLayout\") {\n        children = jsx(PopChild, { isPresent: isPresent, children: children });\n    }\n    return (jsx(PresenceContext.Provider, { value: context, children: children }));\n};\nfunction newChildrenMap() {\n    return new Map();\n}\n\nexport { PresenceChild };\n","import { Children, isValidElement } from 'react';\n\nconst getChildKey = (child) => child.key || \"\";\nfunction onlyElements(children) {\n    const filtered = [];\n    // We use forEach here instead of map as map mutates the component key by preprending `.$`\n    Children.forEach(children, (child) => {\n        if (isValidElement(child))\n            filtered.push(child);\n    });\n    return filtered;\n}\n\nexport { getChildKey, onlyElements };\n","\"use client\";\nimport { jsx, Fragment } from 'react/jsx-runtime';\nimport { useMemo, useRef, useState, useContext } from 'react';\nimport { LayoutGroupContext } from '../../context/LayoutGroupContext.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { PresenceChild } from './PresenceChild.mjs';\nimport { usePresence } from './use-presence.mjs';\nimport { onlyElements, getChildKey } from './utils.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\n\n/**\n * `AnimatePresence` enables the animation of components that have been removed from the tree.\n *\n * When adding/removing more than a single child, every child **must** be given a unique `key` prop.\n *\n * Any `motion` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { motion, AnimatePresence } from 'framer-motion'\n *\n * export const Items = ({ items }) => (\n *   <AnimatePresence>\n *     {items.map(item => (\n *       <motion.div\n *         key={item.id}\n *         initial={{ opacity: 0 }}\n *         animate={{ opacity: 1 }}\n *         exit={{ opacity: 0 }}\n *       />\n *     ))}\n *   </AnimatePresence>\n * )\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * If a child contains multiple `motion` components with `exit` props, it will only unmount the child\n * once all `motion` components have finished animating out. Likewise, any components using\n * `usePresence` all need to call `safeToRemove`.\n *\n * @public\n */\nconst AnimatePresence = ({ children, custom, initial = true, onExitComplete, presenceAffectsLayout = true, mode = \"sync\", propagate = false, }) => {\n    const [isParentPresent, safeToRemove] = usePresence(propagate);\n    /**\n     * Filter any children that aren't ReactElements. We can only track components\n     * between renders with a props.key.\n     */\n    const presentChildren = useMemo(() => onlyElements(children), [children]);\n    /**\n     * Track the keys of the currently rendered children. This is used to\n     * determine which children are exiting.\n     */\n    const presentKeys = propagate && !isParentPresent ? [] : presentChildren.map(getChildKey);\n    /**\n     * If `initial={false}` we only want to pass this to components in the first render.\n     */\n    const isInitialRender = useRef(true);\n    /**\n     * A ref containing the currently present children. When all exit animations\n     * are complete, we use this to re-render the component with the latest children\n     * *committed* rather than the latest children *rendered*.\n     */\n    const pendingPresentChildren = useRef(presentChildren);\n    /**\n     * Track which exiting children have finished animating out.\n     */\n    const exitComplete = useConstant(() => new Map());\n    /**\n     * Save children to render as React state. To ensure this component is concurrent-safe,\n     * we check for exiting children via an effect.\n     */\n    const [diffedChildren, setDiffedChildren] = useState(presentChildren);\n    const [renderedChildren, setRenderedChildren] = useState(presentChildren);\n    useIsomorphicLayoutEffect(() => {\n        isInitialRender.current = false;\n        pendingPresentChildren.current = presentChildren;\n        /**\n         * Update complete status of exiting children.\n         */\n        for (let i = 0; i < renderedChildren.length; i++) {\n            const key = getChildKey(renderedChildren[i]);\n            if (!presentKeys.includes(key)) {\n                if (exitComplete.get(key) !== true) {\n                    exitComplete.set(key, false);\n                }\n            }\n            else {\n                exitComplete.delete(key);\n            }\n        }\n    }, [renderedChildren, presentKeys.length, presentKeys.join(\"-\")]);\n    const exitingChildren = [];\n    if (presentChildren !== diffedChildren) {\n        let nextChildren = [...presentChildren];\n        /**\n         * Loop through all the currently rendered components and decide which\n         * are exiting.\n         */\n        for (let i = 0; i < renderedChildren.length; i++) {\n            const child = renderedChildren[i];\n            const key = getChildKey(child);\n            if (!presentKeys.includes(key)) {\n                nextChildren.splice(i, 0, child);\n                exitingChildren.push(child);\n            }\n        }\n        /**\n         * If we're in \"wait\" mode, and we have exiting children, we want to\n         * only render these until they've all exited.\n         */\n        if (mode === \"wait\" && exitingChildren.length) {\n            nextChildren = exitingChildren;\n        }\n        setRenderedChildren(onlyElements(nextChildren));\n        setDiffedChildren(presentChildren);\n        /**\n         * Early return to ensure once we've set state with the latest diffed\n         * children, we can immediately re-render.\n         */\n        return;\n    }\n    if (process.env.NODE_ENV !== \"production\" &&\n        mode === \"wait\" &&\n        renderedChildren.length > 1) {\n        console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to \"wait\". This will lead to odd visual behaviour.`);\n    }\n    /**\n     * If we've been provided a forceRender function by the LayoutGroupContext,\n     * we can use it to force a re-render amongst all surrounding components once\n     * all components have finished animating out.\n     */\n    const { forceRender } = useContext(LayoutGroupContext);\n    return (jsx(Fragment, { children: renderedChildren.map((child) => {\n            const key = getChildKey(child);\n            const isPresent = propagate && !isParentPresent\n                ? false\n                : presentChildren === renderedChildren ||\n                    presentKeys.includes(key);\n            const onExit = () => {\n                if (exitComplete.has(key)) {\n                    exitComplete.set(key, true);\n                }\n                else {\n                    return;\n                }\n                let isEveryExitComplete = true;\n                exitComplete.forEach((isExitComplete) => {\n                    if (!isExitComplete)\n                        isEveryExitComplete = false;\n                });\n                if (isEveryExitComplete) {\n                    forceRender === null || forceRender === void 0 ? void 0 : forceRender();\n                    setRenderedChildren(pendingPresentChildren.current);\n                    propagate && (safeToRemove === null || safeToRemove === void 0 ? void 0 : safeToRemove());\n                    onExitComplete && onExitComplete();\n                }\n            };\n            return (jsx(PresenceChild, { isPresent: isPresent, initial: !isInitialRender.current || initial\n                    ? undefined\n                    : false, custom: isPresent ? undefined : custom, presenceAffectsLayout: presenceAffectsLayout, mode: mode, onExitComplete: isPresent ? undefined : onExit, children: child }, key));\n        }) }));\n};\n\nexport { AnimatePresence };\n","\"use client\"\r\n\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport * as React from \"react\"\r\nimport {\r\n  Controller,\r\n  FormProvider,\r\n  useFormContext,\r\n  useFormState,\r\n  type ControllerProps,\r\n  type FieldPath,\r\n  type FieldValues,\r\n} from \"react-hook-form\"\r\n\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Form = FormProvider\r\n\r\ntype FormFieldContextValue<\r\n  TFieldValues extends FieldValues = FieldValues,\r\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\r\n> = {\r\n  name: TName\r\n}\r\n\r\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\r\n  {} as FormFieldContextValue\r\n)\r\n\r\nconst FormField = <\r\n  TFieldValues extends FieldValues = FieldValues,\r\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\r\n>({\r\n  ...props\r\n}: ControllerProps<TFieldValues, TName>) => {\r\n  return (\r\n    <FormFieldContext.Provider value={{ name: props.name }}>\r\n      <Controller {...props} />\r\n    </FormFieldContext.Provider>\r\n  )\r\n}\r\n\r\nconst useFormField = () => {\r\n  const fieldContext = React.useContext(FormFieldContext)\r\n  const itemContext = React.useContext(FormItemContext)\r\n  const { getFieldState } = useFormContext()\r\n  const formState = useFormState({ name: fieldContext.name })\r\n  const fieldState = getFieldState(fieldContext.name, formState)\r\n\r\n  if (!fieldContext) {\r\n    throw new Error(\"useFormField should be used within <FormField>\")\r\n  }\r\n\r\n  const { id } = itemContext\r\n\r\n  return {\r\n    id,\r\n    name: fieldContext.name,\r\n    formItemId: `${id}-form-item`,\r\n    formDescriptionId: `${id}-form-item-description`,\r\n    formMessageId: `${id}-form-item-message`,\r\n    ...fieldState,\r\n  }\r\n}\r\n\r\ntype FormItemContextValue = {\r\n  id: string\r\n}\r\n\r\nconst FormItemContext = React.createContext<FormItemContextValue>(\r\n  {} as FormItemContextValue\r\n)\r\n\r\nfunction FormItem({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  const id = React.useId()\r\n\r\n  return (\r\n    <FormItemContext.Provider value={{ id }}>\r\n      <div\r\n        data-slot=\"form-item\"\r\n        className={cn(\"grid gap-2\", className)}\r\n        {...props}\r\n      />\r\n    </FormItemContext.Provider>\r\n  )\r\n}\r\n\r\nfunction FormLabel({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\r\n  const { error, formItemId } = useFormField()\r\n\r\n  return (\r\n    <Label\r\n      data-slot=\"form-label\"\r\n      data-error={!!error}\r\n      className={cn(\"data-[error=true]:text-destructive\", className)}\r\n      htmlFor={formItemId}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction FormControl({ ...props }: React.ComponentProps<typeof Slot>) {\r\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\r\n\r\n  return (\r\n    <Slot\r\n      data-slot=\"form-control\"\r\n      id={formItemId}\r\n      aria-describedby={\r\n        !error\r\n          ? `${formDescriptionId}`\r\n          : `${formDescriptionId} ${formMessageId}`\r\n      }\r\n      aria-invalid={!!error}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction FormDescription({ className, ...props }: React.ComponentProps<\"p\">) {\r\n  const { formDescriptionId } = useFormField()\r\n\r\n  return (\r\n    <p\r\n      data-slot=\"form-description\"\r\n      id={formDescriptionId}\r\n      className={cn(\"text-muted-foreground text-sm\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction FormMessage({ className, ...props }: React.ComponentProps<\"p\">) {\r\n  const { error, formMessageId } = useFormField()\r\n  const body = error ? String(error?.message ?? \"\") : props.children\r\n\r\n  if (!body) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <p\r\n      data-slot=\"form-message\"\r\n      id={formMessageId}\r\n      className={cn(\"text-destructive text-sm\", className)}\r\n      {...props}\r\n    >\r\n      {body}\r\n    </p>\r\n  )\r\n}\r\n\r\nexport {\r\n  useFormField,\r\n  Form,\r\n  FormItem,\r\n  FormLabel,\r\n  FormControl,\r\n  FormDescription,\r\n  FormMessage,\r\n  FormField,\r\n}\r\n","'use client'\r\n\r\nimport * as SelectPrimitive from '@radix-ui/react-select'\r\nimport { Check, ChevronDown } from 'lucide-react'\r\nimport * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst Select = SelectPrimitive.Root\r\n\r\nconst SelectGroup = SelectPrimitive.Group\r\n\r\nconst SelectValue = SelectPrimitive.Value\r\n\r\nconst SelectTrigger = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\r\n>(({ className, children, ...props }, ref) => (\r\n  <SelectPrimitive.Trigger\r\n    ref={ref}\r\n    className={cn(\r\n      'flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    {children}\r\n    <SelectPrimitive.Icon asChild>\r\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\r\n    </SelectPrimitive.Icon>\r\n  </SelectPrimitive.Trigger>\r\n))\r\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\r\n\r\nconst SelectContent = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\r\n>(({ className, children, position = 'popper', ...props }, ref) => (\r\n  <SelectPrimitive.Portal>\r\n    <SelectPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        'relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',\r\n        position === 'popper' &&\r\n        'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\r\n        className\r\n      )}\r\n      position={position}\r\n      {...props}\r\n    >\r\n      <SelectPrimitive.Viewport\r\n        className={cn(\r\n          'p-1',\r\n          position === 'popper' &&\r\n          'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]'\r\n        )}\r\n      >\r\n        {children}\r\n      </SelectPrimitive.Viewport>\r\n    </SelectPrimitive.Content>\r\n  </SelectPrimitive.Portal>\r\n))\r\nSelectContent.displayName = SelectPrimitive.Content.displayName\r\n\r\nconst SelectLabel = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Label>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.Label\r\n    ref={ref}\r\n    className={cn('py-1.5 pl-8 pr-2 text-sm font-semibold', className)}\r\n    {...props}\r\n  />\r\n))\r\nSelectLabel.displayName = SelectPrimitive.Label.displayName\r\n\r\nconst SelectItem = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Item>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\r\n>(({ className, children, ...props }, ref) => (\r\n  <SelectPrimitive.Item\r\n    ref={ref}\r\n    className={cn(\r\n      'relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <SelectPrimitive.ItemIndicator>\r\n        <Check className=\"h-4 w-4\" />\r\n      </SelectPrimitive.ItemIndicator>\r\n    </span>\r\n\r\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\r\n  </SelectPrimitive.Item>\r\n))\r\nSelectItem.displayName = SelectPrimitive.Item.displayName\r\n\r\nconst SelectSeparator = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Separator>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.Separator\r\n    ref={ref}\r\n    className={cn('-mx-1 my-1 h-px bg-muted', className)}\r\n    {...props}\r\n  />\r\n))\r\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\r\n\r\nexport {\r\n  Select,\r\n  SelectGroup,\r\n  SelectValue,\r\n  SelectTrigger,\r\n  SelectContent,\r\n  SelectLabel,\r\n  SelectItem,\r\n  SelectSeparator,\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name CheckCircle2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtOSAxMiAyIDIgNC00IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/check-circle-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CheckCircle2 = createLucideIcon('CheckCircle2', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm9 12 2 2 4-4', key: 'dzmm74' }],\n]);\n\nexport default CheckCircle2;\n"],"names":["Card","React","className","props","ref","motion","div","cn","whileHover","scale","boxShadow","transition","type","stiffness","damping","displayName","CardHeader","CardTitle","h3","CardDescription","p","CardContent","CardFooter","profileSchema","z","fullName","min","message","country","destinationCountry","visaType","optional","goals","max","preferredLanguage","default","ProfileSetup","onboarding","completeStep","user","useOnboarding","isSubmitting","setIsSubmitting","useState","isCompletedUI","setIsCompletedUI","stepConfig","getStepById","profileConfig","profileSetupConfig","supabase","createBrowserClient","process","form","useForm","resolver","zodResolver","defaultValues","languages","find","lang","value","isActive","currentStep","hideForSession","isCompleted","onSubmit","data","toast","error","actionKey","from","upsert","id","first_name","split","last_name","slice","join","country_of_residence","country_of_interest","visa_type","immigration_goals","language","updated_at","Date","toISOString","onConflict","console","fetch","method","headers","body","JSON","stringify","catch","err","success","setTimeout","AnimatePresence","initial","opacity","animate","exit","title","description","Form","handleSubmit","PersonalInformationForm","countries","ImmigrationStatusForm","destinations","PreferencesForm","mode","y","CheckCircle2","size","Button","disabled","onClick","Loader2","Label","LabelPrimitive","data-slot","Textarea","textarea","FormField","control","name","render","field","FormItem","FormLabel","Select","onValueChange","onChange","defaultValue","FormControl","SelectTrigger","SelectValue","placeholder","SelectContent","map","option","SelectItem","label","FormMessage","Input","rows","PopChildMeasure","getSnapshotBeforeUpdate","prevProps","element","childRef","current","isPresent","sizeRef","height","offsetHeight","width","offsetWidth","top","offsetTop","left","offsetLeft","componentDidUpdate","children","PopChild","useId","useRef","nonce","useContext","MotionConfigContext","useInsertionEffect","dataset","motionPopId","style","document","createElement","head","appendChild","sheet","insertRule","removeChild","jsx","PresenceChild","onExitComplete","custom","presenceAffectsLayout","presenceChildren","useConstant","newChildrenMap","memoizedOnExitComplete","useCallback","isComplete","set","childId","values","context","useMemo","register","delete","Math","random","forEach","_","key","PresenceContext","Provider","Map","propagate","isParentPresent","safeToRemove","usePresence","presentChildren","onlyElements","presentKeys","getChildKey","isInitialRender","pendingPresentChildren","exitComplete","diffedChildren","setDiffedChildren","renderedChildren","setRenderedChildren","useIsomorphicLayoutEffect","i","length","includes","get","exitingChildren","nextChildren","child","splice","push","forceRender","LayoutGroupContext","Fragment","undefined","onExit","has","isEveryExitComplete","FormProvider","FormFieldContext","Controller","useFormField","fieldContext","itemContext","FormItemContext","getFieldState","useFormContext","formState","useFormState","fieldState","formItemId","formDescriptionId","formMessageId","data-error","htmlFor","Slot","aria-describedby","aria-invalid","String","SelectPrimitive","asChild","ChevronDown","position","span","Check"],"sourceRoot":""}